var DT=Object.defineProperty;var Hx=e=>{throw TypeError(e)};var AT=(e,t,r)=>t in e?DT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Kc=(e,t,r)=>AT(e,typeof t!="symbol"?t+"":t,r),nf=(e,t,r)=>t.has(e)||Hx("Cannot "+r);var ee=(e,t,r)=>(nf(e,t,"read from private field"),r?r.call(e):t.get(e)),Je=(e,t,r)=>t.has(e)?Hx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Re=(e,t,r,n)=>(nf(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),gr=(e,t,r)=>(nf(e,t,"access private method"),r);var Qc=(e,t,r,n)=>({set _(o){Re(e,t,o,r)},get _(){return ee(e,t,n)}});function Cb(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();function Eb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function IT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var kb={exports:{}},qu={},Tb={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jc=Symbol.for("react.element"),MT=Symbol.for("react.portal"),$T=Symbol.for("react.fragment"),LT=Symbol.for("react.strict_mode"),FT=Symbol.for("react.profiler"),UT=Symbol.for("react.provider"),BT=Symbol.for("react.context"),zT=Symbol.for("react.forward_ref"),VT=Symbol.for("react.suspense"),WT=Symbol.for("react.memo"),HT=Symbol.for("react.lazy"),qx=Symbol.iterator;function qT(e){return e===null||typeof e!="object"?null:(e=qx&&e[qx]||e["@@iterator"],typeof e=="function"?e:null)}var Pb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rb=Object.assign,Ob={};function Ua(e,t,r){this.props=e,this.context=t,this.refs=Ob,this.updater=r||Pb}Ua.prototype.isReactComponent={};Ua.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ua.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Db(){}Db.prototype=Ua.prototype;function xg(e,t,r){this.props=e,this.context=t,this.refs=Ob,this.updater=r||Pb}var yg=xg.prototype=new Db;yg.constructor=xg;Rb(yg,Ua.prototype);yg.isPureReactComponent=!0;var Gx=Array.isArray,Ab=Object.prototype.hasOwnProperty,wg={current:null},Ib={key:!0,ref:!0,__self:!0,__source:!0};function Mb(e,t,r){var n,o={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Ab.call(t,n)&&!Ib.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(l===1)o.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)o[n]===void 0&&(o[n]=l[n]);return{$$typeof:jc,type:e,key:i,ref:a,props:o,_owner:wg.current}}function GT(e,t){return{$$typeof:jc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bg(e){return typeof e=="object"&&e!==null&&e.$$typeof===jc}function YT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Yx=/\/+/g;function sf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?YT(""+e.key):t.toString(36)}function Ad(e,t,r,n,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case jc:case MT:a=!0}}if(a)return a=e,o=o(a),e=n===""?"."+sf(a,0):n,Gx(o)?(r="",e!=null&&(r=e.replace(Yx,"$&/")+"/"),Ad(o,t,r,"",function(d){return d})):o!=null&&(bg(o)&&(o=GT(o,r+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(Yx,"$&/")+"/")+e)),t.push(o)),1;if(a=0,n=n===""?".":n+":",Gx(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+sf(i,l);a+=Ad(i,t,r,c,o)}else if(c=qT(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+sf(i,l++),a+=Ad(i,t,r,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Jc(e,t,r){if(e==null)return e;var n=[],o=0;return Ad(e,n,"","",function(i){return t.call(r,i,o++)}),n}function KT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Mr={current:null},Id={transition:null},QT={ReactCurrentDispatcher:Mr,ReactCurrentBatchConfig:Id,ReactCurrentOwner:wg};function $b(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:Jc,forEach:function(e,t,r){Jc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Jc(e,function(){t++}),t},toArray:function(e){return Jc(e,function(t){return t})||[]},only:function(e){if(!bg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ye.Component=Ua;Ye.Fragment=$T;Ye.Profiler=FT;Ye.PureComponent=xg;Ye.StrictMode=LT;Ye.Suspense=VT;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QT;Ye.act=$b;Ye.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Rb({},e.props),o=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=wg.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Ab.call(t,c)&&!Ib.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:jc,type:e.type,key:o,ref:i,props:n,_owner:a}};Ye.createContext=function(e){return e={$$typeof:BT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:UT,_context:e},e.Consumer=e};Ye.createElement=Mb;Ye.createFactory=function(e){var t=Mb.bind(null,e);return t.type=e,t};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(e){return{$$typeof:zT,render:e}};Ye.isValidElement=bg;Ye.lazy=function(e){return{$$typeof:HT,_payload:{_status:-1,_result:e},_init:KT}};Ye.memo=function(e,t){return{$$typeof:WT,type:e,compare:t===void 0?null:t}};Ye.startTransition=function(e){var t=Id.transition;Id.transition={};try{e()}finally{Id.transition=t}};Ye.unstable_act=$b;Ye.useCallback=function(e,t){return Mr.current.useCallback(e,t)};Ye.useContext=function(e){return Mr.current.useContext(e)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(e){return Mr.current.useDeferredValue(e)};Ye.useEffect=function(e,t){return Mr.current.useEffect(e,t)};Ye.useId=function(){return Mr.current.useId()};Ye.useImperativeHandle=function(e,t,r){return Mr.current.useImperativeHandle(e,t,r)};Ye.useInsertionEffect=function(e,t){return Mr.current.useInsertionEffect(e,t)};Ye.useLayoutEffect=function(e,t){return Mr.current.useLayoutEffect(e,t)};Ye.useMemo=function(e,t){return Mr.current.useMemo(e,t)};Ye.useReducer=function(e,t,r){return Mr.current.useReducer(e,t,r)};Ye.useRef=function(e){return Mr.current.useRef(e)};Ye.useState=function(e){return Mr.current.useState(e)};Ye.useSyncExternalStore=function(e,t,r){return Mr.current.useSyncExternalStore(e,t,r)};Ye.useTransition=function(){return Mr.current.useTransition()};Ye.version="18.3.1";Tb.exports=Ye;var h=Tb.exports;const ae=Eb(h),Gu=Cb({__proto__:null,default:ae},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JT=h,XT=Symbol.for("react.element"),ZT=Symbol.for("react.fragment"),eP=Object.prototype.hasOwnProperty,tP=JT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rP={key:!0,ref:!0,__self:!0,__source:!0};function Lb(e,t,r){var n,o={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)eP.call(t,n)&&!rP.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:XT,type:e,key:i,ref:a,props:o,_owner:tP.current}}qu.Fragment=ZT;qu.jsx=Lb;qu.jsxs=Lb;kb.exports=qu;var s=kb.exports,Fb={exports:{}},mn={},Ub={exports:{}},Bb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,$){var Y=D.length;D.push($);e:for(;0<Y;){var C=Y-1>>>1,k=D[C];if(0<o(k,$))D[C]=$,D[Y]=k,Y=C;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var $=D[0],Y=D.pop();if(Y!==$){D[0]=Y;e:for(var C=0,k=D.length,L=k>>>1;C<L;){var z=2*(C+1)-1,G=D[z],X=z+1,Q=D[X];if(0>o(G,Y))X<k&&0>o(Q,G)?(D[C]=Q,D[X]=Y,C=X):(D[C]=G,D[z]=Y,C=z);else if(X<k&&0>o(Q,Y))D[C]=Q,D[X]=Y,C=X;else break e}}return $}function o(D,$){var Y=D.sortIndex-$.sortIndex;return Y!==0?Y:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],d=[],u=1,m=null,p=3,f=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var $=r(d);$!==null;){if($.callback===null)n(d);else if($.startTime<=D)n(d),$.sortIndex=$.expirationTime,t(c,$);else break;$=r(d)}}function j(D){if(g=!1,b(D),!y)if(r(c)!==null)y=!0,q(T);else{var $=r(d);$!==null&&I(j,$.startTime-D)}}function T(D,$){y=!1,g&&(g=!1,w(E),E=-1),f=!0;var Y=p;try{for(b($),m=r(c);m!==null&&(!(m.expirationTime>$)||D&&!_());){var C=m.callback;if(typeof C=="function"){m.callback=null,p=m.priorityLevel;var k=C(m.expirationTime<=$);$=e.unstable_now(),typeof k=="function"?m.callback=k:m===r(c)&&n(c),b($)}else n(c);m=r(c)}if(m!==null)var L=!0;else{var z=r(d);z!==null&&I(j,z.startTime-$),L=!1}return L}finally{m=null,p=Y,f=!1}}var S=!1,N=null,E=-1,R=5,P=-1;function _(){return!(e.unstable_now()-P<R)}function O(){if(N!==null){var D=e.unstable_now();P=D;var $=!0;try{$=N(!0,D)}finally{$?M():(S=!1,N=null)}}else S=!1}var M;if(typeof x=="function")M=function(){x(O)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,H=A.port2;A.port1.onmessage=O,M=function(){H.postMessage(null)}}else M=function(){v(O,0)};function q(D){N=D,S||(S=!0,M())}function I(D,$){E=v(function(){D(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||f||(y=!0,q(T))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var Y=p;p=$;try{return D()}finally{p=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Y=p;p=D;try{return $()}finally{p=Y}},e.unstable_scheduleCallback=function(D,$,Y){var C=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?C+Y:C):Y=C,D){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=Y+k,D={id:u++,callback:$,priorityLevel:D,startTime:Y,expirationTime:k,sortIndex:-1},Y>C?(D.sortIndex=Y,t(d,D),r(c)===null&&D===r(d)&&(g?(w(E),E=-1):g=!0,I(j,Y-C))):(D.sortIndex=k,t(c,D),y||f||(y=!0,q(T))),D},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(D){var $=p;return function(){var Y=p;p=$;try{return D.apply(this,arguments)}finally{p=Y}}}})(Bb);Ub.exports=Bb;var nP=Ub.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sP=h,hn=nP;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zb=new Set,Ul={};function vi(e,t){Na(e,t),Na(e+"Capture",t)}function Na(e,t){for(Ul[e]=t,e=0;e<t.length;e++)zb.add(t[e])}var As=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cm=Object.prototype.hasOwnProperty,oP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kx={},Qx={};function iP(e){return Cm.call(Qx,e)?!0:Cm.call(Kx,e)?!1:oP.test(e)?Qx[e]=!0:(Kx[e]=!0,!1)}function aP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lP(e,t,r,n){if(t===null||typeof t>"u"||aP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $r(e,t,r,n,o,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mr[e]=new $r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mr[t]=new $r(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mr[e]=new $r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mr[e]=new $r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mr[e]=new $r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mr[e]=new $r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mr[e]=new $r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mr[e]=new $r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mr[e]=new $r(e,5,!1,e.toLowerCase(),null,!1,!1)});var jg=/[\-:]([a-z])/g;function Ng(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jg,Ng);mr[t]=new $r(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jg,Ng);mr[t]=new $r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jg,Ng);mr[t]=new $r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mr[e]=new $r(e,1,!1,e.toLowerCase(),null,!1,!1)});mr.xlinkHref=new $r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mr[e]=new $r(e,1,!1,e.toLowerCase(),null,!0,!0)});function _g(e,t,r,n){var o=mr.hasOwnProperty(t)?mr[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lP(t,r,o,n)&&(r=null),n||o===null?iP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Us=sP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xc=Symbol.for("react.element"),Hi=Symbol.for("react.portal"),qi=Symbol.for("react.fragment"),Sg=Symbol.for("react.strict_mode"),Em=Symbol.for("react.profiler"),Vb=Symbol.for("react.provider"),Wb=Symbol.for("react.context"),Cg=Symbol.for("react.forward_ref"),km=Symbol.for("react.suspense"),Tm=Symbol.for("react.suspense_list"),Eg=Symbol.for("react.memo"),Ks=Symbol.for("react.lazy"),Hb=Symbol.for("react.offscreen"),Jx=Symbol.iterator;function il(e){return e===null||typeof e!="object"?null:(e=Jx&&e[Jx]||e["@@iterator"],typeof e=="function"?e:null)}var Tt=Object.assign,of;function wl(e){if(of===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);of=t&&t[1]||""}return`
`+of+e}var af=!1;function lf(e,t){if(!e||af)return"";af=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),i=n.stack.split(`
`),a=o.length-1,l=i.length-1;1<=a&&0<=l&&o[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||o[a]!==i[l]){var c=`
`+o[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{af=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?wl(e):""}function cP(e){switch(e.tag){case 5:return wl(e.type);case 16:return wl("Lazy");case 13:return wl("Suspense");case 19:return wl("SuspenseList");case 0:case 2:case 15:return e=lf(e.type,!1),e;case 11:return e=lf(e.type.render,!1),e;case 1:return e=lf(e.type,!0),e;default:return""}}function Pm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qi:return"Fragment";case Hi:return"Portal";case Em:return"Profiler";case Sg:return"StrictMode";case km:return"Suspense";case Tm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wb:return(e.displayName||"Context")+".Consumer";case Vb:return(e._context.displayName||"Context")+".Provider";case Cg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Eg:return t=e.displayName||null,t!==null?t:Pm(e.type)||"Memo";case Ks:t=e._payload,e=e._init;try{return Pm(e(t))}catch{}}return null}function dP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pm(t);case 8:return t===Sg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uP(e){var t=qb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zc(e){e._valueTracker||(e._valueTracker=uP(e))}function Gb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=qb(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Xd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rm(e,t){var r=t.checked;return Tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Xx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=yo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yb(e,t){t=t.checked,t!=null&&_g(e,"checked",t,!1)}function Om(e,t){Yb(e,t);var r=yo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Dm(e,t.type,yo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Dm(e,t,r){(t!=="number"||Xd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var bl=Array.isArray;function sa(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+yo(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Am(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return Tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function e0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ne(92));if(bl(r)){if(1<r.length)throw Error(ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:yo(r)}}function Kb(e,t){var r=yo(t.value),n=yo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function t0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Im(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ed,Jb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ed=ed||document.createElement("div"),ed.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ed.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var El={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hP=["Webkit","ms","Moz","O"];Object.keys(El).forEach(function(e){hP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),El[t]=El[e]})});function Xb(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||El.hasOwnProperty(e)&&El[e]?(""+t).trim():t+"px"}function Zb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=Xb(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var fP=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mm(e,t){if(t){if(fP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function $m(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lm=null;function kg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fm=null,oa=null,ia=null;function r0(e){if(e=Sc(e)){if(typeof Fm!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=Xu(t),Fm(e.stateNode,e.type,t))}}function ej(e){oa?ia?ia.push(e):ia=[e]:oa=e}function tj(){if(oa){var e=oa,t=ia;if(ia=oa=null,r0(e),t)for(e=0;e<t.length;e++)r0(t[e])}}function rj(e,t){return e(t)}function nj(){}var cf=!1;function sj(e,t,r){if(cf)return e(t,r);cf=!0;try{return rj(e,t,r)}finally{cf=!1,(oa!==null||ia!==null)&&(nj(),tj())}}function zl(e,t){var r=e.stateNode;if(r===null)return null;var n=Xu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ne(231,t,typeof r));return r}var Um=!1;if(As)try{var al={};Object.defineProperty(al,"passive",{get:function(){Um=!0}}),window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{Um=!1}function mP(e,t,r,n,o,i,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var kl=!1,Zd=null,eu=!1,Bm=null,pP={onError:function(e){kl=!0,Zd=e}};function gP(e,t,r,n,o,i,a,l,c){kl=!1,Zd=null,mP.apply(pP,arguments)}function vP(e,t,r,n,o,i,a,l,c){if(gP.apply(this,arguments),kl){if(kl){var d=Zd;kl=!1,Zd=null}else throw Error(ne(198));eu||(eu=!0,Bm=d)}}function xi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function oj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function n0(e){if(xi(e)!==e)throw Error(ne(188))}function xP(e){var t=e.alternate;if(!t){if(t=xi(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var i=o.alternate;if(i===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return n0(o),e;if(i===n)return n0(o),t;i=i.sibling}throw Error(ne(188))}if(r.return!==n.return)r=o,n=i;else{for(var a=!1,l=o.child;l;){if(l===r){a=!0,r=o,n=i;break}if(l===n){a=!0,n=o,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=o;break}if(l===n){a=!0,n=i,r=o;break}l=l.sibling}if(!a)throw Error(ne(189))}}if(r.alternate!==n)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?e:t}function ij(e){return e=xP(e),e!==null?aj(e):null}function aj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=aj(e);if(t!==null)return t;e=e.sibling}return null}var lj=hn.unstable_scheduleCallback,s0=hn.unstable_cancelCallback,yP=hn.unstable_shouldYield,wP=hn.unstable_requestPaint,$t=hn.unstable_now,bP=hn.unstable_getCurrentPriorityLevel,Tg=hn.unstable_ImmediatePriority,cj=hn.unstable_UserBlockingPriority,tu=hn.unstable_NormalPriority,jP=hn.unstable_LowPriority,dj=hn.unstable_IdlePriority,Yu=null,ms=null;function NP(e){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(Yu,e,void 0,(e.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:CP,_P=Math.log,SP=Math.LN2;function CP(e){return e>>>=0,e===0?32:31-(_P(e)/SP|0)|0}var td=64,rd=4194304;function jl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ru(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~o;l!==0?n=jl(l):(i&=a,i!==0&&(n=jl(i)))}else a=r&~o,a!==0?n=jl(a):i!==0&&(n=jl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Wn(t),o=1<<r,n|=e[r],t&=~o;return n}function EP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Wn(i),l=1<<a,c=o[a];c===-1?(!(l&r)||l&n)&&(o[a]=EP(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function zm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uj(){var e=td;return td<<=1,!(td&4194240)&&(td=64),e}function df(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Nc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wn(t),e[t]=r}function TP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-Wn(r),i=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~i}}function Pg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Wn(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var ot=0;function hj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fj,Rg,mj,pj,gj,Vm=!1,nd=[],uo=null,ho=null,fo=null,Vl=new Map,Wl=new Map,Js=[],PP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function o0(e,t){switch(e){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":Vl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(t.pointerId)}}function ll(e,t,r,n,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Sc(t),t!==null&&Rg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function RP(e,t,r,n,o){switch(t){case"focusin":return uo=ll(uo,e,t,r,n,o),!0;case"dragenter":return ho=ll(ho,e,t,r,n,o),!0;case"mouseover":return fo=ll(fo,e,t,r,n,o),!0;case"pointerover":var i=o.pointerId;return Vl.set(i,ll(Vl.get(i)||null,e,t,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,Wl.set(i,ll(Wl.get(i)||null,e,t,r,n,o)),!0}return!1}function vj(e){var t=Ho(e.target);if(t!==null){var r=xi(t);if(r!==null){if(t=r.tag,t===13){if(t=oj(r),t!==null){e.blockedOn=t,gj(e.priority,function(){mj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Md(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Lm=n,r.target.dispatchEvent(n),Lm=null}else return t=Sc(r),t!==null&&Rg(t),e.blockedOn=r,!1;t.shift()}return!0}function i0(e,t,r){Md(e)&&r.delete(t)}function OP(){Vm=!1,uo!==null&&Md(uo)&&(uo=null),ho!==null&&Md(ho)&&(ho=null),fo!==null&&Md(fo)&&(fo=null),Vl.forEach(i0),Wl.forEach(i0)}function cl(e,t){e.blockedOn===t&&(e.blockedOn=null,Vm||(Vm=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,OP)))}function Hl(e){function t(o){return cl(o,e)}if(0<nd.length){cl(nd[0],e);for(var r=1;r<nd.length;r++){var n=nd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(uo!==null&&cl(uo,e),ho!==null&&cl(ho,e),fo!==null&&cl(fo,e),Vl.forEach(t),Wl.forEach(t),r=0;r<Js.length;r++)n=Js[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Js.length&&(r=Js[0],r.blockedOn===null);)vj(r),r.blockedOn===null&&Js.shift()}var aa=Us.ReactCurrentBatchConfig,nu=!0;function DP(e,t,r,n){var o=ot,i=aa.transition;aa.transition=null;try{ot=1,Og(e,t,r,n)}finally{ot=o,aa.transition=i}}function AP(e,t,r,n){var o=ot,i=aa.transition;aa.transition=null;try{ot=4,Og(e,t,r,n)}finally{ot=o,aa.transition=i}}function Og(e,t,r,n){if(nu){var o=Wm(e,t,r,n);if(o===null)wf(e,t,n,su,r),o0(e,n);else if(RP(o,e,t,r,n))n.stopPropagation();else if(o0(e,n),t&4&&-1<PP.indexOf(e)){for(;o!==null;){var i=Sc(o);if(i!==null&&fj(i),i=Wm(e,t,r,n),i===null&&wf(e,t,n,su,r),i===o)break;o=i}o!==null&&n.stopPropagation()}else wf(e,t,n,null,r)}}var su=null;function Wm(e,t,r,n){if(su=null,e=kg(n),e=Ho(e),e!==null)if(t=xi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=oj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return su=e,null}function xj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bP()){case Tg:return 1;case cj:return 4;case tu:case jP:return 16;case dj:return 536870912;default:return 16}default:return 16}}var ao=null,Dg=null,$d=null;function yj(){if($d)return $d;var e,t=Dg,r=t.length,n,o="value"in ao?ao.value:ao.textContent,i=o.length;for(e=0;e<r&&t[e]===o[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===o[i-n];n++);return $d=o.slice(e,1<n?1-n:void 0)}function Ld(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sd(){return!0}function a0(){return!1}function pn(e){function t(r,n,o,i,a){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sd:a0,this.isPropagationStopped=a0,this}return Tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),t}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ag=pn(Ba),_c=Tt({},Ba,{view:0,detail:0}),IP=pn(_c),uf,hf,dl,Ku=Tt({},_c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ig,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dl&&(dl&&e.type==="mousemove"?(uf=e.screenX-dl.screenX,hf=e.screenY-dl.screenY):hf=uf=0,dl=e),uf)},movementY:function(e){return"movementY"in e?e.movementY:hf}}),l0=pn(Ku),MP=Tt({},Ku,{dataTransfer:0}),$P=pn(MP),LP=Tt({},_c,{relatedTarget:0}),ff=pn(LP),FP=Tt({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),UP=pn(FP),BP=Tt({},Ba,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zP=pn(BP),VP=Tt({},Ba,{data:0}),c0=pn(VP),WP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qP[e])?!!t[e]:!1}function Ig(){return GP}var YP=Tt({},_c,{key:function(e){if(e.key){var t=WP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ld(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?HP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ig,charCode:function(e){return e.type==="keypress"?Ld(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ld(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),KP=pn(YP),QP=Tt({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d0=pn(QP),JP=Tt({},_c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ig}),XP=pn(JP),ZP=Tt({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),e4=pn(ZP),t4=Tt({},Ku,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),r4=pn(t4),n4=[9,13,27,32],Mg=As&&"CompositionEvent"in window,Tl=null;As&&"documentMode"in document&&(Tl=document.documentMode);var s4=As&&"TextEvent"in window&&!Tl,wj=As&&(!Mg||Tl&&8<Tl&&11>=Tl),u0=" ",h0=!1;function bj(e,t){switch(e){case"keyup":return n4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gi=!1;function o4(e,t){switch(e){case"compositionend":return jj(t);case"keypress":return t.which!==32?null:(h0=!0,u0);case"textInput":return e=t.data,e===u0&&h0?null:e;default:return null}}function i4(e,t){if(Gi)return e==="compositionend"||!Mg&&bj(e,t)?(e=yj(),$d=Dg=ao=null,Gi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wj&&t.locale!=="ko"?null:t.data;default:return null}}var a4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!a4[e.type]:t==="textarea"}function Nj(e,t,r,n){ej(n),t=ou(t,"onChange"),0<t.length&&(r=new Ag("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Pl=null,ql=null;function l4(e){Aj(e,0)}function Qu(e){var t=Qi(e);if(Gb(t))return e}function c4(e,t){if(e==="change")return t}var _j=!1;if(As){var mf;if(As){var pf="oninput"in document;if(!pf){var m0=document.createElement("div");m0.setAttribute("oninput","return;"),pf=typeof m0.oninput=="function"}mf=pf}else mf=!1;_j=mf&&(!document.documentMode||9<document.documentMode)}function p0(){Pl&&(Pl.detachEvent("onpropertychange",Sj),ql=Pl=null)}function Sj(e){if(e.propertyName==="value"&&Qu(ql)){var t=[];Nj(t,ql,e,kg(e)),sj(l4,t)}}function d4(e,t,r){e==="focusin"?(p0(),Pl=t,ql=r,Pl.attachEvent("onpropertychange",Sj)):e==="focusout"&&p0()}function u4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qu(ql)}function h4(e,t){if(e==="click")return Qu(t)}function f4(e,t){if(e==="input"||e==="change")return Qu(t)}function m4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kn=typeof Object.is=="function"?Object.is:m4;function Gl(e,t){if(Kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!Cm.call(t,o)||!Kn(e[o],t[o]))return!1}return!0}function g0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function v0(e,t){var r=g0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=g0(r)}}function Cj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ej(){for(var e=window,t=Xd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Xd(e.document)}return t}function $g(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function p4(e){var t=Ej(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Cj(r.ownerDocument.documentElement,r)){if(n!==null&&$g(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,i=Math.min(n.start,o);n=n.end===void 0?i:Math.min(n.end,o),!e.extend&&i>n&&(o=n,n=i,i=o),o=v0(r,i);var a=v0(r,n);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var g4=As&&"documentMode"in document&&11>=document.documentMode,Yi=null,Hm=null,Rl=null,qm=!1;function x0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qm||Yi==null||Yi!==Xd(n)||(n=Yi,"selectionStart"in n&&$g(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rl&&Gl(Rl,n)||(Rl=n,n=ou(Hm,"onSelect"),0<n.length&&(t=new Ag("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Yi)))}function od(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ki={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},gf={},kj={};As&&(kj=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function Ju(e){if(gf[e])return gf[e];if(!Ki[e])return e;var t=Ki[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in kj)return gf[e]=t[r];return e}var Tj=Ju("animationend"),Pj=Ju("animationiteration"),Rj=Ju("animationstart"),Oj=Ju("transitionend"),Dj=new Map,y0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _o(e,t){Dj.set(e,t),vi(t,[e])}for(var vf=0;vf<y0.length;vf++){var xf=y0[vf],v4=xf.toLowerCase(),x4=xf[0].toUpperCase()+xf.slice(1);_o(v4,"on"+x4)}_o(Tj,"onAnimationEnd");_o(Pj,"onAnimationIteration");_o(Rj,"onAnimationStart");_o("dblclick","onDoubleClick");_o("focusin","onFocus");_o("focusout","onBlur");_o(Oj,"onTransitionEnd");Na("onMouseEnter",["mouseout","mouseover"]);Na("onMouseLeave",["mouseout","mouseover"]);Na("onPointerEnter",["pointerout","pointerover"]);Na("onPointerLeave",["pointerout","pointerover"]);vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nl));function w0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,vP(n,t,void 0,e),e.currentTarget=null}function Aj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&o.isPropagationStopped())break e;w0(o,l,d),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&o.isPropagationStopped())break e;w0(o,l,d),i=c}}}if(eu)throw e=Bm,eu=!1,Bm=null,e}function wt(e,t){var r=t[Jm];r===void 0&&(r=t[Jm]=new Set);var n=e+"__bubble";r.has(n)||(Ij(t,e,2,!1),r.add(n))}function yf(e,t,r){var n=0;t&&(n|=4),Ij(r,e,n,t)}var id="_reactListening"+Math.random().toString(36).slice(2);function Yl(e){if(!e[id]){e[id]=!0,zb.forEach(function(r){r!=="selectionchange"&&(y4.has(r)||yf(r,!1,e),yf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[id]||(t[id]=!0,yf("selectionchange",!1,t))}}function Ij(e,t,r,n){switch(xj(t)){case 1:var o=DP;break;case 4:o=AP;break;default:o=Og}r=o.bind(null,t,r,e),o=void 0,!Um||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function wf(e,t,r,n,o){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;a=a.return}for(;l!==null;){if(a=Ho(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}sj(function(){var d=i,u=kg(r),m=[];e:{var p=Dj.get(e);if(p!==void 0){var f=Ag,y=e;switch(e){case"keypress":if(Ld(r)===0)break e;case"keydown":case"keyup":f=KP;break;case"focusin":y="focus",f=ff;break;case"focusout":y="blur",f=ff;break;case"beforeblur":case"afterblur":f=ff;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=l0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=$P;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=XP;break;case Tj:case Pj:case Rj:f=UP;break;case Oj:f=e4;break;case"scroll":f=IP;break;case"wheel":f=r4;break;case"copy":case"cut":case"paste":f=zP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=d0}var g=(t&4)!==0,v=!g&&e==="scroll",w=g?p!==null?p+"Capture":null:p;g=[];for(var x=d,b;x!==null;){b=x;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,w!==null&&(j=zl(x,w),j!=null&&g.push(Kl(x,j,b)))),v)break;x=x.return}0<g.length&&(p=new f(p,y,null,r,u),m.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&r!==Lm&&(y=r.relatedTarget||r.fromElement)&&(Ho(y)||y[Is]))break e;if((f||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,f?(y=r.relatedTarget||r.toElement,f=d,y=y?Ho(y):null,y!==null&&(v=xi(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=d),f!==y)){if(g=l0,j="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=d0,j="onPointerLeave",w="onPointerEnter",x="pointer"),v=f==null?p:Qi(f),b=y==null?p:Qi(y),p=new g(j,x+"leave",f,r,u),p.target=v,p.relatedTarget=b,j=null,Ho(u)===d&&(g=new g(w,x+"enter",y,r,u),g.target=b,g.relatedTarget=v,j=g),v=j,f&&y)t:{for(g=f,w=y,x=0,b=g;b;b=_i(b))x++;for(b=0,j=w;j;j=_i(j))b++;for(;0<x-b;)g=_i(g),x--;for(;0<b-x;)w=_i(w),b--;for(;x--;){if(g===w||w!==null&&g===w.alternate)break t;g=_i(g),w=_i(w)}g=null}else g=null;f!==null&&b0(m,p,f,g,!1),y!==null&&v!==null&&b0(m,v,y,g,!0)}}e:{if(p=d?Qi(d):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var T=c4;else if(f0(p))if(_j)T=f4;else{T=u4;var S=d4}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=h4);if(T&&(T=T(e,d))){Nj(m,T,r,u);break e}S&&S(e,p,d),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&Dm(p,"number",p.value)}switch(S=d?Qi(d):window,e){case"focusin":(f0(S)||S.contentEditable==="true")&&(Yi=S,Hm=d,Rl=null);break;case"focusout":Rl=Hm=Yi=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,x0(m,r,u);break;case"selectionchange":if(g4)break;case"keydown":case"keyup":x0(m,r,u)}var N;if(Mg)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Gi?bj(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(wj&&r.locale!=="ko"&&(Gi||E!=="onCompositionStart"?E==="onCompositionEnd"&&Gi&&(N=yj()):(ao=u,Dg="value"in ao?ao.value:ao.textContent,Gi=!0)),S=ou(d,E),0<S.length&&(E=new c0(E,e,null,r,u),m.push({event:E,listeners:S}),N?E.data=N:(N=jj(r),N!==null&&(E.data=N)))),(N=s4?o4(e,r):i4(e,r))&&(d=ou(d,"onBeforeInput"),0<d.length&&(u=new c0("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=N))}Aj(m,t)})}function Kl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ou(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=zl(e,r),i!=null&&n.unshift(Kl(e,i,o)),i=zl(e,t),i!=null&&n.push(Kl(e,i,o))),e=e.return}return n}function _i(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function b0(e,t,r,n,o){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,o?(c=zl(r,i),c!=null&&a.unshift(Kl(r,c,l))):o||(c=zl(r,i),c!=null&&a.push(Kl(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var w4=/\r\n?/g,b4=/\u0000|\uFFFD/g;function j0(e){return(typeof e=="string"?e:""+e).replace(w4,`
`).replace(b4,"")}function ad(e,t,r){if(t=j0(t),j0(e)!==t&&r)throw Error(ne(425))}function iu(){}var Gm=null,Ym=null;function Km(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qm=typeof setTimeout=="function"?setTimeout:void 0,j4=typeof clearTimeout=="function"?clearTimeout:void 0,N0=typeof Promise=="function"?Promise:void 0,N4=typeof queueMicrotask=="function"?queueMicrotask:typeof N0<"u"?function(e){return N0.resolve(null).then(e).catch(_4)}:Qm;function _4(e){setTimeout(function(){throw e})}function bf(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),Hl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Hl(t)}function mo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var za=Math.random().toString(36).slice(2),ds="__reactFiber$"+za,Ql="__reactProps$"+za,Is="__reactContainer$"+za,Jm="__reactEvents$"+za,S4="__reactListeners$"+za,C4="__reactHandles$"+za;function Ho(e){var t=e[ds];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Is]||r[ds]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_0(e);e!==null;){if(r=e[ds])return r;e=_0(e)}return t}e=r,r=e.parentNode}return null}function Sc(e){return e=e[ds]||e[Is],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function Xu(e){return e[Ql]||null}var Xm=[],Ji=-1;function So(e){return{current:e}}function bt(e){0>Ji||(e.current=Xm[Ji],Xm[Ji]=null,Ji--)}function pt(e,t){Ji++,Xm[Ji]=e.current,e.current=t}var wo={},Nr=So(wo),Kr=So(!1),oi=wo;function _a(e,t){var r=e.type.contextTypes;if(!r)return wo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in r)o[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Qr(e){return e=e.childContextTypes,e!=null}function au(){bt(Kr),bt(Nr)}function S0(e,t,r){if(Nr.current!==wo)throw Error(ne(168));pt(Nr,t),pt(Kr,r)}function Mj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(ne(108,dP(e)||"Unknown",o));return Tt({},r,n)}function lu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wo,oi=Nr.current,pt(Nr,e),pt(Kr,Kr.current),!0}function C0(e,t,r){var n=e.stateNode;if(!n)throw Error(ne(169));r?(e=Mj(e,t,oi),n.__reactInternalMemoizedMergedChildContext=e,bt(Kr),bt(Nr),pt(Nr,e)):bt(Kr),pt(Kr,r)}var ks=null,Zu=!1,jf=!1;function $j(e){ks===null?ks=[e]:ks.push(e)}function E4(e){Zu=!0,$j(e)}function Co(){if(!jf&&ks!==null){jf=!0;var e=0,t=ot;try{var r=ks;for(ot=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ks=null,Zu=!1}catch(o){throw ks!==null&&(ks=ks.slice(e+1)),lj(Tg,Co),o}finally{ot=t,jf=!1}}return null}var Xi=[],Zi=0,cu=null,du=0,bn=[],jn=0,ii=null,Ps=1,Rs="";function $o(e,t){Xi[Zi++]=du,Xi[Zi++]=cu,cu=e,du=t}function Lj(e,t,r){bn[jn++]=Ps,bn[jn++]=Rs,bn[jn++]=ii,ii=e;var n=Ps;e=Rs;var o=32-Wn(n)-1;n&=~(1<<o),r+=1;var i=32-Wn(t)+o;if(30<i){var a=o-o%5;i=(n&(1<<a)-1).toString(32),n>>=a,o-=a,Ps=1<<32-Wn(t)+o|r<<o|n,Rs=i+e}else Ps=1<<i|r<<o|n,Rs=e}function Lg(e){e.return!==null&&($o(e,1),Lj(e,1,0))}function Fg(e){for(;e===cu;)cu=Xi[--Zi],Xi[Zi]=null,du=Xi[--Zi],Xi[Zi]=null;for(;e===ii;)ii=bn[--jn],bn[jn]=null,Rs=bn[--jn],bn[jn]=null,Ps=bn[--jn],bn[jn]=null}var ln=null,an=null,_t=!1,Vn=null;function Fj(e,t){var r=_n(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function E0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ln=e,an=mo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ln=e,an=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ii!==null?{id:Ps,overflow:Rs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_n(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ln=e,an=null,!0):!1;default:return!1}}function Zm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ep(e){if(_t){var t=an;if(t){var r=t;if(!E0(e,t)){if(Zm(e))throw Error(ne(418));t=mo(r.nextSibling);var n=ln;t&&E0(e,t)?Fj(n,r):(e.flags=e.flags&-4097|2,_t=!1,ln=e)}}else{if(Zm(e))throw Error(ne(418));e.flags=e.flags&-4097|2,_t=!1,ln=e}}}function k0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ln=e}function ld(e){if(e!==ln)return!1;if(!_t)return k0(e),_t=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Km(e.type,e.memoizedProps)),t&&(t=an)){if(Zm(e))throw Uj(),Error(ne(418));for(;t;)Fj(e,t),t=mo(t.nextSibling)}if(k0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){an=mo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}an=null}}else an=ln?mo(e.stateNode.nextSibling):null;return!0}function Uj(){for(var e=an;e;)e=mo(e.nextSibling)}function Sa(){an=ln=null,_t=!1}function Ug(e){Vn===null?Vn=[e]:Vn.push(e)}var k4=Us.ReactCurrentBatchConfig;function ul(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var n=r.stateNode}if(!n)throw Error(ne(147,e));var o=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=o.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,e))}return e}function cd(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function T0(e){var t=e._init;return t(e._payload)}function Bj(e){function t(w,x){if(e){var b=w.deletions;b===null?(w.deletions=[x],w.flags|=16):b.push(x)}}function r(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function n(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function o(w,x){return w=xo(w,x),w.index=0,w.sibling=null,w}function i(w,x,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<x?(w.flags|=2,x):b):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,x,b,j){return x===null||x.tag!==6?(x=Tf(b,w.mode,j),x.return=w,x):(x=o(x,b),x.return=w,x)}function c(w,x,b,j){var T=b.type;return T===qi?u(w,x,b.props.children,j,b.key):x!==null&&(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ks&&T0(T)===x.type)?(j=o(x,b.props),j.ref=ul(w,x,b),j.return=w,j):(j=Hd(b.type,b.key,b.props,null,w.mode,j),j.ref=ul(w,x,b),j.return=w,j)}function d(w,x,b,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Pf(b,w.mode,j),x.return=w,x):(x=o(x,b.children||[]),x.return=w,x)}function u(w,x,b,j,T){return x===null||x.tag!==7?(x=ni(b,w.mode,j,T),x.return=w,x):(x=o(x,b),x.return=w,x)}function m(w,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Tf(""+x,w.mode,b),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xc:return b=Hd(x.type,x.key,x.props,null,w.mode,b),b.ref=ul(w,null,x),b.return=w,b;case Hi:return x=Pf(x,w.mode,b),x.return=w,x;case Ks:var j=x._init;return m(w,j(x._payload),b)}if(bl(x)||il(x))return x=ni(x,w.mode,b,null),x.return=w,x;cd(w,x)}return null}function p(w,x,b,j){var T=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return T!==null?null:l(w,x,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xc:return b.key===T?c(w,x,b,j):null;case Hi:return b.key===T?d(w,x,b,j):null;case Ks:return T=b._init,p(w,x,T(b._payload),j)}if(bl(b)||il(b))return T!==null?null:u(w,x,b,j,null);cd(w,b)}return null}function f(w,x,b,j,T){if(typeof j=="string"&&j!==""||typeof j=="number")return w=w.get(b)||null,l(x,w,""+j,T);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Xc:return w=w.get(j.key===null?b:j.key)||null,c(x,w,j,T);case Hi:return w=w.get(j.key===null?b:j.key)||null,d(x,w,j,T);case Ks:var S=j._init;return f(w,x,b,S(j._payload),T)}if(bl(j)||il(j))return w=w.get(b)||null,u(x,w,j,T,null);cd(x,j)}return null}function y(w,x,b,j){for(var T=null,S=null,N=x,E=x=0,R=null;N!==null&&E<b.length;E++){N.index>E?(R=N,N=null):R=N.sibling;var P=p(w,N,b[E],j);if(P===null){N===null&&(N=R);break}e&&N&&P.alternate===null&&t(w,N),x=i(P,x,E),S===null?T=P:S.sibling=P,S=P,N=R}if(E===b.length)return r(w,N),_t&&$o(w,E),T;if(N===null){for(;E<b.length;E++)N=m(w,b[E],j),N!==null&&(x=i(N,x,E),S===null?T=N:S.sibling=N,S=N);return _t&&$o(w,E),T}for(N=n(w,N);E<b.length;E++)R=f(N,w,E,b[E],j),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?E:R.key),x=i(R,x,E),S===null?T=R:S.sibling=R,S=R);return e&&N.forEach(function(_){return t(w,_)}),_t&&$o(w,E),T}function g(w,x,b,j){var T=il(b);if(typeof T!="function")throw Error(ne(150));if(b=T.call(b),b==null)throw Error(ne(151));for(var S=T=null,N=x,E=x=0,R=null,P=b.next();N!==null&&!P.done;E++,P=b.next()){N.index>E?(R=N,N=null):R=N.sibling;var _=p(w,N,P.value,j);if(_===null){N===null&&(N=R);break}e&&N&&_.alternate===null&&t(w,N),x=i(_,x,E),S===null?T=_:S.sibling=_,S=_,N=R}if(P.done)return r(w,N),_t&&$o(w,E),T;if(N===null){for(;!P.done;E++,P=b.next())P=m(w,P.value,j),P!==null&&(x=i(P,x,E),S===null?T=P:S.sibling=P,S=P);return _t&&$o(w,E),T}for(N=n(w,N);!P.done;E++,P=b.next())P=f(N,w,E,P.value,j),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?E:P.key),x=i(P,x,E),S===null?T=P:S.sibling=P,S=P);return e&&N.forEach(function(O){return t(w,O)}),_t&&$o(w,E),T}function v(w,x,b,j){if(typeof b=="object"&&b!==null&&b.type===qi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Xc:e:{for(var T=b.key,S=x;S!==null;){if(S.key===T){if(T=b.type,T===qi){if(S.tag===7){r(w,S.sibling),x=o(S,b.props.children),x.return=w,w=x;break e}}else if(S.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ks&&T0(T)===S.type){r(w,S.sibling),x=o(S,b.props),x.ref=ul(w,S,b),x.return=w,w=x;break e}r(w,S);break}else t(w,S);S=S.sibling}b.type===qi?(x=ni(b.props.children,w.mode,j,b.key),x.return=w,w=x):(j=Hd(b.type,b.key,b.props,null,w.mode,j),j.ref=ul(w,x,b),j.return=w,w=j)}return a(w);case Hi:e:{for(S=b.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(w,x.sibling),x=o(x,b.children||[]),x.return=w,w=x;break e}else{r(w,x);break}else t(w,x);x=x.sibling}x=Pf(b,w.mode,j),x.return=w,w=x}return a(w);case Ks:return S=b._init,v(w,x,S(b._payload),j)}if(bl(b))return y(w,x,b,j);if(il(b))return g(w,x,b,j);cd(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(w,x.sibling),x=o(x,b),x.return=w,w=x):(r(w,x),x=Tf(b,w.mode,j),x.return=w,w=x),a(w)):r(w,x)}return v}var Ca=Bj(!0),zj=Bj(!1),uu=So(null),hu=null,ea=null,Bg=null;function zg(){Bg=ea=hu=null}function Vg(e){var t=uu.current;bt(uu),e._currentValue=t}function tp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function la(e,t){hu=e,Bg=ea=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qr=!0),e.firstContext=null)}function Tn(e){var t=e._currentValue;if(Bg!==e)if(e={context:e,memoizedValue:t,next:null},ea===null){if(hu===null)throw Error(ne(308));ea=e,hu.dependencies={lanes:0,firstContext:e}}else ea=ea.next=e;return t}var qo=null;function Wg(e){qo===null?qo=[e]:qo.push(e)}function Vj(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,Wg(t)):(r.next=o.next,o.next=r),t.interleaved=r,Ms(e,n)}function Ms(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Qs=!1;function Hg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function po(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,et&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Ms(e,r)}return o=n.interleaved,o===null?(t.next=t,Wg(n)):(t.next=o.next,o.next=t),n.interleaved=t,Ms(e,r)}function Fd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Pg(e,r)}}function P0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?o=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?o=i=t:i=i.next=t}else o=i=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function fu(e,t,r,n){var o=e.updateQueue;Qs=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==a&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=o.baseState;a=0,u=d=c=null,l=i;do{var p=l.lane,f=l.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,g=l;switch(p=t,f=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){m=y.call(f,m,p);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(f,m,p):y,p==null)break e;m=Tt({},m,p);break e;case 2:Qs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=m):u=u.next=f,a|=p;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;p=l,l=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(u===null&&(c=m),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);li|=a,e.lanes=a,e.memoizedState=m}}function R0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(ne(191,o));o.call(n)}}}var Cc={},ps=So(Cc),Jl=So(Cc),Xl=So(Cc);function Go(e){if(e===Cc)throw Error(ne(174));return e}function qg(e,t){switch(pt(Xl,t),pt(Jl,e),pt(ps,Cc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Im(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Im(t,e)}bt(ps),pt(ps,t)}function Ea(){bt(ps),bt(Jl),bt(Xl)}function Hj(e){Go(Xl.current);var t=Go(ps.current),r=Im(t,e.type);t!==r&&(pt(Jl,e),pt(ps,r))}function Gg(e){Jl.current===e&&(bt(ps),bt(Jl))}var Et=So(0);function mu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nf=[];function Yg(){for(var e=0;e<Nf.length;e++)Nf[e]._workInProgressVersionPrimary=null;Nf.length=0}var Ud=Us.ReactCurrentDispatcher,_f=Us.ReactCurrentBatchConfig,ai=0,kt=null,Kt=null,tr=null,pu=!1,Ol=!1,Zl=0,T4=0;function vr(){throw Error(ne(321))}function Kg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Kn(e[r],t[r]))return!1;return!0}function Qg(e,t,r,n,o,i){if(ai=i,kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ud.current=e===null||e.memoizedState===null?D4:A4,e=r(n,o),Ol){i=0;do{if(Ol=!1,Zl=0,25<=i)throw Error(ne(301));i+=1,tr=Kt=null,t.updateQueue=null,Ud.current=I4,e=r(n,o)}while(Ol)}if(Ud.current=gu,t=Kt!==null&&Kt.next!==null,ai=0,tr=Kt=kt=null,pu=!1,t)throw Error(ne(300));return e}function Jg(){var e=Zl!==0;return Zl=0,e}function os(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?kt.memoizedState=tr=e:tr=tr.next=e,tr}function Pn(){if(Kt===null){var e=kt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var t=tr===null?kt.memoizedState:tr.next;if(t!==null)tr=t,Kt=e;else{if(e===null)throw Error(ne(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},tr===null?kt.memoizedState=tr=e:tr=tr.next=e}return tr}function ec(e,t){return typeof t=="function"?t(e):t}function Sf(e){var t=Pn(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=Kt,o=n.baseQueue,i=r.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}n.baseQueue=o=i,r.pending=null}if(o!==null){i=o.next,n=n.baseState;var l=a=null,c=null,d=i;do{var u=d.lane;if((ai&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,a=n):c=c.next=m,kt.lanes|=u,li|=u}d=d.next}while(d!==null&&d!==i);c===null?a=n:c.next=l,Kn(n,t.memoizedState)||(qr=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do i=o.lane,kt.lanes|=i,li|=i,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Cf(e){var t=Pn(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,i=t.memoizedState;if(o!==null){r.pending=null;var a=o=o.next;do i=e(i,a.action),a=a.next;while(a!==o);Kn(i,t.memoizedState)||(qr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function qj(){}function Gj(e,t){var r=kt,n=Pn(),o=t(),i=!Kn(n.memoizedState,o);if(i&&(n.memoizedState=o,qr=!0),n=n.queue,Xg(Qj.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||tr!==null&&tr.memoizedState.tag&1){if(r.flags|=2048,tc(9,Kj.bind(null,r,n,o,t),void 0,null),rr===null)throw Error(ne(349));ai&30||Yj(r,t,o)}return o}function Yj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=kt.updateQueue,t===null?(t={lastEffect:null,stores:null},kt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Kj(e,t,r,n){t.value=r,t.getSnapshot=n,Jj(t)&&Xj(e)}function Qj(e,t,r){return r(function(){Jj(t)&&Xj(e)})}function Jj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kn(e,r)}catch{return!0}}function Xj(e){var t=Ms(e,1);t!==null&&Hn(t,e,1,-1)}function O0(e){var t=os();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:e},t.queue=e,e=e.dispatch=O4.bind(null,kt,e),[t.memoizedState,e]}function tc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=kt.updateQueue,t===null?(t={lastEffect:null,stores:null},kt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Zj(){return Pn().memoizedState}function Bd(e,t,r,n){var o=os();kt.flags|=e,o.memoizedState=tc(1|t,r,void 0,n===void 0?null:n)}function eh(e,t,r,n){var o=Pn();n=n===void 0?null:n;var i=void 0;if(Kt!==null){var a=Kt.memoizedState;if(i=a.destroy,n!==null&&Kg(n,a.deps)){o.memoizedState=tc(t,r,i,n);return}}kt.flags|=e,o.memoizedState=tc(1|t,r,i,n)}function D0(e,t){return Bd(8390656,8,e,t)}function Xg(e,t){return eh(2048,8,e,t)}function eN(e,t){return eh(4,2,e,t)}function tN(e,t){return eh(4,4,e,t)}function rN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nN(e,t,r){return r=r!=null?r.concat([e]):null,eh(4,4,rN.bind(null,t,e),r)}function Zg(){}function sN(e,t){var r=Pn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Kg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function oN(e,t){var r=Pn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Kg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function iN(e,t,r){return ai&21?(Kn(r,t)||(r=uj(),kt.lanes|=r,li|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qr=!0),e.memoizedState=r)}function P4(e,t){var r=ot;ot=r!==0&&4>r?r:4,e(!0);var n=_f.transition;_f.transition={};try{e(!1),t()}finally{ot=r,_f.transition=n}}function aN(){return Pn().memoizedState}function R4(e,t,r){var n=vo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},lN(e))cN(t,r);else if(r=Vj(e,t,r,n),r!==null){var o=Dr();Hn(r,e,n,o),dN(r,t,n)}}function O4(e,t,r){var n=vo(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(lN(e))cN(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(o.hasEagerState=!0,o.eagerState=l,Kn(l,a)){var c=t.interleaved;c===null?(o.next=o,Wg(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}r=Vj(e,t,o,n),r!==null&&(o=Dr(),Hn(r,e,n,o),dN(r,t,n))}}function lN(e){var t=e.alternate;return e===kt||t!==null&&t===kt}function cN(e,t){Ol=pu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function dN(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Pg(e,r)}}var gu={readContext:Tn,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},D4={readContext:Tn,useCallback:function(e,t){return os().memoizedState=[e,t===void 0?null:t],e},useContext:Tn,useEffect:D0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Bd(4194308,4,rN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Bd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bd(4,2,e,t)},useMemo:function(e,t){var r=os();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=os();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=R4.bind(null,kt,e),[n.memoizedState,e]},useRef:function(e){var t=os();return e={current:e},t.memoizedState=e},useState:O0,useDebugValue:Zg,useDeferredValue:function(e){return os().memoizedState=e},useTransition:function(){var e=O0(!1),t=e[0];return e=P4.bind(null,e[1]),os().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=kt,o=os();if(_t){if(r===void 0)throw Error(ne(407));r=r()}else{if(r=t(),rr===null)throw Error(ne(349));ai&30||Yj(n,t,r)}o.memoizedState=r;var i={value:r,getSnapshot:t};return o.queue=i,D0(Qj.bind(null,n,i,e),[e]),n.flags|=2048,tc(9,Kj.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=os(),t=rr.identifierPrefix;if(_t){var r=Rs,n=Ps;r=(n&~(1<<32-Wn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Zl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=T4++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},A4={readContext:Tn,useCallback:sN,useContext:Tn,useEffect:Xg,useImperativeHandle:nN,useInsertionEffect:eN,useLayoutEffect:tN,useMemo:oN,useReducer:Sf,useRef:Zj,useState:function(){return Sf(ec)},useDebugValue:Zg,useDeferredValue:function(e){var t=Pn();return iN(t,Kt.memoizedState,e)},useTransition:function(){var e=Sf(ec)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:qj,useSyncExternalStore:Gj,useId:aN,unstable_isNewReconciler:!1},I4={readContext:Tn,useCallback:sN,useContext:Tn,useEffect:Xg,useImperativeHandle:nN,useInsertionEffect:eN,useLayoutEffect:tN,useMemo:oN,useReducer:Cf,useRef:Zj,useState:function(){return Cf(ec)},useDebugValue:Zg,useDeferredValue:function(e){var t=Pn();return Kt===null?t.memoizedState=e:iN(t,Kt.memoizedState,e)},useTransition:function(){var e=Cf(ec)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:qj,useSyncExternalStore:Gj,useId:aN,unstable_isNewReconciler:!1};function $n(e,t){if(e&&e.defaultProps){t=Tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function rp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var th={isMounted:function(e){return(e=e._reactInternals)?xi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Dr(),o=vo(e),i=Ds(n,o);i.payload=t,r!=null&&(i.callback=r),t=po(e,i,o),t!==null&&(Hn(t,e,o,n),Fd(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Dr(),o=vo(e),i=Ds(n,o);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=po(e,i,o),t!==null&&(Hn(t,e,o,n),Fd(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Dr(),n=vo(e),o=Ds(r,n);o.tag=2,t!=null&&(o.callback=t),t=po(e,o,n),t!==null&&(Hn(t,e,n,r),Fd(t,e,n))}};function A0(e,t,r,n,o,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Gl(r,n)||!Gl(o,i):!0}function uN(e,t,r){var n=!1,o=wo,i=t.contextType;return typeof i=="object"&&i!==null?i=Tn(i):(o=Qr(t)?oi:Nr.current,n=t.contextTypes,i=(n=n!=null)?_a(e,o):wo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=th,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function I0(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&th.enqueueReplaceState(t,t.state,null)}function np(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Hg(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Tn(i):(i=Qr(t)?oi:Nr.current,o.context=_a(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(rp(e,t,i,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&th.enqueueReplaceState(o,o.state,null),fu(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ka(e,t){try{var r="",n=t;do r+=cP(n),n=n.return;while(n);var o=r}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Ef(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function sp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var M4=typeof WeakMap=="function"?WeakMap:Map;function hN(e,t,r){r=Ds(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){xu||(xu=!0,mp=n),sp(e,t)},r}function fN(e,t,r){r=Ds(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){sp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){sp(e,t),typeof n!="function"&&(go===null?go=new Set([this]):go.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function M0(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new M4;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=Q4.bind(null,e,t,r),t.then(e,e))}function $0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function L0(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ds(-1,1),t.tag=2,po(r,t,1))),r.lanes|=1),e)}var $4=Us.ReactCurrentOwner,qr=!1;function kr(e,t,r,n){t.child=e===null?zj(t,null,r,n):Ca(t,e.child,r,n)}function F0(e,t,r,n,o){r=r.render;var i=t.ref;return la(t,o),n=Qg(e,t,r,n,i,o),r=Jg(),e!==null&&!qr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$s(e,t,o)):(_t&&r&&Lg(t),t.flags|=1,kr(e,t,n,o),t.child)}function U0(e,t,r,n,o){if(e===null){var i=r.type;return typeof i=="function"&&!av(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,mN(e,t,i,n,o)):(e=Hd(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Gl,r(a,n)&&e.ref===t.ref)return $s(e,t,o)}return t.flags|=1,e=xo(i,n),e.ref=t.ref,e.return=t,t.child=e}function mN(e,t,r,n,o){if(e!==null){var i=e.memoizedProps;if(Gl(i,n)&&e.ref===t.ref)if(qr=!1,t.pendingProps=n=i,(e.lanes&o)!==0)e.flags&131072&&(qr=!0);else return t.lanes=e.lanes,$s(e,t,o)}return op(e,t,r,n,o)}function pN(e,t,r){var n=t.pendingProps,o=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(ra,rn),rn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pt(ra,rn),rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,pt(ra,rn),rn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,pt(ra,rn),rn|=n;return kr(e,t,o,r),t.child}function gN(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function op(e,t,r,n,o){var i=Qr(r)?oi:Nr.current;return i=_a(t,i),la(t,o),r=Qg(e,t,r,n,i,o),n=Jg(),e!==null&&!qr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$s(e,t,o)):(_t&&n&&Lg(t),t.flags|=1,kr(e,t,r,o),t.child)}function B0(e,t,r,n,o){if(Qr(r)){var i=!0;lu(t)}else i=!1;if(la(t,o),t.stateNode===null)zd(e,t),uN(t,r,n),np(t,r,n,o),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=Tn(d):(d=Qr(r)?oi:Nr.current,d=_a(t,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==d)&&I0(t,a,n,d),Qs=!1;var p=t.memoizedState;a.state=p,fu(t,n,a,o),c=t.memoizedState,l!==n||p!==c||Kr.current||Qs?(typeof u=="function"&&(rp(t,r,u,n),c=t.memoizedState),(l=Qs||A0(t,r,l,n,p,c,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=d,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Wj(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:$n(t.type,l),a.props=d,m=t.pendingProps,p=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Tn(c):(c=Qr(r)?oi:Nr.current,c=_a(t,c));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||p!==c)&&I0(t,a,n,c),Qs=!1,p=t.memoizedState,a.state=p,fu(t,n,a,o);var y=t.memoizedState;l!==m||p!==y||Kr.current||Qs?(typeof f=="function"&&(rp(t,r,f,n),y=t.memoizedState),(d=Qs||A0(t,r,d,n,p,y,c)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),a.props=n,a.state=y,a.context=c,n=d):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return ip(e,t,r,n,i,o)}function ip(e,t,r,n,o,i){gN(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return o&&C0(t,r,!1),$s(e,t,i);n=t.stateNode,$4.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ca(t,e.child,null,i),t.child=Ca(t,null,l,i)):kr(e,t,l,i),t.memoizedState=n.state,o&&C0(t,r,!0),t.child}function vN(e){var t=e.stateNode;t.pendingContext?S0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&S0(e,t.context,!1),qg(e,t.containerInfo)}function z0(e,t,r,n,o){return Sa(),Ug(o),t.flags|=256,kr(e,t,r,n),t.child}var ap={dehydrated:null,treeContext:null,retryLane:0};function lp(e){return{baseLanes:e,cachePool:null,transitions:null}}function xN(e,t,r){var n=t.pendingProps,o=Et.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),pt(Et,o&1),e===null)return ep(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=sh(a,n,0,null),e=ni(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=lp(r),t.memoizedState=ap,e):ev(t,a));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return L4(e,t,a,n,l,o,r);if(i){i=n.fallback,a=t.mode,o=e.child,l=o.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=xo(o,c),n.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=xo(l,i):(i=ni(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?lp(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=ap,n}return i=e.child,e=i.sibling,n=xo(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ev(e,t){return t=sh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dd(e,t,r,n){return n!==null&&Ug(n),Ca(t,e.child,null,r),e=ev(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function L4(e,t,r,n,o,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Ef(Error(ne(422))),dd(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,o=t.mode,n=sh({mode:"visible",children:n.children},o,0,null),i=ni(i,o,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ca(t,e.child,null,a),t.child.memoizedState=lp(a),t.memoizedState=ap,i);if(!(t.mode&1))return dd(e,t,a,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ne(419)),n=Ef(i,n,void 0),dd(e,t,a,n)}if(l=(a&e.childLanes)!==0,qr||l){if(n=rr,n!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Ms(e,o),Hn(n,e,o,-1))}return iv(),n=Ef(Error(ne(421))),dd(e,t,a,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=J4.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,an=mo(o.nextSibling),ln=t,_t=!0,Vn=null,e!==null&&(bn[jn++]=Ps,bn[jn++]=Rs,bn[jn++]=ii,Ps=e.id,Rs=e.overflow,ii=t),t=ev(t,n.children),t.flags|=4096,t)}function V0(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),tp(e.return,t,r)}function kf(e,t,r,n,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=o)}function yN(e,t,r){var n=t.pendingProps,o=n.revealOrder,i=n.tail;if(kr(e,t,n.children,r),n=Et.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&V0(e,r,t);else if(e.tag===19)V0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(pt(Et,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&mu(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),kf(t,!1,o,r,i);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&mu(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}kf(t,!0,r,null,i);break;case"together":kf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $s(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),li|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,r=xo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function F4(e,t,r){switch(t.tag){case 3:vN(t),Sa();break;case 5:Hj(t);break;case 1:Qr(t.type)&&lu(t);break;case 4:qg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;pt(uu,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(pt(Et,Et.current&1),t.flags|=128,null):r&t.child.childLanes?xN(e,t,r):(pt(Et,Et.current&1),e=$s(e,t,r),e!==null?e.sibling:null);pt(Et,Et.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return yN(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),pt(Et,Et.current),n)break;return null;case 22:case 23:return t.lanes=0,pN(e,t,r)}return $s(e,t,r)}var wN,cp,bN,jN;wN=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cp=function(){};bN=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Go(ps.current);var i=null;switch(r){case"input":o=Rm(e,o),n=Rm(e,n),i=[];break;case"select":o=Tt({},o,{value:void 0}),n=Tt({},n,{value:void 0}),i=[];break;case"textarea":o=Am(e,o),n=Am(e,n),i=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=iu)}Mm(r,n);var a;r=null;for(d in o)if(!n.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var l=o[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ul.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=o!=null?o[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ul.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&wt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};jN=function(e,t,r,n){r!==n&&(t.flags|=4)};function hl(e,t){if(!_t)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function xr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function U4(e,t,r){var n=t.pendingProps;switch(Fg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(t),null;case 1:return Qr(t.type)&&au(),xr(t),null;case 3:return n=t.stateNode,Ea(),bt(Kr),bt(Nr),Yg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ld(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vn!==null&&(vp(Vn),Vn=null))),cp(e,t),xr(t),null;case 5:Gg(t);var o=Go(Xl.current);if(r=t.type,e!==null&&t.stateNode!=null)bN(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ne(166));return xr(t),null}if(e=Go(ps.current),ld(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ds]=t,n[Ql]=i,e=(t.mode&1)!==0,r){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(o=0;o<Nl.length;o++)wt(Nl[o],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":Xx(n,i),wt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},wt("invalid",n);break;case"textarea":e0(n,i),wt("invalid",n)}Mm(r,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ad(n.textContent,l,e),o=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ad(n.textContent,l,e),o=["children",""+l]):Ul.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&wt("scroll",n)}switch(r){case"input":Zc(n),Zx(n,i,!0);break;case"textarea":Zc(n),t0(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=iu)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qb(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[ds]=t,e[Ql]=n,wN(e,t,!1,!1),t.stateNode=e;e:{switch(a=$m(r,n),r){case"dialog":wt("cancel",e),wt("close",e),o=n;break;case"iframe":case"object":case"embed":wt("load",e),o=n;break;case"video":case"audio":for(o=0;o<Nl.length;o++)wt(Nl[o],e);o=n;break;case"source":wt("error",e),o=n;break;case"img":case"image":case"link":wt("error",e),wt("load",e),o=n;break;case"details":wt("toggle",e),o=n;break;case"input":Xx(e,n),o=Rm(e,n),wt("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=Tt({},n,{value:void 0}),wt("invalid",e);break;case"textarea":e0(e,n),o=Am(e,n),wt("invalid",e);break;default:o=n}Mm(r,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Zb(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Jb(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Bl(e,c):typeof c=="number"&&Bl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ul.hasOwnProperty(i)?c!=null&&i==="onScroll"&&wt("scroll",e):c!=null&&_g(e,i,c,a))}switch(r){case"input":Zc(e),Zx(e,n,!1);break;case"textarea":Zc(e),t0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+yo(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?sa(e,!!n.multiple,i,!1):n.defaultValue!=null&&sa(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=iu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xr(t),null;case 6:if(e&&t.stateNode!=null)jN(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ne(166));if(r=Go(Xl.current),Go(ps.current),ld(t)){if(n=t.stateNode,r=t.memoizedProps,n[ds]=t,(i=n.nodeValue!==r)&&(e=ln,e!==null))switch(e.tag){case 3:ad(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ad(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ds]=t,t.stateNode=n}return xr(t),null;case 13:if(bt(Et),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_t&&an!==null&&t.mode&1&&!(t.flags&128))Uj(),Sa(),t.flags|=98560,i=!1;else if(i=ld(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ne(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ne(317));i[ds]=t}else Sa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xr(t),i=!1}else Vn!==null&&(vp(Vn),Vn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Et.current&1?Qt===0&&(Qt=3):iv())),t.updateQueue!==null&&(t.flags|=4),xr(t),null);case 4:return Ea(),cp(e,t),e===null&&Yl(t.stateNode.containerInfo),xr(t),null;case 10:return Vg(t.type._context),xr(t),null;case 17:return Qr(t.type)&&au(),xr(t),null;case 19:if(bt(Et),i=t.memoizedState,i===null)return xr(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)hl(i,!1);else{if(Qt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=mu(e),a!==null){for(t.flags|=128,hl(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pt(Et,Et.current&1|2),t.child}e=e.sibling}i.tail!==null&&$t()>Ta&&(t.flags|=128,n=!0,hl(i,!1),t.lanes=4194304)}else{if(!n)if(e=mu(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),hl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!_t)return xr(t),null}else 2*$t()-i.renderingStartTime>Ta&&r!==1073741824&&(t.flags|=128,n=!0,hl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=$t(),t.sibling=null,r=Et.current,pt(Et,n?r&1|2:r&1),t):(xr(t),null);case 22:case 23:return ov(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?rn&1073741824&&(xr(t),t.subtreeFlags&6&&(t.flags|=8192)):xr(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function B4(e,t){switch(Fg(t),t.tag){case 1:return Qr(t.type)&&au(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ea(),bt(Kr),bt(Nr),Yg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gg(t),null;case 13:if(bt(Et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));Sa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return bt(Et),null;case 4:return Ea(),null;case 10:return Vg(t.type._context),null;case 22:case 23:return ov(),null;case 24:return null;default:return null}}var ud=!1,yr=!1,z4=typeof WeakSet=="function"?WeakSet:Set,ge=null;function ta(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ot(e,t,n)}else r.current=null}function dp(e,t,r){try{r()}catch(n){Ot(e,t,n)}}var W0=!1;function V4(e,t){if(Gm=nu,e=Ej(),$g(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var f;m!==r||o!==0&&m.nodeType!==3||(l=a+o),m!==i||n!==0&&m.nodeType!==3||(c=a+n),m.nodeType===3&&(a+=m.nodeValue.length),(f=m.firstChild)!==null;)p=m,m=f;for(;;){if(m===e)break t;if(p===r&&++d===o&&(l=a),p===i&&++u===n&&(c=a),(f=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ym={focusedElem:e,selectionRange:r},nu=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:$n(t.type,g),v);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(j){Ot(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return y=W0,W0=!1,y}function Dl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&dp(t,r,i)}o=o.next}while(o!==n)}}function rh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function up(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function NN(e){var t=e.alternate;t!==null&&(e.alternate=null,NN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ds],delete t[Ql],delete t[Jm],delete t[S4],delete t[C4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _N(e){return e.tag===5||e.tag===3||e.tag===4}function H0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_N(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=iu));else if(n!==4&&(e=e.child,e!==null))for(hp(e,t,r),e=e.sibling;e!==null;)hp(e,t,r),e=e.sibling}function fp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(fp(e,t,r),e=e.sibling;e!==null;)fp(e,t,r),e=e.sibling}var dr=null,zn=!1;function zs(e,t,r){for(r=r.child;r!==null;)SN(e,t,r),r=r.sibling}function SN(e,t,r){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(Yu,r)}catch{}switch(r.tag){case 5:yr||ta(r,t);case 6:var n=dr,o=zn;dr=null,zs(e,t,r),dr=n,zn=o,dr!==null&&(zn?(e=dr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):dr.removeChild(r.stateNode));break;case 18:dr!==null&&(zn?(e=dr,r=r.stateNode,e.nodeType===8?bf(e.parentNode,r):e.nodeType===1&&bf(e,r),Hl(e)):bf(dr,r.stateNode));break;case 4:n=dr,o=zn,dr=r.stateNode.containerInfo,zn=!0,zs(e,t,r),dr=n,zn=o;break;case 0:case 11:case 14:case 15:if(!yr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&dp(r,t,a),o=o.next}while(o!==n)}zs(e,t,r);break;case 1:if(!yr&&(ta(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ot(r,t,l)}zs(e,t,r);break;case 21:zs(e,t,r);break;case 22:r.mode&1?(yr=(n=yr)||r.memoizedState!==null,zs(e,t,r),yr=n):zs(e,t,r);break;default:zs(e,t,r)}}function q0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new z4),t.forEach(function(n){var o=X4.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function Dn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:dr=l.stateNode,zn=!1;break e;case 3:dr=l.stateNode.containerInfo,zn=!0;break e;case 4:dr=l.stateNode.containerInfo,zn=!0;break e}l=l.return}if(dr===null)throw Error(ne(160));SN(i,a,o),dr=null,zn=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(d){Ot(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)CN(t,e),t=t.sibling}function CN(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dn(t,e),ss(e),n&4){try{Dl(3,e,e.return),rh(3,e)}catch(g){Ot(e,e.return,g)}try{Dl(5,e,e.return)}catch(g){Ot(e,e.return,g)}}break;case 1:Dn(t,e),ss(e),n&512&&r!==null&&ta(r,r.return);break;case 5:if(Dn(t,e),ss(e),n&512&&r!==null&&ta(r,r.return),e.flags&32){var o=e.stateNode;try{Bl(o,"")}catch(g){Ot(e,e.return,g)}}if(n&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Yb(o,i),$m(l,a);var d=$m(l,i);for(a=0;a<c.length;a+=2){var u=c[a],m=c[a+1];u==="style"?Zb(o,m):u==="dangerouslySetInnerHTML"?Jb(o,m):u==="children"?Bl(o,m):_g(o,u,m,d)}switch(l){case"input":Om(o,i);break;case"textarea":Kb(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?sa(o,!!i.multiple,f,!1):p!==!!i.multiple&&(i.defaultValue!=null?sa(o,!!i.multiple,i.defaultValue,!0):sa(o,!!i.multiple,i.multiple?[]:"",!1))}o[Ql]=i}catch(g){Ot(e,e.return,g)}}break;case 6:if(Dn(t,e),ss(e),n&4){if(e.stateNode===null)throw Error(ne(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){Ot(e,e.return,g)}}break;case 3:if(Dn(t,e),ss(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hl(t.containerInfo)}catch(g){Ot(e,e.return,g)}break;case 4:Dn(t,e),ss(e);break;case 13:Dn(t,e),ss(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(nv=$t())),n&4&&q0(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(yr=(d=yr)||u,Dn(t,e),yr=d):Dn(t,e),ss(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(ge=e,u=e.child;u!==null;){for(m=ge=u;ge!==null;){switch(p=ge,f=p.child,p.tag){case 0:case 11:case 14:case 15:Dl(4,p,p.return);break;case 1:ta(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){Ot(n,r,g)}}break;case 5:ta(p,p.return);break;case 22:if(p.memoizedState!==null){Y0(m);continue}}f!==null?(f.return=p,ge=f):Y0(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{o=m.stateNode,d?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Xb("display",a))}catch(g){Ot(e,e.return,g)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(g){Ot(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Dn(t,e),ss(e),n&4&&q0(e);break;case 21:break;default:Dn(t,e),ss(e)}}function ss(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(_N(r)){var n=r;break e}r=r.return}throw Error(ne(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(Bl(o,""),n.flags&=-33);var i=H0(e);fp(e,i,o);break;case 3:case 4:var a=n.stateNode.containerInfo,l=H0(e);hp(e,l,a);break;default:throw Error(ne(161))}}catch(c){Ot(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function W4(e,t,r){ge=e,EN(e)}function EN(e,t,r){for(var n=(e.mode&1)!==0;ge!==null;){var o=ge,i=o.child;if(o.tag===22&&n){var a=o.memoizedState!==null||ud;if(!a){var l=o.alternate,c=l!==null&&l.memoizedState!==null||yr;l=ud;var d=yr;if(ud=a,(yr=c)&&!d)for(ge=o;ge!==null;)a=ge,c=a.child,a.tag===22&&a.memoizedState!==null?K0(o):c!==null?(c.return=a,ge=c):K0(o);for(;i!==null;)ge=i,EN(i),i=i.sibling;ge=o,ud=l,yr=d}G0(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,ge=i):G0(e)}}function G0(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yr||rh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!yr)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:$n(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&R0(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}R0(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Hl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}yr||t.flags&512&&up(t)}catch(p){Ot(t,t.return,p)}}if(t===e){ge=null;break}if(r=t.sibling,r!==null){r.return=t.return,ge=r;break}ge=t.return}}function Y0(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ge=r;break}ge=t.return}}function K0(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rh(4,t)}catch(c){Ot(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(c){Ot(t,o,c)}}var i=t.return;try{up(t)}catch(c){Ot(t,i,c)}break;case 5:var a=t.return;try{up(t)}catch(c){Ot(t,a,c)}}}catch(c){Ot(t,t.return,c)}if(t===e){ge=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ge=l;break}ge=t.return}}var H4=Math.ceil,vu=Us.ReactCurrentDispatcher,tv=Us.ReactCurrentOwner,Cn=Us.ReactCurrentBatchConfig,et=0,rr=null,Vt=null,ur=0,rn=0,ra=So(0),Qt=0,rc=null,li=0,nh=0,rv=0,Al=null,Vr=null,nv=0,Ta=1/0,Cs=null,xu=!1,mp=null,go=null,hd=!1,lo=null,yu=0,Il=0,pp=null,Vd=-1,Wd=0;function Dr(){return et&6?$t():Vd!==-1?Vd:Vd=$t()}function vo(e){return e.mode&1?et&2&&ur!==0?ur&-ur:k4.transition!==null?(Wd===0&&(Wd=uj()),Wd):(e=ot,e!==0||(e=window.event,e=e===void 0?16:xj(e.type)),e):1}function Hn(e,t,r,n){if(50<Il)throw Il=0,pp=null,Error(ne(185));Nc(e,r,n),(!(et&2)||e!==rr)&&(e===rr&&(!(et&2)&&(nh|=r),Qt===4&&Xs(e,ur)),Jr(e,n),r===1&&et===0&&!(t.mode&1)&&(Ta=$t()+500,Zu&&Co()))}function Jr(e,t){var r=e.callbackNode;kP(e,t);var n=ru(e,e===rr?ur:0);if(n===0)r!==null&&s0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&s0(r),t===1)e.tag===0?E4(Q0.bind(null,e)):$j(Q0.bind(null,e)),N4(function(){!(et&6)&&Co()}),r=null;else{switch(hj(n)){case 1:r=Tg;break;case 4:r=cj;break;case 16:r=tu;break;case 536870912:r=dj;break;default:r=tu}r=IN(r,kN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function kN(e,t){if(Vd=-1,Wd=0,et&6)throw Error(ne(327));var r=e.callbackNode;if(ca()&&e.callbackNode!==r)return null;var n=ru(e,e===rr?ur:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=wu(e,n);else{t=n;var o=et;et|=2;var i=PN();(rr!==e||ur!==t)&&(Cs=null,Ta=$t()+500,ri(e,t));do try{Y4();break}catch(l){TN(e,l)}while(!0);zg(),vu.current=i,et=o,Vt!==null?t=0:(rr=null,ur=0,t=Qt)}if(t!==0){if(t===2&&(o=zm(e),o!==0&&(n=o,t=gp(e,o))),t===1)throw r=rc,ri(e,0),Xs(e,n),Jr(e,$t()),r;if(t===6)Xs(e,n);else{if(o=e.current.alternate,!(n&30)&&!q4(o)&&(t=wu(e,n),t===2&&(i=zm(e),i!==0&&(n=i,t=gp(e,i))),t===1))throw r=rc,ri(e,0),Xs(e,n),Jr(e,$t()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(ne(345));case 2:Lo(e,Vr,Cs);break;case 3:if(Xs(e,n),(n&130023424)===n&&(t=nv+500-$t(),10<t)){if(ru(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Dr(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Qm(Lo.bind(null,e,Vr,Cs),t);break}Lo(e,Vr,Cs);break;case 4:if(Xs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var a=31-Wn(n);i=1<<a,a=t[a],a>o&&(o=a),n&=~i}if(n=o,n=$t()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*H4(n/1960))-n,10<n){e.timeoutHandle=Qm(Lo.bind(null,e,Vr,Cs),n);break}Lo(e,Vr,Cs);break;case 5:Lo(e,Vr,Cs);break;default:throw Error(ne(329))}}}return Jr(e,$t()),e.callbackNode===r?kN.bind(null,e):null}function gp(e,t){var r=Al;return e.current.memoizedState.isDehydrated&&(ri(e,t).flags|=256),e=wu(e,t),e!==2&&(t=Vr,Vr=r,t!==null&&vp(t)),e}function vp(e){Vr===null?Vr=e:Vr.push.apply(Vr,e)}function q4(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],i=o.getSnapshot;o=o.value;try{if(!Kn(i(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xs(e,t){for(t&=~rv,t&=~nh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Wn(t),n=1<<r;e[r]=-1,t&=~n}}function Q0(e){if(et&6)throw Error(ne(327));ca();var t=ru(e,0);if(!(t&1))return Jr(e,$t()),null;var r=wu(e,t);if(e.tag!==0&&r===2){var n=zm(e);n!==0&&(t=n,r=gp(e,n))}if(r===1)throw r=rc,ri(e,0),Xs(e,t),Jr(e,$t()),r;if(r===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lo(e,Vr,Cs),Jr(e,$t()),null}function sv(e,t){var r=et;et|=1;try{return e(t)}finally{et=r,et===0&&(Ta=$t()+500,Zu&&Co())}}function ci(e){lo!==null&&lo.tag===0&&!(et&6)&&ca();var t=et;et|=1;var r=Cn.transition,n=ot;try{if(Cn.transition=null,ot=1,e)return e()}finally{ot=n,Cn.transition=r,et=t,!(et&6)&&Co()}}function ov(){rn=ra.current,bt(ra)}function ri(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,j4(r)),Vt!==null)for(r=Vt.return;r!==null;){var n=r;switch(Fg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&au();break;case 3:Ea(),bt(Kr),bt(Nr),Yg();break;case 5:Gg(n);break;case 4:Ea();break;case 13:bt(Et);break;case 19:bt(Et);break;case 10:Vg(n.type._context);break;case 22:case 23:ov()}r=r.return}if(rr=e,Vt=e=xo(e.current,null),ur=rn=t,Qt=0,rc=null,rv=nh=li=0,Vr=Al=null,qo!==null){for(t=0;t<qo.length;t++)if(r=qo[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=o,n.next=a}r.pending=n}qo=null}return e}function TN(e,t){do{var r=Vt;try{if(zg(),Ud.current=gu,pu){for(var n=kt.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}pu=!1}if(ai=0,tr=Kt=kt=null,Ol=!1,Zl=0,tv.current=null,r===null||r.return===null){Qt=1,rc=t,Vt=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=ur,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=$0(a);if(f!==null){f.flags&=-257,L0(f,a,l,i,t),f.mode&1&&M0(i,d,t),t=f,c=d;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){M0(i,d,t),iv();break e}c=Error(ne(426))}}else if(_t&&l.mode&1){var v=$0(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),L0(v,a,l,i,t),Ug(ka(c,l));break e}}i=c=ka(c,l),Qt!==4&&(Qt=2),Al===null?Al=[i]:Al.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=hN(i,c,t);P0(i,w);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(go===null||!go.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=fN(i,l,t);P0(i,j);break e}}i=i.return}while(i!==null)}ON(r)}catch(T){t=T,Vt===r&&r!==null&&(Vt=r=r.return);continue}break}while(!0)}function PN(){var e=vu.current;return vu.current=gu,e===null?gu:e}function iv(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),rr===null||!(li&268435455)&&!(nh&268435455)||Xs(rr,ur)}function wu(e,t){var r=et;et|=2;var n=PN();(rr!==e||ur!==t)&&(Cs=null,ri(e,t));do try{G4();break}catch(o){TN(e,o)}while(!0);if(zg(),et=r,vu.current=n,Vt!==null)throw Error(ne(261));return rr=null,ur=0,Qt}function G4(){for(;Vt!==null;)RN(Vt)}function Y4(){for(;Vt!==null&&!yP();)RN(Vt)}function RN(e){var t=AN(e.alternate,e,rn);e.memoizedProps=e.pendingProps,t===null?ON(e):Vt=t,tv.current=null}function ON(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=B4(r,t),r!==null){r.flags&=32767,Vt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qt=6,Vt=null;return}}else if(r=U4(r,t,rn),r!==null){Vt=r;return}if(t=t.sibling,t!==null){Vt=t;return}Vt=t=e}while(t!==null);Qt===0&&(Qt=5)}function Lo(e,t,r){var n=ot,o=Cn.transition;try{Cn.transition=null,ot=1,K4(e,t,r,n)}finally{Cn.transition=o,ot=n}return null}function K4(e,t,r,n){do ca();while(lo!==null);if(et&6)throw Error(ne(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(TP(e,i),e===rr&&(Vt=rr=null,ur=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||hd||(hd=!0,IN(tu,function(){return ca(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Cn.transition,Cn.transition=null;var a=ot;ot=1;var l=et;et|=4,tv.current=null,V4(e,r),CN(r,e),p4(Ym),nu=!!Gm,Ym=Gm=null,e.current=r,W4(r),wP(),et=l,ot=a,Cn.transition=i}else e.current=r;if(hd&&(hd=!1,lo=e,yu=o),i=e.pendingLanes,i===0&&(go=null),NP(r.stateNode),Jr(e,$t()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(xu)throw xu=!1,e=mp,mp=null,e;return yu&1&&e.tag!==0&&ca(),i=e.pendingLanes,i&1?e===pp?Il++:(Il=0,pp=e):Il=0,Co(),null}function ca(){if(lo!==null){var e=hj(yu),t=Cn.transition,r=ot;try{if(Cn.transition=null,ot=16>e?16:e,lo===null)var n=!1;else{if(e=lo,lo=null,yu=0,et&6)throw Error(ne(331));var o=et;for(et|=4,ge=e.current;ge!==null;){var i=ge,a=i.child;if(ge.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ge=d;ge!==null;){var u=ge;switch(u.tag){case 0:case 11:case 15:Dl(8,u,i)}var m=u.child;if(m!==null)m.return=u,ge=m;else for(;ge!==null;){u=ge;var p=u.sibling,f=u.return;if(NN(u),u===d){ge=null;break}if(p!==null){p.return=f,ge=p;break}ge=f}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ge=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ge=a;else e:for(;ge!==null;){if(i=ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Dl(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ge=w;break e}ge=i.return}}var x=e.current;for(ge=x;ge!==null;){a=ge;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ge=b;else e:for(a=x;ge!==null;){if(l=ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rh(9,l)}}catch(T){Ot(l,l.return,T)}if(l===a){ge=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ge=j;break e}ge=l.return}}if(et=o,Co(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(Yu,e)}catch{}n=!0}return n}finally{ot=r,Cn.transition=t}}return!1}function J0(e,t,r){t=ka(r,t),t=hN(e,t,1),e=po(e,t,1),t=Dr(),e!==null&&(Nc(e,1,t),Jr(e,t))}function Ot(e,t,r){if(e.tag===3)J0(e,e,r);else for(;t!==null;){if(t.tag===3){J0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(go===null||!go.has(n))){e=ka(r,e),e=fN(t,e,1),t=po(t,e,1),e=Dr(),t!==null&&(Nc(t,1,e),Jr(t,e));break}}t=t.return}}function Q4(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Dr(),e.pingedLanes|=e.suspendedLanes&r,rr===e&&(ur&r)===r&&(Qt===4||Qt===3&&(ur&130023424)===ur&&500>$t()-nv?ri(e,0):rv|=r),Jr(e,t)}function DN(e,t){t===0&&(e.mode&1?(t=rd,rd<<=1,!(rd&130023424)&&(rd=4194304)):t=1);var r=Dr();e=Ms(e,t),e!==null&&(Nc(e,t,r),Jr(e,r))}function J4(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),DN(e,r)}function X4(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ne(314))}n!==null&&n.delete(t),DN(e,r)}var AN;AN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Kr.current)qr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return qr=!1,F4(e,t,r);qr=!!(e.flags&131072)}else qr=!1,_t&&t.flags&1048576&&Lj(t,du,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;zd(e,t),e=t.pendingProps;var o=_a(t,Nr.current);la(t,r),o=Qg(null,t,n,e,o,r);var i=Jg();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qr(n)?(i=!0,lu(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Hg(t),o.updater=th,t.stateNode=o,o._reactInternals=t,np(t,n,e,r),t=ip(null,t,n,!0,i,r)):(t.tag=0,_t&&i&&Lg(t),kr(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(zd(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=eR(n),e=$n(n,e),o){case 0:t=op(null,t,n,e,r);break e;case 1:t=B0(null,t,n,e,r);break e;case 11:t=F0(null,t,n,e,r);break e;case 14:t=U0(null,t,n,$n(n.type,e),r);break e}throw Error(ne(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:$n(n,o),op(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:$n(n,o),B0(e,t,n,o,r);case 3:e:{if(vN(t),e===null)throw Error(ne(387));n=t.pendingProps,i=t.memoizedState,o=i.element,Wj(e,t),fu(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=ka(Error(ne(423)),t),t=z0(e,t,n,r,o);break e}else if(n!==o){o=ka(Error(ne(424)),t),t=z0(e,t,n,r,o);break e}else for(an=mo(t.stateNode.containerInfo.firstChild),ln=t,_t=!0,Vn=null,r=zj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Sa(),n===o){t=$s(e,t,r);break e}kr(e,t,n,r)}t=t.child}return t;case 5:return Hj(t),e===null&&ep(t),n=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,a=o.children,Km(n,o)?a=null:i!==null&&Km(n,i)&&(t.flags|=32),gN(e,t),kr(e,t,a,r),t.child;case 6:return e===null&&ep(t),null;case 13:return xN(e,t,r);case 4:return qg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ca(t,null,n,r):kr(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:$n(n,o),F0(e,t,n,o,r);case 7:return kr(e,t,t.pendingProps,r),t.child;case 8:return kr(e,t,t.pendingProps.children,r),t.child;case 12:return kr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value,pt(uu,n._currentValue),n._currentValue=a,i!==null)if(Kn(i.value,a)){if(i.children===o.children&&!Kr.current){t=$s(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ds(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),tp(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(ne(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),tp(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}kr(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,la(t,r),o=Tn(o),n=n(o),t.flags|=1,kr(e,t,n,r),t.child;case 14:return n=t.type,o=$n(n,t.pendingProps),o=$n(n.type,o),U0(e,t,n,o,r);case 15:return mN(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:$n(n,o),zd(e,t),t.tag=1,Qr(n)?(e=!0,lu(t)):e=!1,la(t,r),uN(t,n,o),np(t,n,o,r),ip(null,t,n,!0,e,r);case 19:return yN(e,t,r);case 22:return pN(e,t,r)}throw Error(ne(156,t.tag))};function IN(e,t){return lj(e,t)}function Z4(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,t,r,n){return new Z4(e,t,r,n)}function av(e){return e=e.prototype,!(!e||!e.isReactComponent)}function eR(e){if(typeof e=="function")return av(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cg)return 11;if(e===Eg)return 14}return 2}function xo(e,t){var r=e.alternate;return r===null?(r=_n(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hd(e,t,r,n,o,i){var a=2;if(n=e,typeof e=="function")av(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case qi:return ni(r.children,o,i,t);case Sg:a=8,o|=8;break;case Em:return e=_n(12,r,t,o|2),e.elementType=Em,e.lanes=i,e;case km:return e=_n(13,r,t,o),e.elementType=km,e.lanes=i,e;case Tm:return e=_n(19,r,t,o),e.elementType=Tm,e.lanes=i,e;case Hb:return sh(r,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vb:a=10;break e;case Wb:a=9;break e;case Cg:a=11;break e;case Eg:a=14;break e;case Ks:a=16,n=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=_n(a,r,t,o),t.elementType=e,t.type=n,t.lanes=i,t}function ni(e,t,r,n){return e=_n(7,e,n,t),e.lanes=r,e}function sh(e,t,r,n){return e=_n(22,e,n,t),e.elementType=Hb,e.lanes=r,e.stateNode={isHidden:!1},e}function Tf(e,t,r){return e=_n(6,e,null,t),e.lanes=r,e}function Pf(e,t,r){return t=_n(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tR(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=df(0),this.expirationTimes=df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=df(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function lv(e,t,r,n,o,i,a,l,c){return e=new tR(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=_n(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hg(i),e}function rR(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function MN(e){if(!e)return wo;e=e._reactInternals;e:{if(xi(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var r=e.type;if(Qr(r))return Mj(e,r,t)}return t}function $N(e,t,r,n,o,i,a,l,c){return e=lv(r,n,!0,e,o,i,a,l,c),e.context=MN(null),r=e.current,n=Dr(),o=vo(r),i=Ds(n,o),i.callback=t??null,po(r,i,o),e.current.lanes=o,Nc(e,o,n),Jr(e,n),e}function oh(e,t,r,n){var o=t.current,i=Dr(),a=vo(o);return r=MN(r),t.context===null?t.context=r:t.pendingContext=r,t=Ds(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=po(o,t,a),e!==null&&(Hn(e,o,a,i),Fd(e,o,a)),a}function bu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function X0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function cv(e,t){X0(e,t),(e=e.alternate)&&X0(e,t)}function nR(){return null}var LN=typeof reportError=="function"?reportError:function(e){console.error(e)};function dv(e){this._internalRoot=e}ih.prototype.render=dv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));oh(e,t,null,null)};ih.prototype.unmount=dv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ci(function(){oh(null,e,null,null)}),t[Is]=null}};function ih(e){this._internalRoot=e}ih.prototype.unstable_scheduleHydration=function(e){if(e){var t=pj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Js.length&&t!==0&&t<Js[r].priority;r++);Js.splice(r,0,e),r===0&&vj(e)}};function uv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ah(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Z0(){}function sR(e,t,r,n,o){if(o){if(typeof n=="function"){var i=n;n=function(){var d=bu(a);i.call(d)}}var a=$N(t,n,e,0,null,!1,!1,"",Z0);return e._reactRootContainer=a,e[Is]=a.current,Yl(e.nodeType===8?e.parentNode:e),ci(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var l=n;n=function(){var d=bu(c);l.call(d)}}var c=lv(e,0,!1,null,null,!1,!1,"",Z0);return e._reactRootContainer=c,e[Is]=c.current,Yl(e.nodeType===8?e.parentNode:e),ci(function(){oh(t,c,r,n)}),c}function lh(e,t,r,n,o){var i=r._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var l=o;o=function(){var c=bu(a);l.call(c)}}oh(t,a,e,o)}else a=sR(r,t,e,o,n);return bu(a)}fj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=jl(t.pendingLanes);r!==0&&(Pg(t,r|1),Jr(t,$t()),!(et&6)&&(Ta=$t()+500,Co()))}break;case 13:ci(function(){var n=Ms(e,1);if(n!==null){var o=Dr();Hn(n,e,1,o)}}),cv(e,1)}};Rg=function(e){if(e.tag===13){var t=Ms(e,134217728);if(t!==null){var r=Dr();Hn(t,e,134217728,r)}cv(e,134217728)}};mj=function(e){if(e.tag===13){var t=vo(e),r=Ms(e,t);if(r!==null){var n=Dr();Hn(r,e,t,n)}cv(e,t)}};pj=function(){return ot};gj=function(e,t){var r=ot;try{return ot=e,t()}finally{ot=r}};Fm=function(e,t,r){switch(t){case"input":if(Om(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=Xu(n);if(!o)throw Error(ne(90));Gb(n),Om(n,o)}}}break;case"textarea":Kb(e,r);break;case"select":t=r.value,t!=null&&sa(e,!!r.multiple,t,!1)}};rj=sv;nj=ci;var oR={usingClientEntryPoint:!1,Events:[Sc,Qi,Xu,ej,tj,sv]},fl={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iR={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Us.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ij(e),e===null?null:e.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||nR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{Yu=fd.inject(iR),ms=fd}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oR;mn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uv(t))throw Error(ne(200));return rR(e,t,null,r)};mn.createRoot=function(e,t){if(!uv(e))throw Error(ne(299));var r=!1,n="",o=LN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=lv(e,1,!1,null,null,r,!1,n,o),e[Is]=t.current,Yl(e.nodeType===8?e.parentNode:e),new dv(t)};mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=ij(t),e=e===null?null:e.stateNode,e};mn.flushSync=function(e){return ci(e)};mn.hydrate=function(e,t,r){if(!ah(t))throw Error(ne(200));return lh(null,e,t,!0,r)};mn.hydrateRoot=function(e,t,r){if(!uv(e))throw Error(ne(405));var n=r!=null&&r.hydratedSources||null,o=!1,i="",a=LN;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=$N(t,null,e,1,r??null,o,!1,i,a),e[Is]=t.current,Yl(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new ih(t)};mn.render=function(e,t,r){if(!ah(t))throw Error(ne(200));return lh(null,e,t,!1,r)};mn.unmountComponentAtNode=function(e){if(!ah(e))throw Error(ne(40));return e._reactRootContainer?(ci(function(){lh(null,null,e,!1,function(){e._reactRootContainer=null,e[Is]=null})}),!0):!1};mn.unstable_batchedUpdates=sv;mn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ah(r))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return lh(e,t,r,!1,n)};mn.version="18.3.1-next-f1338f8080-20240426";function FN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FN)}catch(e){console.error(e)}}FN(),Fb.exports=mn;var yi=Fb.exports;const UN=Eb(yi);var BN,ey=yi;BN=ey.createRoot,ey.hydrateRoot;const aR=1,lR=5e3,cR=5e3,dR=()=>typeof window>"u"?!1:window.innerWidth<768,uR=()=>dR()?3500:cR;let Rf=0;function hR(){return Rf=(Rf+1)%Number.MAX_SAFE_INTEGER,Rf.toString()}const Of=new Map,ty=e=>{if(Of.has(e))return;const t=setTimeout(()=>{Of.delete(e),Ml({type:"REMOVE_TOAST",toastId:e})},lR);Of.set(e,t)},fR=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,aR)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?ty(r):e.toasts.forEach(n=>{ty(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},qd=[];let Gd={toasts:[]};function Ml(e){Gd=fR(Gd,e),qd.forEach(t=>{t(Gd)})}function Oe({...e}){const t=hR(),r=o=>Ml({type:"UPDATE_TOAST",toast:{...o,id:t}}),n=()=>Ml({type:"DISMISS_TOAST",toastId:t});Ml({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||n()}}});try{setTimeout(()=>{n()},uR())}catch{}return{id:t,dismiss:n,update:r}}function Xt(){const[e,t]=h.useState(Gd);return h.useEffect(()=>(qd.push(t),()=>{const r=qd.indexOf(t);r>-1&&qd.splice(r,1)}),[e]),{...e,toast:Oe,dismiss:r=>Ml({type:"DISMISS_TOAST",toastId:r})}}function ie(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function ry(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ar(...e){return t=>{let r=!1;const n=e.map(o=>{const i=ry(o,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){const i=n[o];typeof i=="function"?i():ry(e[o],null)}}}}function We(...e){return h.useCallback(Ar(...e),e)}function mR(e,t){const r=h.createContext(t),n=i=>{const{children:a,...l}=i,c=h.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function o(i){const a=h.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,o]}function Lr(e,t=[]){let r=[];function n(i,a){const l=h.createContext(a),c=r.length;r=[...r,a];const d=m=>{var w;const{scope:p,children:f,...y}=m,g=((w=p==null?void 0:p[e])==null?void 0:w[c])||l,v=h.useMemo(()=>y,Object.values(y));return s.jsx(g.Provider,{value:v,children:f})};d.displayName=i+"Provider";function u(m,p){var g;const f=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,y=h.useContext(f);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const o=()=>{const i=r.map(a=>h.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[n,pR(o,...t)]}function pR(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function ny(e){const t=gR(e),r=h.forwardRef((n,o)=>{const{children:i,...a}=n,l=h.Children.toArray(i),c=l.find(xR);if(c){const d=c.props.children,u=l.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...a,ref:o,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return s.jsx(t,{...a,ref:o,children:i})});return r.displayName=`${e}.Slot`,r}function gR(e){const t=h.forwardRef((r,n)=>{const{children:o,...i}=r;if(h.isValidElement(o)){const a=wR(o),l=yR(i,o.props);return o.type!==h.Fragment&&(l.ref=n?Ar(n,a):a),h.cloneElement(o,l)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vR=Symbol("radix.slottable");function xR(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vR}function yR(e,t){const r={...t};for(const n in t){const o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...l)=>{const c=i(...l);return o(...l),c}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function wR(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ch(e){const t=e+"CollectionProvider",[r,n]=Lr(t),[o,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:v,children:w}=g,x=ae.useRef(null),b=ae.useRef(new Map).current;return s.jsx(o,{scope:v,itemMap:b,collectionRef:x,children:w})};a.displayName=t;const l=e+"CollectionSlot",c=ny(l),d=ae.forwardRef((g,v)=>{const{scope:w,children:x}=g,b=i(l,w),j=We(v,b.collectionRef);return s.jsx(c,{ref:j,children:x})});d.displayName=l;const u=e+"CollectionItemSlot",m="data-radix-collection-item",p=ny(u),f=ae.forwardRef((g,v)=>{const{scope:w,children:x,...b}=g,j=ae.useRef(null),T=We(v,j),S=i(u,w);return ae.useEffect(()=>(S.itemMap.set(j,{ref:j,...b}),()=>void S.itemMap.delete(j))),s.jsx(p,{[m]:"",ref:T,children:x})});f.displayName=u;function y(g){const v=i(e+"CollectionConsumer",g);return ae.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${m}]`));return Array.from(v.itemMap.values()).sort((S,N)=>b.indexOf(S.ref.current)-b.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:d,ItemSlot:f},y,n]}function bR(e){const t=jR(e),r=h.forwardRef((n,o)=>{const{children:i,...a}=n,l=h.Children.toArray(i),c=l.find(_R);if(c){const d=c.props.children,u=l.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...a,ref:o,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return s.jsx(t,{...a,ref:o,children:i})});return r.displayName=`${e}.Slot`,r}function jR(e){const t=h.forwardRef((r,n)=>{const{children:o,...i}=r;if(h.isValidElement(o)){const a=CR(o),l=SR(i,o.props);return o.type!==h.Fragment&&(l.ref=n?Ar(n,a):a),h.cloneElement(o,l)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var NR=Symbol("radix.slottable");function _R(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===NR}function SR(e,t){const r={...t};for(const n in t){const o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...l)=>{const c=i(...l);return o(...l),c}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function CR(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ER=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ye=ER.reduce((e,t)=>{const r=bR(`Primitive.${t}`),n=h.forwardRef((o,i)=>{const{asChild:a,...l}=o,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function hv(e,t){e&&yi.flushSync(()=>e.dispatchEvent(t))}function Ir(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function kR(e,t=globalThis==null?void 0:globalThis.document){const r=Ir(e);h.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var TR="DismissableLayer",xp="dismissableLayer.update",PR="dismissableLayer.pointerDownOutside",RR="dismissableLayer.focusOutside",sy,zN=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wi=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,d=h.useContext(zN),[u,m]=h.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=h.useState({}),y=We(t,N=>m(N)),g=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(v),x=u?g.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,j=x>=w,T=DR(N=>{const E=N.target,R=[...d.branches].some(P=>P.contains(E));!j||R||(o==null||o(N),a==null||a(N),N.defaultPrevented||l==null||l())},p),S=AR(N=>{const E=N.target;[...d.branches].some(P=>P.contains(E))||(i==null||i(N),a==null||a(N),N.defaultPrevented||l==null||l())},p);return kR(N=>{x===d.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},p),h.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(sy=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),oy(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=sy)}},[u,p,r,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),oy())},[u,d]),h.useEffect(()=>{const N=()=>f({});return document.addEventListener(xp,N),()=>document.removeEventListener(xp,N)},[]),s.jsx(ye.div,{...c,ref:y,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:ie(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ie(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ie(e.onPointerDownCapture,T.onPointerDownCapture)})});wi.displayName=TR;var OR="DismissableLayerBranch",VN=h.forwardRef((e,t)=>{const r=h.useContext(zN),n=h.useRef(null),o=We(t,n);return h.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(ye.div,{...e,ref:o})});VN.displayName=OR;function DR(e,t=globalThis==null?void 0:globalThis.document){const r=Ir(e),n=h.useRef(!1),o=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){WN(PR,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function AR(e,t=globalThis==null?void 0:globalThis.document){const r=Ir(e),n=h.useRef(!1);return h.useEffect(()=>{const o=i=>{i.target&&!n.current&&WN(RR,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function oy(){const e=new CustomEvent(xp);document.dispatchEvent(e)}function WN(e,t,r,{discrete:n}){const o=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?hv(o,i):o.dispatchEvent(i)}var IR=wi,MR=VN,Wt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},$R="Portal",Va=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[o,i]=h.useState(!1);Wt(()=>i(!0),[]);const a=r||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?UN.createPortal(s.jsx(ye.div,{...n,ref:t}),a):null});Va.displayName=$R;function LR(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Zr=e=>{const{present:t,children:r}=e,n=FR(t),o=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),i=We(n.ref,UR(o));return typeof r=="function"||n.isPresent?h.cloneElement(o,{ref:i}):null};Zr.displayName="Presence";function FR(e){const[t,r]=h.useState(),n=h.useRef(null),o=h.useRef(e),i=h.useRef("none"),a=e?"mounted":"unmounted",[l,c]=LR(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=md(n.current);i.current=l==="mounted"?d:"none"},[l]),Wt(()=>{const d=n.current,u=o.current;if(u!==e){const p=i.current,f=md(d);e?c("MOUNT"):f==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&p!==f?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),Wt(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,m=f=>{const g=md(n.current).includes(CSS.escape(f.animationName));if(f.target===t&&g&&(c("ANIMATION_END"),!o.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},p=f=>{f.target===t&&(i.current=md(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function md(e){return(e==null?void 0:e.animationName)||"none"}function UR(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var BR=Gu[" useInsertionEffect ".trim().toString()]||Wt;function Qn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,i,a]=zR({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:o;{const u=h.useRef(e!==void 0);h.useEffect(()=>{const m=u.current;m!==l&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=h.useCallback(u=>{var m;if(l){const p=VR(u)?u(e):u;p!==e&&((m=a.current)==null||m.call(a,p))}else i(u)},[l,e,i,a]);return[c,d]}function zR({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),o=h.useRef(r),i=h.useRef(t);return BR(()=>{i.current=t},[t]),h.useEffect(()=>{var a;o.current!==r&&((a=i.current)==null||a.call(i,r),o.current=r)},[r,o]),[r,n,i]}function VR(e){return typeof e=="function"}var HN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),WR="VisuallyHidden",dh=h.forwardRef((e,t)=>s.jsx(ye.span,{...e,ref:t,style:{...HN,...e.style}}));dh.displayName=WR;var HR=dh,fv="ToastProvider",[mv,qR,GR]=ch("Toast"),[qN]=Lr("Toast",[GR]),[YR,uh]=qN(fv),GN=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:i=50,children:a}=e,[l,c]=h.useState(null),[d,u]=h.useState(0),m=h.useRef(!1),p=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${fv}\`. Expected non-empty \`string\`.`),s.jsx(mv.Provider,{scope:t,children:s.jsx(YR,{scope:t,label:r,duration:n,swipeDirection:o,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>u(f=>f+1),[]),onToastRemove:h.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:p,children:a})})};GN.displayName=fv;var YN="ToastViewport",KR=["F8"],yp="toast.viewportPause",wp="toast.viewportResume",KN=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=KR,label:o="Notifications ({hotkey})",...i}=e,a=uh(YN,r),l=qR(r),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),m=h.useRef(null),p=We(t,m,a.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;h.useEffect(()=>{const v=w=>{var b;n.length!==0&&n.every(j=>w[j]||w.code===j)&&((b=m.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),h.useEffect(()=>{const v=c.current,w=m.current;if(y&&v&&w){const x=()=>{if(!a.isClosePausedRef.current){const S=new CustomEvent(yp);w.dispatchEvent(S),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const S=new CustomEvent(wp);w.dispatchEvent(S),a.isClosePausedRef.current=!1}},j=S=>{!v.contains(S.relatedTarget)&&b()},T=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",x),v.addEventListener("focusout",j),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",T),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",T),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[y,a.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:v})=>{const x=l().map(b=>{const j=b.ref.current,T=[j,...lO(j)];return v==="forwards"?T:T.reverse()});return(v==="forwards"?x.reverse():x).flat()},[l]);return h.useEffect(()=>{const v=m.current;if(v){const w=x=>{var T,S,N;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const E=document.activeElement,R=x.shiftKey;if(x.target===v&&R){(T=d.current)==null||T.focus();return}const O=g({tabbingDirection:R?"backwards":"forwards"}),M=O.findIndex(A=>A===E);Df(O.slice(M+1))?x.preventDefault():R?(S=d.current)==null||S.focus():(N=u.current)==null||N.focus()}};return v.addEventListener("keydown",w),()=>v.removeEventListener("keydown",w)}},[l,g]),s.jsxs(MR,{ref:c,role:"region","aria-label":o.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&s.jsx(bp,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});Df(v)}}),s.jsx(mv.Slot,{scope:r,children:s.jsx(ye.ol,{tabIndex:-1,...i,ref:p})}),y&&s.jsx(bp,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});Df(v)}})]})});KN.displayName=YN;var QN="ToastFocusProxy",bp=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...o}=e,i=uh(QN,r);return s.jsx(dh,{tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:a=>{var d;const l=a.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});bp.displayName=QN;var Ec="Toast",QR="toast.swipeStart",JR="toast.swipeMove",XR="toast.swipeCancel",ZR="toast.swipeEnd",JN=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:o,onOpenChange:i,...a}=e,[l,c]=Qn({prop:n,defaultProp:o??!0,onChange:i,caller:Ec});return s.jsx(Zr,{present:r||l,children:s.jsx(rO,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:Ir(e.onPause),onResume:Ir(e.onResume),onSwipeStart:ie(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ie(e.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:ie(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ie(e.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});JN.displayName=Ec;var[eO,tO]=qN(Ec,{onClose(){}}),rO=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:o,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:p,onSwipeEnd:f,...y}=e,g=uh(Ec,r),[v,w]=h.useState(null),x=We(t,A=>w(A)),b=h.useRef(null),j=h.useRef(null),T=o||g.duration,S=h.useRef(0),N=h.useRef(T),E=h.useRef(0),{onToastAdd:R,onToastRemove:P}=g,_=Ir(()=>{var H;(v==null?void 0:v.contains(document.activeElement))&&((H=g.viewport)==null||H.focus()),a()}),O=h.useCallback(A=>{!A||A===1/0||(window.clearTimeout(E.current),S.current=new Date().getTime(),E.current=window.setTimeout(_,A))},[_]);h.useEffect(()=>{const A=g.viewport;if(A){const H=()=>{O(N.current),d==null||d()},q=()=>{const I=new Date().getTime()-S.current;N.current=N.current-I,window.clearTimeout(E.current),c==null||c()};return A.addEventListener(yp,q),A.addEventListener(wp,H),()=>{A.removeEventListener(yp,q),A.removeEventListener(wp,H)}}},[g.viewport,T,c,d,O]),h.useEffect(()=>{i&&!g.isClosePausedRef.current&&O(T)},[i,T,g.isClosePausedRef,O]),h.useEffect(()=>(R(),()=>P()),[R,P]);const M=h.useMemo(()=>v?s1(v):null,[v]);return g.viewport?s.jsxs(s.Fragment,{children:[M&&s.jsx(nO,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:M}),s.jsx(eO,{scope:r,onClose:_,children:yi.createPortal(s.jsx(mv.ItemSlot,{scope:r,children:s.jsx(IR,{asChild:!0,onEscapeKeyDown:ie(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||_(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(ye.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ie(e.onKeyDown,A=>{A.key==="Escape"&&(l==null||l(A.nativeEvent),A.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:ie(e.onPointerDown,A=>{A.button===0&&(b.current={x:A.clientX,y:A.clientY})}),onPointerMove:ie(e.onPointerMove,A=>{if(!b.current)return;const H=A.clientX-b.current.x,q=A.clientY-b.current.y,I=!!j.current,D=["left","right"].includes(g.swipeDirection),$=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Y=D?$(0,H):0,C=D?0:$(0,q),k=A.pointerType==="touch"?10:2,L={x:Y,y:C},z={originalEvent:A,delta:L};I?(j.current=L,pd(JR,m,z,{discrete:!1})):iy(L,g.swipeDirection,k)?(j.current=L,pd(QR,u,z,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(H)>k||Math.abs(q)>k)&&(b.current=null)}),onPointerUp:ie(e.onPointerUp,A=>{const H=j.current,q=A.target;if(q.hasPointerCapture(A.pointerId)&&q.releasePointerCapture(A.pointerId),j.current=null,b.current=null,H){const I=A.currentTarget,D={originalEvent:A,delta:H};iy(H,g.swipeDirection,g.swipeThreshold)?pd(ZR,f,D,{discrete:!0}):pd(XR,p,D,{discrete:!0}),I.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),nO=e=>{const{__scopeToast:t,children:r,...n}=e,o=uh(Ec,t),[i,a]=h.useState(!1),[l,c]=h.useState(!1);return iO(()=>a(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(Va,{asChild:!0,children:s.jsx(dh,{...n,children:i&&s.jsxs(s.Fragment,{children:[o.label," ",r]})})})},sO="ToastTitle",XN=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(ye.div,{...n,ref:t})});XN.displayName=sO;var oO="ToastDescription",ZN=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(ye.div,{...n,ref:t})});ZN.displayName=oO;var e1="ToastAction",t1=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(n1,{altText:r,asChild:!0,children:s.jsx(pv,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${e1}\`. Expected non-empty \`string\`.`),null)});t1.displayName=e1;var r1="ToastClose",pv=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,o=tO(r1,r);return s.jsx(n1,{asChild:!0,children:s.jsx(ye.button,{type:"button",...n,ref:t,onClick:ie(e.onClick,o.onClose)})})});pv.displayName=r1;var n1=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...o}=e;return s.jsx(ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:t})});function s1(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),aO(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!o)if(i){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...s1(n))}}),t}function pd(e,t,r,{discrete:n}){const o=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?hv(o,i):o.dispatchEvent(i)}var iy=(e,t,r=0)=>{const n=Math.abs(e.x),o=Math.abs(e.y),i=n>o;return t==="left"||t==="right"?i&&n>r:!i&&o>r};function iO(e=()=>{}){const t=Ir(e);Wt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function aO(e){return e.nodeType===e.ELEMENT_NODE}function lO(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Df(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var cO=GN,o1=KN,i1=JN,a1=XN,l1=ZN,c1=t1,d1=pv;function u1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=u1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function h1(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=u1(e))&&(n&&(n+=" "),n+=t);return n}const ay=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ly=h1,Wa=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return ly(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:i}=t,a=Object.keys(o).map(d=>{const u=r==null?void 0:r[d],m=i==null?void 0:i[d];if(u===null)return null;const p=ay(u)||ay(m);return o[d][p]}),l=r&&Object.entries(r).reduce((d,u)=>{let[m,p]=u;return p===void 0||(d[m]=p),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:m,className:p,...f}=u;return Object.entries(f).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...d,m,p]:d},[]);return ly(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f1=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:a,...l},c)=>h.createElement("svg",{ref:c,...uO,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:f1("lucide",o),...l},[...a.map(([d,u])=>h.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(e,t)=>{const r=h.forwardRef(({className:n,...o},i)=>h.createElement(hO,{ref:i,iconNode:t,className:f1(`lucide-${dO(e)}`,n),...o}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=me("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=me("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=me("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=me("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=me("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=me("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=me("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=me("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=me("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=me("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=me("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=me("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=me("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=me("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=me("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=me("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=me("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=me("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=me("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=me("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=me("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=me("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=me("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=me("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=me("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),yv="-",RO=e=>{const t=DO(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(yv);return l[0]===""&&l.length!==1&&l.shift(),b1(l,t)||OO(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},b1=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?b1(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(yv);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},vy=/^\[(.+)\]$/,OO=e=>{if(vy.test(e)){const t=vy.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},DO=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return IO(Object.entries(e.classGroups),r).forEach(([i,a])=>{Ep(a,n,i,t)}),n},Ep=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:xy(t,o);i.classGroupId=r;return}if(typeof o=="function"){if(AO(o)){Ep(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([i,a])=>{Ep(a,xy(t,i),r,n)})})},xy=(e,t)=>{let r=e;return t.split(yv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},AO=e=>e.isThemeGetter,IO=(e,t)=>t?e.map(([r,n])=>{const o=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[r,o]}):e,MO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return o(i,a),a},set(i,a){r.has(i)?r.set(i,a):o(i,a)}}},j1="!",$O=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,o=t[0],i=t.length,a=l=>{const c=[];let d=0,u=0,m;for(let v=0;v<l.length;v++){let w=l[v];if(d===0){if(w===o&&(n||l.slice(v,v+i)===t)){c.push(l.slice(u,v)),u=v+i;continue}if(w==="/"){m=v;continue}}w==="["?d++:w==="]"&&d--}const p=c.length===0?l:l.substring(u),f=p.startsWith(j1),y=f?p.substring(1):p,g=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:y,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:a}):a},LO=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},FO=e=>({cache:MO(e.cacheSize),parseClassName:$O(e),...RO(e)}),UO=/\s+/,BO=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,i=[],a=e.trim().split(UO);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{modifiers:u,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:f}=r(d);let y=!!f,g=n(y?p.substring(0,f):p);if(!g){if(!y){l=d+(l.length>0?" "+l:l);continue}if(g=n(p),!g){l=d+(l.length>0?" "+l:l);continue}y=!1}const v=LO(u).join(":"),w=m?v+j1:v,x=w+g;if(i.includes(x))continue;i.push(x);const b=o(g,y);for(let j=0;j<b.length;++j){const T=b[j];i.push(w+T)}l=d+(l.length>0?" "+l:l)}return l};function zO(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=N1(t))&&(n&&(n+=" "),n+=r);return n}const N1=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=N1(e[n]))&&(r&&(r+=" "),r+=t);return r};function VO(e,...t){let r,n,o,i=a;function a(c){const d=t.reduce((u,m)=>m(u),e());return r=FO(d),n=r.cache.get,o=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=BO(c,r);return o(c,u),u}return function(){return i(zO.apply(null,arguments))}}const yt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},_1=/^\[(?:([a-z-]+):)?(.+)\]$/i,WO=/^\d+\/\d+$/,HO=new Set(["px","full","screen"]),qO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,KO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ns=e=>da(e)||HO.has(e)||WO.test(e),Vs=e=>Ha(e,"length",sD),da=e=>!!e&&!Number.isNaN(Number(e)),Mf=e=>Ha(e,"number",da),ml=e=>!!e&&Number.isInteger(Number(e)),JO=e=>e.endsWith("%")&&da(e.slice(0,-1)),Ue=e=>_1.test(e),Ws=e=>qO.test(e),XO=new Set(["length","size","percentage"]),ZO=e=>Ha(e,XO,S1),eD=e=>Ha(e,"position",S1),tD=new Set(["image","url"]),rD=e=>Ha(e,tD,iD),nD=e=>Ha(e,"",oD),pl=()=>!0,Ha=(e,t,r)=>{const n=_1.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},sD=e=>GO.test(e)&&!YO.test(e),S1=()=>!1,oD=e=>KO.test(e),iD=e=>QO.test(e),aD=()=>{const e=yt("colors"),t=yt("spacing"),r=yt("blur"),n=yt("brightness"),o=yt("borderColor"),i=yt("borderRadius"),a=yt("borderSpacing"),l=yt("borderWidth"),c=yt("contrast"),d=yt("grayscale"),u=yt("hueRotate"),m=yt("invert"),p=yt("gap"),f=yt("gradientColorStops"),y=yt("gradientColorStopPositions"),g=yt("inset"),v=yt("margin"),w=yt("opacity"),x=yt("padding"),b=yt("saturate"),j=yt("scale"),T=yt("sepia"),S=yt("skew"),N=yt("space"),E=yt("translate"),R=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",Ue,t],O=()=>[Ue,t],M=()=>["",Ns,Vs],A=()=>["auto",da,Ue],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Ue],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>[da,Ue];return{cacheSize:500,separator:":",theme:{colors:[pl],spacing:[Ns,Vs],blur:["none","",Ws,Ue],brightness:C(),borderColor:[e],borderRadius:["none","","full",Ws,Ue],borderSpacing:O(),borderWidth:M(),contrast:C(),grayscale:$(),hueRotate:C(),invert:$(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[JO,Vs],inset:_(),margin:_(),opacity:C(),padding:O(),saturate:C(),scale:C(),sepia:$(),skew:C(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ue]}],container:["container"],columns:[{columns:[Ws]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Ue]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ml,Ue]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ue]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",ml,Ue]}],"grid-cols":[{"grid-cols":[pl]}],"col-start-end":[{col:["auto",{span:["full",ml,Ue]},Ue]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[pl]}],"row-start-end":[{row:["auto",{span:[ml,Ue]},Ue]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ue]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ue,t]}],"min-w":[{"min-w":[Ue,t,"min","max","fit"]}],"max-w":[{"max-w":[Ue,t,"none","full","min","max","fit","prose",{screen:[Ws]},Ws]}],h:[{h:[Ue,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ue,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ue,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ue,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ws,Vs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mf]}],"font-family":[{font:[pl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ue]}],"line-clamp":[{"line-clamp":["none",da,Mf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ns,Ue]}],"list-image":[{"list-image":["none",Ue]}],"list-style-type":[{list:["none","disc","decimal",Ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ns,Vs]}],"underline-offset":[{"underline-offset":["auto",Ns,Ue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),eD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rD]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:q()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Ns,Ue]}],"outline-w":[{outline:[Ns,Vs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Ns,Vs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ws,nD]}],"shadow-color":[{shadow:[pl]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ws,Ue]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[b]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ue]}],duration:[{duration:C()}],ease:[{ease:["linear","in","out","in-out",Ue]}],delay:[{delay:C()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[ml,Ue]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ns,Vs,Mf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lD=VO(aD);function te(...e){return lD(h1(e))}const cD=cO,C1=h.forwardRef(({className:e,...t},r)=>s.jsx(o1,{ref:r,className:te("fixed bottom-0 z-[100] flex max-h-screen w-full flex-col p-4 sm:right-0 md:max-w-[420px]",e),...t}));C1.displayName=o1.displayName;const dD=Wa("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-xl border-2 p-6 pr-8 shadow-xl transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-bottom-full",{variants:{variant:{default:"border-gold-400/20 bg-navy-800/95 backdrop-blur-xl text-gold-50",destructive:"destructive border-red-500/30 bg-red-950/90 backdrop-blur-xl text-red-200 [&>svg]:text-red-400"}},defaultVariants:{variant:"default"}}),E1=h.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(i1,{ref:n,className:te(dD({variant:t}),e),...r}));E1.displayName=i1.displayName;const uD=h.forwardRef(({className:e,...t},r)=>s.jsx(c1,{ref:r,className:te("inline-flex h-8 shrink-0 items-center justify-center rounded-lg border-2 border-gold-400/30 bg-white/10 px-3 text-sm font-medium ring-offset-navy-800 transition-colors hover:bg-white/15 focus:outline-none focus:ring-2 focus:ring-gold-400/50 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-red-300 group-[.destructive]:hover:border-red-400 group-[.destructive]:hover:bg-red-50 group-[.destructive]:focus:ring-red-400 text-white/70",e),...t}));uD.displayName=c1.displayName;const k1=h.forwardRef(({className:e,...t},r)=>s.jsx(d1,{ref:r,className:te("absolute right-2 top-2 rounded-md p-1 text-white/60 opacity-70 ring-offset-navy-800 transition-opacity hover:opacity-100 focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-gold-400/50 focus:ring-offset-2 disabled:pointer-events-none group-[.destructive]:text-red-600 group-[.destructive]:hover:text-red-700 group-[.destructive]:focus:ring-red-400",e),"toast-close":"",...t,children:s.jsx(Oa,{className:"h-4 w-4"})}));k1.displayName=d1.displayName;const T1=h.forwardRef(({className:e,...t},r)=>s.jsx(a1,{ref:r,className:te("text-sm font-semibold text-gold-50",e),...t}));T1.displayName=a1.displayName;const P1=h.forwardRef(({className:e,...t},r)=>s.jsx(l1,{ref:r,className:te("text-sm opacity-90 text-white/60",e),...t}));P1.displayName=l1.displayName;function hD(){const{toasts:e}=Xt(),[t,r]=h.useState(!1);h.useEffect(()=>{const o=()=>{r(window.innerWidth<768)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const n=t?3500:5e3;return s.jsxs(cD,{duration:n,children:[e.map(function({id:o,title:i,description:a,action:l,...c}){return s.jsxs(E1,{...c,duration:n,children:[s.jsxs("div",{className:"grid gap-1",children:[i&&s.jsx(T1,{className:"text-gold-50",children:i}),a&&s.jsx(P1,{className:"text-white/60",children:a})]}),l,s.jsx(k1,{})]},o)}),s.jsx(C1,{})]})}var yy=["light","dark"],fD="(prefers-color-scheme: dark)",mD=h.createContext(void 0),pD={setTheme:e=>{},themes:[]},gD=()=>{var e;return(e=h.useContext(mD))!=null?e:pD};h.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:o,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,m=o?yy.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(y,g=!1,v=!0)=>{let w=a?a[y]:y,x=g?y+"|| ''":`'${w}'`,b="";return o&&v&&!g&&yy.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),r==="class"?g||w?b+=`c.add(${x})`:b+="null":w&&(b+=`d[s](n,${x})`),b},f=e?`!function(){${u}${p(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${fD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}${d?"":"else{"+p(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${m}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var vD=e=>{switch(e){case"success":return wD;case"info":return jD;case"warning":return bD;case"error":return ND;default:return null}},xD=Array(12).fill(0),yD=({visible:e,className:t})=>ae.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ae.createElement("div",{className:"sonner-spinner"},xD.map((r,n)=>ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),wD=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bD=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),jD=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ND=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_D=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),SD=()=>{let[e,t]=ae.useState(document.hidden);return ae.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},kp=1,CD=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,o=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:kp++,i=this.toasts.find(l=>l.id===o),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),i?this.toasts=this.toasts.map(l=>l.id===o?(this.publish({...l,...e,id:o,title:r}),{...l,...e,id:o,dismissible:a,title:r}):l):this.addToast({title:r,...n,dismissible:a,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),o=r!==void 0,i,a=n.then(async c=>{if(i=["resolve",c],ae.isValidElement(c))o=!1,this.create({id:r,type:"default",message:c});else if(kD(c)&&!c.ok){o=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){o=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){o=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;o&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>a.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||kp++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},zr=new CD,ED=(e,t)=>{let r=(t==null?void 0:t.id)||kp++;return zr.addToast({title:e,...t,id:r}),r},kD=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",TD=ED,PD=()=>zr.toasts,RD=()=>zr.getActiveToasts();Object.assign(TD,{success:zr.success,info:zr.info,warning:zr.warning,error:zr.error,custom:zr.custom,message:zr.message,promise:zr.promise,dismiss:zr.dismiss,loading:zr.loading},{getHistory:PD,getToasts:RD});function OD(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}OD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function gd(e){return e.label!==void 0}var DD=3,AD="32px",ID="16px",wy=4e3,MD=356,$D=14,LD=20,FD=200;function An(...e){return e.filter(Boolean).join(" ")}function UD(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var BD=e=>{var t,r,n,o,i,a,l,c,d,u,m;let{invert:p,toast:f,unstyled:y,interacting:g,setHeights:v,visibleToasts:w,heights:x,index:b,toasts:j,expanded:T,removeToast:S,defaultRichColors:N,closeButton:E,style:R,cancelButtonStyle:P,actionButtonStyle:_,className:O="",descriptionClassName:M="",duration:A,position:H,gap:q,loadingIcon:I,expandByDefault:D,classNames:$,icons:Y,closeButtonAriaLabel:C="Close toast",pauseWhenPageIsHidden:k}=e,[L,z]=ae.useState(null),[G,X]=ae.useState(null),[Q,ue]=ae.useState(!1),[fe,_e]=ae.useState(!1),[B,Ne]=ae.useState(!1),[Ze,it]=ae.useState(!1),[_r,Ut]=ae.useState(!1),[He,Zt]=ae.useState(0),[Ht,gn]=ae.useState(0),ar=ae.useRef(f.duration||A||wy),Rn=ae.useRef(null),Br=ae.useRef(null),rs=b===0,Z=b+1<=w,ce=f.type,De=f.dismissible!==!1,Be=f.className||"",Me=f.descriptionClassName||"",It=ae.useMemo(()=>x.findIndex(le=>le.toastId===f.id)||0,[x,f.id]),Qe=ae.useMemo(()=>{var le;return(le=f.closeButton)!=null?le:E},[f.closeButton,E]),jt=ae.useMemo(()=>f.duration||A||wy,[f.duration,A]),be=ae.useRef(0),at=ae.useRef(0),vt=ae.useRef(0),F=ae.useRef(null),[J,oe]=H.split("-"),de=ae.useMemo(()=>x.reduce((le,Ce,$e)=>$e>=It?le:le+Ce.height,0),[x,It]),Le=SD(),dt=f.invert||p,Ke=ce==="loading";at.current=ae.useMemo(()=>It*q+de,[It,de]),ae.useEffect(()=>{ar.current=jt},[jt]),ae.useEffect(()=>{ue(!0)},[]),ae.useEffect(()=>{let le=Br.current;if(le){let Ce=le.getBoundingClientRect().height;return gn(Ce),v($e=>[{toastId:f.id,height:Ce,position:f.position},...$e]),()=>v($e=>$e.filter(Ae=>Ae.toastId!==f.id))}},[v,f.id]),ae.useLayoutEffect(()=>{if(!Q)return;let le=Br.current,Ce=le.style.height;le.style.height="auto";let $e=le.getBoundingClientRect().height;le.style.height=Ce,gn($e),v(Ae=>Ae.find(xt=>xt.toastId===f.id)?Ae.map(xt=>xt.toastId===f.id?{...xt,height:$e}:xt):[{toastId:f.id,height:$e,position:f.position},...Ae])},[Q,f.title,f.description,v,f.id]);let ut=ae.useCallback(()=>{_e(!0),Zt(at.current),v(le=>le.filter(Ce=>Ce.toastId!==f.id)),setTimeout(()=>{S(f)},FD)},[f,S,v,at]);ae.useEffect(()=>{if(f.promise&&ce==="loading"||f.duration===1/0||f.type==="loading")return;let le;return T||g||k&&Le?(()=>{if(vt.current<be.current){let Ce=new Date().getTime()-be.current;ar.current=ar.current-Ce}vt.current=new Date().getTime()})():ar.current!==1/0&&(be.current=new Date().getTime(),le=setTimeout(()=>{var Ce;(Ce=f.onAutoClose)==null||Ce.call(f,f),ut()},ar.current)),()=>clearTimeout(le)},[T,g,f,ce,k,Le,ut]),ae.useEffect(()=>{f.delete&&ut()},[ut,f.delete]);function St(){var le,Ce,$e;return Y!=null&&Y.loading?ae.createElement("div",{className:An($==null?void 0:$.loader,(le=f==null?void 0:f.classNames)==null?void 0:le.loader,"sonner-loader"),"data-visible":ce==="loading"},Y.loading):I?ae.createElement("div",{className:An($==null?void 0:$.loader,(Ce=f==null?void 0:f.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":ce==="loading"},I):ae.createElement(yD,{className:An($==null?void 0:$.loader,($e=f==null?void 0:f.classNames)==null?void 0:$e.loader),visible:ce==="loading"})}return ae.createElement("li",{tabIndex:0,ref:Br,className:An(O,Be,$==null?void 0:$.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[ce],(r=f==null?void 0:f.classNames)==null?void 0:r[ce]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:N,"data-styled":!(f.jsx||f.unstyled||y),"data-mounted":Q,"data-promise":!!f.promise,"data-swiped":_r,"data-removed":fe,"data-visible":Z,"data-y-position":J,"data-x-position":oe,"data-index":b,"data-front":rs,"data-swiping":B,"data-dismissible":De,"data-type":ce,"data-invert":dt,"data-swipe-out":Ze,"data-swipe-direction":G,"data-expanded":!!(T||D&&Q),style:{"--index":b,"--toasts-before":b,"--z-index":j.length-b,"--offset":`${fe?He:at.current}px`,"--initial-height":D?"auto":`${Ht}px`,...R,...f.style},onDragEnd:()=>{Ne(!1),z(null),F.current=null},onPointerDown:le=>{Ke||!De||(Rn.current=new Date,Zt(at.current),le.target.setPointerCapture(le.pointerId),le.target.tagName!=="BUTTON"&&(Ne(!0),F.current={x:le.clientX,y:le.clientY}))},onPointerUp:()=>{var le,Ce,$e,Ae;if(Ze||!De)return;F.current=null;let xt=Number(((le=Br.current)==null?void 0:le.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),lt=Number(((Ce=Br.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),nt=new Date().getTime()-(($e=Rn.current)==null?void 0:$e.getTime()),ht=L==="x"?xt:lt,ft=Math.abs(ht)/nt;if(Math.abs(ht)>=LD||ft>.11){Zt(at.current),(Ae=f.onDismiss)==null||Ae.call(f,f),X(L==="x"?xt>0?"right":"left":lt>0?"down":"up"),ut(),it(!0),Ut(!1);return}Ne(!1),z(null)},onPointerMove:le=>{var Ce,$e,Ae,xt;if(!F.current||!De||((Ce=window.getSelection())==null?void 0:Ce.toString().length)>0)return;let lt=le.clientY-F.current.y,nt=le.clientX-F.current.x,ht=($e=e.swipeDirections)!=null?$e:UD(H);!L&&(Math.abs(nt)>1||Math.abs(lt)>1)&&z(Math.abs(nt)>Math.abs(lt)?"x":"y");let ft={x:0,y:0};L==="y"?(ht.includes("top")||ht.includes("bottom"))&&(ht.includes("top")&&lt<0||ht.includes("bottom")&&lt>0)&&(ft.y=lt):L==="x"&&(ht.includes("left")||ht.includes("right"))&&(ht.includes("left")&&nt<0||ht.includes("right")&&nt>0)&&(ft.x=nt),(Math.abs(ft.x)>0||Math.abs(ft.y)>0)&&Ut(!0),(Ae=Br.current)==null||Ae.style.setProperty("--swipe-amount-x",`${ft.x}px`),(xt=Br.current)==null||xt.style.setProperty("--swipe-amount-y",`${ft.y}px`)}},Qe&&!f.jsx?ae.createElement("button",{"aria-label":C,"data-disabled":Ke,"data-close-button":!0,onClick:Ke||!De?()=>{}:()=>{var le;ut(),(le=f.onDismiss)==null||le.call(f,f)},className:An($==null?void 0:$.closeButton,(o=f==null?void 0:f.classNames)==null?void 0:o.closeButton)},(i=Y==null?void 0:Y.close)!=null?i:_D):null,f.jsx||h.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:ae.createElement(ae.Fragment,null,ce||f.icon||f.promise?ae.createElement("div",{"data-icon":"",className:An($==null?void 0:$.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||St():null,f.type!=="loading"?f.icon||(Y==null?void 0:Y[ce])||vD(ce):null):null,ae.createElement("div",{"data-content":"",className:An($==null?void 0:$.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},ae.createElement("div",{"data-title":"",className:An($==null?void 0:$.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?ae.createElement("div",{"data-description":"",className:An(M,Me,$==null?void 0:$.description,(d=f==null?void 0:f.classNames)==null?void 0:d.description)},typeof f.description=="function"?f.description():f.description):null),h.isValidElement(f.cancel)?f.cancel:f.cancel&&gd(f.cancel)?ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||P,onClick:le=>{var Ce,$e;gd(f.cancel)&&De&&(($e=(Ce=f.cancel).onClick)==null||$e.call(Ce,le),ut())},className:An($==null?void 0:$.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,h.isValidElement(f.action)?f.action:f.action&&gd(f.action)?ae.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||_,onClick:le=>{var Ce,$e;gd(f.action)&&(($e=(Ce=f.action).onClick)==null||$e.call(Ce,le),!le.defaultPrevented&&ut())},className:An($==null?void 0:$.actionButton,(m=f==null?void 0:f.classNames)==null?void 0:m.actionButton)},f.action.label):null))};function by(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function zD(e,t){let r={};return[e,t].forEach((n,o)=>{let i=o===1,a=i?"--mobile-offset":"--offset",l=i?ID:AD;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${a}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${a}-${d}`]=l:r[`${a}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}var VD=h.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:o=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:m,duration:p,style:f,visibleToasts:y=DD,toastOptions:g,dir:v=by(),gap:w=$D,loadingIcon:x,icons:b,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:T}=e,[S,N]=ae.useState([]),E=ae.useMemo(()=>Array.from(new Set([n].concat(S.filter(k=>k.position).map(k=>k.position)))),[S,n]),[R,P]=ae.useState([]),[_,O]=ae.useState(!1),[M,A]=ae.useState(!1),[H,q]=ae.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=ae.useRef(null),D=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=ae.useRef(null),Y=ae.useRef(!1),C=ae.useCallback(k=>{N(L=>{var z;return(z=L.find(G=>G.id===k.id))!=null&&z.delete||zr.dismiss(k.id),L.filter(({id:G})=>G!==k.id)})},[]);return ae.useEffect(()=>zr.subscribe(k=>{if(k.dismiss){N(L=>L.map(z=>z.id===k.id?{...z,delete:!0}:z));return}setTimeout(()=>{UN.flushSync(()=>{N(L=>{let z=L.findIndex(G=>G.id===k.id);return z!==-1?[...L.slice(0,z),{...L[z],...k},...L.slice(z+1)]:[k,...L]})})})}),[]),ae.useEffect(()=>{if(u!=="system"){q(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let k=window.matchMedia("(prefers-color-scheme: dark)");try{k.addEventListener("change",({matches:L})=>{q(L?"dark":"light")})}catch{k.addListener(({matches:z})=>{try{q(z?"dark":"light")}catch(G){console.error(G)}})}},[u]),ae.useEffect(()=>{S.length<=1&&O(!1)},[S]),ae.useEffect(()=>{let k=L=>{var z,G;o.every(X=>L[X]||L.code===X)&&(O(!0),(z=I.current)==null||z.focus()),L.code==="Escape"&&(document.activeElement===I.current||(G=I.current)!=null&&G.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[o]),ae.useEffect(()=>{if(I.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,Y.current=!1)}},[I.current]),ae.createElement("section",{ref:t,"aria-label":`${j} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((k,L)=>{var z;let[G,X]=k.split("-");return S.length?ae.createElement("ol",{key:k,dir:v==="auto"?by():v,tabIndex:-1,ref:I,className:l,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":G,"data-lifted":_&&S.length>1&&!i,"data-x-position":X,style:{"--front-toast-height":`${((z=R[0])==null?void 0:z.height)||0}px`,"--width":`${MD}px`,"--gap":`${w}px`,...f,...zD(c,d)},onBlur:Q=>{Y.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(Y.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,$.current=Q.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{M||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},S.filter(Q=>!Q.position&&L===0||Q.position===k).map((Q,ue)=>{var fe,_e;return ae.createElement(BD,{key:Q.id,icons:b,index:ue,toast:Q,defaultRichColors:m,duration:(fe=g==null?void 0:g.duration)!=null?fe:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:y,closeButton:(_e=g==null?void 0:g.closeButton)!=null?_e:a,interacting:M,position:k,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:C,toasts:S.filter(B=>B.position==Q.position),heights:R.filter(B=>B.position==Q.position),setHeights:P,expandByDefault:i,gap:w,loadingIcon:x,expanded:_,pauseWhenPageIsHidden:T,swipeDirections:e.swipeDirections})})):null}))});const WD=({...e})=>{const{theme:t="system"}=gD();return s.jsx(VD,{theme:t,className:"toaster group",position:typeof window<"u"&&window.innerWidth<768?"bottom-center":"top-right",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-navy-800/95 group-[.toaster]:backdrop-blur-xl group-[.toaster]:text-gold-50 group-[.toaster]:border-gold-400/20 group-[.toaster]:shadow-xl group-[.toaster]:shadow-black/30",description:"group-[.toast]:text-white/60",actionButton:"group-[.toast]:bg-gold-400 group-[.toast]:text-navy-900",cancelButton:"group-[.toast]:bg-white/10 group-[.toast]:text-white/70"}},...e})};var HD=Gu[" useId ".trim().toString()]||(()=>{}),qD=0;function hr(e){const[t,r]=h.useState(HD());return Wt(()=>{r(n=>n??String(qD++))},[e]),t?`radix-${t}`:""}const GD=["top","right","bottom","left"],bo=Math.min,nn=Math.max,ku=Math.round,vd=Math.floor,gs=e=>({x:e,y:e}),YD={left:"right",right:"left",bottom:"top",top:"bottom"},KD={start:"end",end:"start"};function Tp(e,t,r){return nn(e,bo(t,r))}function Ls(e,t){return typeof e=="function"?e(t):e}function Fs(e){return e.split("-")[0]}function qa(e){return e.split("-")[1]}function wv(e){return e==="x"?"y":"x"}function bv(e){return e==="y"?"height":"width"}const QD=new Set(["top","bottom"]);function us(e){return QD.has(Fs(e))?"y":"x"}function jv(e){return wv(us(e))}function JD(e,t,r){r===void 0&&(r=!1);const n=qa(e),o=jv(e),i=bv(o);let a=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Tu(a)),[a,Tu(a)]}function XD(e){const t=Tu(e);return[Pp(e),t,Pp(t)]}function Pp(e){return e.replace(/start|end/g,t=>KD[t])}const jy=["left","right"],Ny=["right","left"],ZD=["top","bottom"],eA=["bottom","top"];function tA(e,t,r){switch(e){case"top":case"bottom":return r?t?Ny:jy:t?jy:Ny;case"left":case"right":return t?ZD:eA;default:return[]}}function rA(e,t,r,n){const o=qa(e);let i=tA(Fs(e),r==="start",n);return o&&(i=i.map(a=>a+"-"+o),t&&(i=i.concat(i.map(Pp)))),i}function Tu(e){return e.replace(/left|right|bottom|top/g,t=>YD[t])}function nA(e){return{top:0,right:0,bottom:0,left:0,...e}}function R1(e){return typeof e!="number"?nA(e):{top:e,right:e,bottom:e,left:e}}function Pu(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function _y(e,t,r){let{reference:n,floating:o}=e;const i=us(t),a=jv(t),l=bv(a),c=Fs(t),d=i==="y",u=n.x+n.width/2-o.width/2,m=n.y+n.height/2-o.height/2,p=n[l]/2-o[l]/2;let f;switch(c){case"top":f={x:u,y:n.y-o.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:m};break;case"left":f={x:n.x-o.width,y:m};break;default:f={x:n.x,y:n.y}}switch(qa(t)){case"start":f[a]-=p*(r&&d?-1:1);break;case"end":f[a]+=p*(r&&d?-1:1);break}return f}const sA=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:i=[],platform:a}=r,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:m}=_y(d,n,c),p=n,f={},y=0;for(let g=0;g<l.length;g++){const{name:v,fn:w}=l[g],{x,y:b,data:j,reset:T}=await w({x:u,y:m,initialPlacement:n,placement:p,strategy:o,middlewareData:f,rects:d,platform:a,elements:{reference:e,floating:t}});u=x??u,m=b??m,f={...f,[v]:{...f[v],...j}},T&&y<=50&&(y++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(d=T.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):T.rects),{x:u,y:m}=_y(d,p,c)),g=-1)}return{x:u,y:m,placement:p,strategy:o,middlewareData:f}};async function oc(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:p=!1,padding:f=0}=Ls(t,e),y=R1(f),v=l[p?m==="floating"?"reference":"floating":m],w=Pu(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),x=m==="floating"?{x:n,y:o,width:a.floating.width,height:a.floating.height}:a.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},T=Pu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(w.top-T.top+y.top)/j.y,bottom:(T.bottom-w.bottom+y.bottom)/j.y,left:(w.left-T.left+y.left)/j.x,right:(T.right-w.right+y.right)/j.x}}const oA=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Ls(e,t)||{};if(d==null)return{};const m=R1(u),p={x:r,y:n},f=jv(o),y=bv(f),g=await a.getDimensions(d),v=f==="y",w=v?"top":"left",x=v?"bottom":"right",b=v?"clientHeight":"clientWidth",j=i.reference[y]+i.reference[f]-p[f]-i.floating[y],T=p[f]-i.reference[f],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let N=S?S[b]:0;(!N||!await(a.isElement==null?void 0:a.isElement(S)))&&(N=l.floating[b]||i.floating[y]);const E=j/2-T/2,R=N/2-g[y]/2-1,P=bo(m[w],R),_=bo(m[x],R),O=P,M=N-g[y]-_,A=N/2-g[y]/2+E,H=Tp(O,A,M),q=!c.arrow&&qa(o)!=null&&A!==H&&i.reference[y]/2-(A<O?P:_)-g[y]/2<0,I=q?A<O?A-O:A-M:0;return{[f]:p[f]+I,data:{[f]:H,centerOffset:A-H-I,...q&&{alignmentOffset:I}},reset:q}}}),iA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=Ls(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const w=Fs(o),x=us(l),b=Fs(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),T=p||(b||!g?[Tu(l)]:XD(l)),S=y!=="none";!p&&S&&T.push(...rA(l,g,y,j));const N=[l,...T],E=await oc(t,v),R=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&R.push(E[w]),m){const A=JD(o,a,j);R.push(E[A[0]],E[A[1]])}if(P=[...P,{placement:o,overflows:R}],!R.every(A=>A<=0)){var _,O;const A=(((_=i.flip)==null?void 0:_.index)||0)+1,H=N[A];if(H&&(!(m==="alignment"?x!==us(H):!1)||P.every(D=>us(D.placement)===x?D.overflows[0]>0:!0)))return{data:{index:A,overflows:P},reset:{placement:H}};let q=(O=P.filter(I=>I.overflows[0]<=0).sort((I,D)=>I.overflows[1]-D.overflows[1])[0])==null?void 0:O.placement;if(!q)switch(f){case"bestFit":{var M;const I=(M=P.filter(D=>{if(S){const $=us(D.placement);return $===x||$==="y"}return!0}).map(D=>[D.placement,D.overflows.filter($=>$>0).reduce(($,Y)=>$+Y,0)]).sort((D,$)=>D[1]-$[1])[0])==null?void 0:M[0];I&&(q=I);break}case"initialPlacement":q=l;break}if(o!==q)return{reset:{placement:q}}}return{}}}};function Sy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Cy(e){return GD.some(t=>e[t]>=0)}const aA=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=Ls(e,t);switch(n){case"referenceHidden":{const i=await oc(t,{...o,elementContext:"reference"}),a=Sy(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Cy(a)}}}case"escaped":{const i=await oc(t,{...o,altBoundary:!0}),a=Sy(i,r.floating);return{data:{escapedOffsets:a,escaped:Cy(a)}}}default:return{}}}}},O1=new Set(["left","top"]);async function lA(e,t){const{placement:r,platform:n,elements:o}=e,i=await(n.isRTL==null?void 0:n.isRTL(o.floating)),a=Fs(r),l=qa(r),c=us(r)==="y",d=O1.has(a)?-1:1,u=i&&c?-1:1,m=Ls(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:y}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof y=="number"&&(f=l==="end"?y*-1:y),c?{x:f*u,y:p*d}:{x:p*d,y:f*u}}const cA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:i,placement:a,middlewareData:l}=t,c=await lA(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:o+c.x,y:i+c.y,data:{...c,placement:a}}}}},dA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:v=>{let{x:w,y:x}=v;return{x:w,y:x}}},...c}=Ls(e,t),d={x:r,y:n},u=await oc(t,c),m=us(Fs(o)),p=wv(m);let f=d[p],y=d[m];if(i){const v=p==="y"?"top":"left",w=p==="y"?"bottom":"right",x=f+u[v],b=f-u[w];f=Tp(x,f,b)}if(a){const v=m==="y"?"top":"left",w=m==="y"?"bottom":"right",x=y+u[v],b=y-u[w];y=Tp(x,y,b)}const g=l.fn({...t,[p]:f,[m]:y});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[p]:i,[m]:a}}}}}},uA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ls(e,t),u={x:r,y:n},m=us(o),p=wv(m);let f=u[p],y=u[m];const g=Ls(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=p==="y"?"height":"width",j=i.reference[p]-i.floating[b]+v.mainAxis,T=i.reference[p]+i.reference[b]-v.mainAxis;f<j?f=j:f>T&&(f=T)}if(d){var w,x;const b=p==="y"?"width":"height",j=O1.has(Fs(o)),T=i.reference[m]-i.floating[b]+(j&&((w=a.offset)==null?void 0:w[m])||0)+(j?0:v.crossAxis),S=i.reference[m]+i.reference[b]+(j?0:((x=a.offset)==null?void 0:x[m])||0)-(j?v.crossAxis:0);y<T?y=T:y>S&&(y=S)}return{[p]:f,[m]:y}}}},hA=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...d}=Ls(e,t),u=await oc(t,d),m=Fs(o),p=qa(o),f=us(o)==="y",{width:y,height:g}=i.floating;let v,w;m==="top"||m==="bottom"?(v=m,w=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(w=m,v=p==="end"?"top":"bottom");const x=g-u.top-u.bottom,b=y-u.left-u.right,j=bo(g-u[v],x),T=bo(y-u[w],b),S=!t.middlewareData.shift;let N=j,E=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=x),S&&!p){const P=nn(u.left,0),_=nn(u.right,0),O=nn(u.top,0),M=nn(u.bottom,0);f?E=y-2*(P!==0||_!==0?P+_:nn(u.left,u.right)):N=g-2*(O!==0||M!==0?O+M:nn(u.top,u.bottom))}await c({...t,availableWidth:E,availableHeight:N});const R=await a.getDimensions(l.floating);return y!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function hh(){return typeof window<"u"}function Ga(e){return D1(e)?(e.nodeName||"").toLowerCase():"#document"}function cn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function bs(e){var t;return(t=(D1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function D1(e){return hh()?e instanceof Node||e instanceof cn(e).Node:!1}function Jn(e){return hh()?e instanceof Element||e instanceof cn(e).Element:!1}function ys(e){return hh()?e instanceof HTMLElement||e instanceof cn(e).HTMLElement:!1}function Ey(e){return!hh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof cn(e).ShadowRoot}const fA=new Set(["inline","contents"]);function Tc(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=Xn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!fA.has(o)}const mA=new Set(["table","td","th"]);function pA(e){return mA.has(Ga(e))}const gA=[":popover-open",":modal"];function fh(e){return gA.some(t=>{try{return e.matches(t)}catch{return!1}})}const vA=["transform","translate","scale","rotate","perspective"],xA=["transform","translate","scale","rotate","perspective","filter"],yA=["paint","layout","strict","content"];function Nv(e){const t=_v(),r=Jn(e)?Xn(e):e;return vA.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||xA.some(n=>(r.willChange||"").includes(n))||yA.some(n=>(r.contain||"").includes(n))}function wA(e){let t=jo(e);for(;ys(t)&&!Da(t);){if(Nv(t))return t;if(fh(t))return null;t=jo(t)}return null}function _v(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bA=new Set(["html","body","#document"]);function Da(e){return bA.has(Ga(e))}function Xn(e){return cn(e).getComputedStyle(e)}function mh(e){return Jn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function jo(e){if(Ga(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ey(e)&&e.host||bs(e);return Ey(t)?t.host:t}function A1(e){const t=jo(e);return Da(t)?e.ownerDocument?e.ownerDocument.body:e.body:ys(t)&&Tc(t)?t:A1(t)}function ic(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=A1(e),i=o===((n=e.ownerDocument)==null?void 0:n.body),a=cn(o);if(i){const l=Rp(a);return t.concat(a,a.visualViewport||[],Tc(o)?o:[],l&&r?ic(l):[])}return t.concat(o,ic(o,[],r))}function Rp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function I1(e){const t=Xn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=ys(e),i=o?e.offsetWidth:r,a=o?e.offsetHeight:n,l=ku(r)!==i||ku(n)!==a;return l&&(r=i,n=a),{width:r,height:n,$:l}}function Sv(e){return Jn(e)?e:e.contextElement}function ua(e){const t=Sv(e);if(!ys(t))return gs(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:i}=I1(t);let a=(i?ku(r.width):r.width)/n,l=(i?ku(r.height):r.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const jA=gs(0);function M1(e){const t=cn(e);return!_v()||!t.visualViewport?jA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function NA(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==cn(e)?!1:t}function ui(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),i=Sv(e);let a=gs(1);t&&(n?Jn(n)&&(a=ua(n)):a=ua(e));const l=NA(i,r,n)?M1(i):gs(0);let c=(o.left+l.x)/a.x,d=(o.top+l.y)/a.y,u=o.width/a.x,m=o.height/a.y;if(i){const p=cn(i),f=n&&Jn(n)?cn(n):n;let y=p,g=Rp(y);for(;g&&n&&f!==y;){const v=ua(g),w=g.getBoundingClientRect(),x=Xn(g),b=w.left+(g.clientLeft+parseFloat(x.paddingLeft))*v.x,j=w.top+(g.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,m*=v.y,c+=b,d+=j,y=cn(g),g=Rp(y)}}return Pu({width:u,height:m,x:c,y:d})}function ph(e,t){const r=mh(e).scrollLeft;return t?t.left+r:ui(bs(e)).left+r}function $1(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-ph(e,r),o=r.top+t.scrollTop;return{x:n,y:o}}function _A(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const i=o==="fixed",a=bs(n),l=t?fh(t.floating):!1;if(n===a||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=gs(1);const u=gs(0),m=ys(n);if((m||!m&&!i)&&((Ga(n)!=="body"||Tc(a))&&(c=mh(n)),ys(n))){const f=ui(n);d=ua(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}const p=a&&!m&&!i?$1(a,c):gs(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+p.x,y:r.y*d.y-c.scrollTop*d.y+u.y+p.y}}function SA(e){return Array.from(e.getClientRects())}function CA(e){const t=bs(e),r=mh(e),n=e.ownerDocument.body,o=nn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=nn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+ph(e);const l=-r.scrollTop;return Xn(n).direction==="rtl"&&(a+=nn(t.clientWidth,n.clientWidth)-o),{width:o,height:i,x:a,y:l}}const ky=25;function EA(e,t){const r=cn(e),n=bs(e),o=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,l=0,c=0;if(o){i=o.width,a=o.height;const u=_v();(!u||u&&t==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}const d=ph(n);if(d<=0){const u=n.ownerDocument,m=u.body,p=getComputedStyle(m),f=u.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,y=Math.abs(n.clientWidth-m.clientWidth-f);y<=ky&&(i-=y)}else d<=ky&&(i+=d);return{width:i,height:a,x:l,y:c}}const kA=new Set(["absolute","fixed"]);function TA(e,t){const r=ui(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,i=ys(e)?ua(e):gs(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=o*i.x,d=n*i.y;return{width:a,height:l,x:c,y:d}}function Ty(e,t,r){let n;if(t==="viewport")n=EA(e,r);else if(t==="document")n=CA(bs(e));else if(Jn(t))n=TA(t,r);else{const o=M1(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Pu(n)}function L1(e,t){const r=jo(e);return r===t||!Jn(r)||Da(r)?!1:Xn(r).position==="fixed"||L1(r,t)}function PA(e,t){const r=t.get(e);if(r)return r;let n=ic(e,[],!1).filter(l=>Jn(l)&&Ga(l)!=="body"),o=null;const i=Xn(e).position==="fixed";let a=i?jo(e):e;for(;Jn(a)&&!Da(a);){const l=Xn(a),c=Nv(a);!c&&l.position==="fixed"&&(o=null),(i?!c&&!o:!c&&l.position==="static"&&!!o&&kA.has(o.position)||Tc(a)&&!c&&L1(e,a))?n=n.filter(u=>u!==a):o=l,a=jo(a)}return t.set(e,n),n}function RA(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const a=[...r==="clippingAncestors"?fh(t)?[]:PA(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((d,u)=>{const m=Ty(t,u,o);return d.top=nn(m.top,d.top),d.right=bo(m.right,d.right),d.bottom=bo(m.bottom,d.bottom),d.left=nn(m.left,d.left),d},Ty(t,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function OA(e){const{width:t,height:r}=I1(e);return{width:t,height:r}}function DA(e,t,r){const n=ys(t),o=bs(t),i=r==="fixed",a=ui(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=gs(0);function d(){c.x=ph(o)}if(n||!n&&!i)if((Ga(t)!=="body"||Tc(o))&&(l=mh(t)),n){const f=ui(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else o&&d();i&&!n&&o&&d();const u=o&&!n&&!i?$1(o,l):gs(0),m=a.left+l.scrollLeft-c.x-u.x,p=a.top+l.scrollTop-c.y-u.y;return{x:m,y:p,width:a.width,height:a.height}}function $f(e){return Xn(e).position==="static"}function Py(e,t){if(!ys(e)||Xn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return bs(e)===r&&(r=r.ownerDocument.body),r}function F1(e,t){const r=cn(e);if(fh(e))return r;if(!ys(e)){let o=jo(e);for(;o&&!Da(o);){if(Jn(o)&&!$f(o))return o;o=jo(o)}return r}let n=Py(e,t);for(;n&&pA(n)&&$f(n);)n=Py(n,t);return n&&Da(n)&&$f(n)&&!Nv(n)?r:n||wA(e)||r}const AA=async function(e){const t=this.getOffsetParent||F1,r=this.getDimensions,n=await r(e.floating);return{reference:DA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function IA(e){return Xn(e).direction==="rtl"}const MA={convertOffsetParentRelativeRectToViewportRelativeRect:_A,getDocumentElement:bs,getClippingRect:RA,getOffsetParent:F1,getElementRects:AA,getClientRects:SA,getDimensions:OA,getScale:ua,isElement:Jn,isRTL:IA};function U1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $A(e,t){let r=null,n;const o=bs(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:m,width:p,height:f}=d;if(l||t(),!p||!f)return;const y=vd(m),g=vd(o.clientWidth-(u+p)),v=vd(o.clientHeight-(m+f)),w=vd(u),b={rootMargin:-y+"px "+-g+"px "+-v+"px "+-w+"px",threshold:nn(0,bo(1,c))||1};let j=!0;function T(S){const N=S[0].intersectionRatio;if(N!==c){if(!j)return a();N?a(!1,N):n=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!U1(d,e.getBoundingClientRect())&&a(),j=!1}try{r=new IntersectionObserver(T,{...b,root:o.ownerDocument})}catch{r=new IntersectionObserver(T,b)}r.observe(e)}return a(!0),i}function LA(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=Sv(e),u=o||i?[...d?ic(d):[],...ic(t)]:[];u.forEach(w=>{o&&w.addEventListener("scroll",r,{passive:!0}),i&&w.addEventListener("resize",r)});const m=d&&l?$A(d,r):null;let p=-1,f=null;a&&(f=new ResizeObserver(w=>{let[x]=w;x&&x.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(t)})),r()}),d&&!c&&f.observe(d),f.observe(t));let y,g=c?ui(e):null;c&&v();function v(){const w=ui(e);g&&!U1(g,w)&&r(),g=w,y=requestAnimationFrame(v)}return r(),()=>{var w;u.forEach(x=>{o&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),m==null||m(),(w=f)==null||w.disconnect(),f=null,c&&cancelAnimationFrame(y)}}const FA=cA,UA=dA,BA=iA,zA=hA,VA=aA,Ry=oA,WA=uA,HA=(e,t,r)=>{const n=new Map,o={platform:MA,...r},i={...o.platform,_c:n};return sA(e,t,{...o,platform:i})};var qA=typeof document<"u",GA=function(){},Yd=qA?h.useLayoutEffect:GA;function Ru(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ru(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const i=o[n];if(!(i==="_owner"&&e.$$typeof)&&!Ru(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function B1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Oy(e,t){const r=B1(e);return Math.round(t*r)/r}function Lf(e){const t=h.useRef(e);return Yd(()=>{t.current=e}),t}function YA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,m]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=h.useState(n);Ru(p,n)||f(n);const[y,g]=h.useState(null),[v,w]=h.useState(null),x=h.useCallback(D=>{D!==S.current&&(S.current=D,g(D))},[]),b=h.useCallback(D=>{D!==N.current&&(N.current=D,w(D))},[]),j=i||y,T=a||v,S=h.useRef(null),N=h.useRef(null),E=h.useRef(u),R=c!=null,P=Lf(c),_=Lf(o),O=Lf(d),M=h.useCallback(()=>{if(!S.current||!N.current)return;const D={placement:t,strategy:r,middleware:p};_.current&&(D.platform=_.current),HA(S.current,N.current,D).then($=>{const Y={...$,isPositioned:O.current!==!1};A.current&&!Ru(E.current,Y)&&(E.current=Y,yi.flushSync(()=>{m(Y)}))})},[p,t,r,_,O]);Yd(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,m(D=>({...D,isPositioned:!1})))},[d]);const A=h.useRef(!1);Yd(()=>(A.current=!0,()=>{A.current=!1}),[]),Yd(()=>{if(j&&(S.current=j),T&&(N.current=T),j&&T){if(P.current)return P.current(j,T,M);M()}},[j,T,M,P,R]);const H=h.useMemo(()=>({reference:S,floating:N,setReference:x,setFloating:b}),[x,b]),q=h.useMemo(()=>({reference:j,floating:T}),[j,T]),I=h.useMemo(()=>{const D={position:r,left:0,top:0};if(!q.floating)return D;const $=Oy(q.floating,u.x),Y=Oy(q.floating,u.y);return l?{...D,transform:"translate("+$+"px, "+Y+"px)",...B1(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:Y}},[r,l,q.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:M,refs:H,elements:q,floatingStyles:I}),[u,M,H,q,I])}const KA=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Ry({element:n.current,padding:o}).fn(r):{}:n?Ry({element:n,padding:o}).fn(r):{}}}},QA=(e,t)=>({...FA(e),options:[e,t]}),JA=(e,t)=>({...UA(e),options:[e,t]}),XA=(e,t)=>({...WA(e),options:[e,t]}),ZA=(e,t)=>({...BA(e),options:[e,t]}),eI=(e,t)=>({...zA(e),options:[e,t]}),tI=(e,t)=>({...VA(e),options:[e,t]}),rI=(e,t)=>({...KA(e),options:[e,t]});var nI="Arrow",z1=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...i}=e;return s.jsx(ye.svg,{...i,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});z1.displayName=nI;var sI=z1;function Cv(e){const[t,r]=h.useState(void 0);return Wt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;a=d.inlineSize,l=d.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Ev="Popper",[V1,Eo]=Lr(Ev),[oI,W1]=V1(Ev),H1=e=>{const{__scopePopper:t,children:r}=e,[n,o]=h.useState(null);return s.jsx(oI,{scope:t,anchor:n,onAnchorChange:o,children:r})};H1.displayName=Ev;var q1="PopperAnchor",G1=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,i=W1(q1,r),a=h.useRef(null),l=We(t,a),c=h.useRef(null);return h.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||a.current,d!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(ye.div,{...o,ref:l})});G1.displayName=q1;var kv="PopperContent",[iI,aI]=V1(kv),Y1=h.forwardRef((e,t)=>{var Q,ue,fe,_e,B,Ne;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:y,...g}=e,v=W1(kv,r),[w,x]=h.useState(null),b=We(t,Ze=>x(Ze)),[j,T]=h.useState(null),S=Cv(j),N=(S==null?void 0:S.width)??0,E=(S==null?void 0:S.height)??0,R=n+(i!=="center"?"-"+i:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},_=Array.isArray(d)?d:[d],O=_.length>0,M={padding:P,boundary:_.filter(cI),altBoundary:O},{refs:A,floatingStyles:H,placement:q,isPositioned:I,middlewareData:D}=YA({strategy:"fixed",placement:R,whileElementsMounted:(...Ze)=>LA(...Ze,{animationFrame:f==="always"}),elements:{reference:v.anchor},middleware:[QA({mainAxis:o+E,alignmentAxis:a}),c&&JA({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?XA():void 0,...M}),c&&ZA({...M}),eI({...M,apply:({elements:Ze,rects:it,availableWidth:_r,availableHeight:Ut})=>{const{width:He,height:Zt}=it.reference,Ht=Ze.floating.style;Ht.setProperty("--radix-popper-available-width",`${_r}px`),Ht.setProperty("--radix-popper-available-height",`${Ut}px`),Ht.setProperty("--radix-popper-anchor-width",`${He}px`),Ht.setProperty("--radix-popper-anchor-height",`${Zt}px`)}}),j&&rI({element:j,padding:l}),dI({arrowWidth:N,arrowHeight:E}),p&&tI({strategy:"referenceHidden",...M})]}),[$,Y]=J1(q),C=Ir(y);Wt(()=>{I&&(C==null||C())},[I,C]);const k=(Q=D.arrow)==null?void 0:Q.x,L=(ue=D.arrow)==null?void 0:ue.y,z=((fe=D.arrow)==null?void 0:fe.centerOffset)!==0,[G,X]=h.useState();return Wt(()=>{w&&X(window.getComputedStyle(w).zIndex)},[w]),s.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:I?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(_e=D.transformOrigin)==null?void 0:_e.x,(B=D.transformOrigin)==null?void 0:B.y].join(" "),...((Ne=D.hide)==null?void 0:Ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(iI,{scope:r,placedSide:$,onArrowChange:T,arrowX:k,arrowY:L,shouldHideArrow:z,children:s.jsx(ye.div,{"data-side":$,"data-align":Y,...g,ref:b,style:{...g.style,animation:I?void 0:"none"}})})})});Y1.displayName=kv;var K1="PopperArrow",lI={top:"bottom",right:"left",bottom:"top",left:"right"},Q1=h.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,i=aI(K1,n),a=lI[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(sI,{...o,ref:r,style:{...o.style,display:"block"}})})});Q1.displayName=K1;function cI(e){return e!==null}var dI=e=>({name:"transformOrigin",options:e,fn(t){var v,w,x;const{placement:r,rects:n,middlewareData:o}=t,a=((v=o.arrow)==null?void 0:v.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[d,u]=J1(r),m={start:"0%",center:"50%",end:"100%"}[u],p=(((w=o.arrow)==null?void 0:w.x)??0)+l/2,f=(((x=o.arrow)==null?void 0:x.y)??0)+c/2;let y="",g="";return d==="bottom"?(y=a?m:`${p}px`,g=`${-c}px`):d==="top"?(y=a?m:`${p}px`,g=`${n.floating.height+c}px`):d==="right"?(y=`${-c}px`,g=a?m:`${f}px`):d==="left"&&(y=`${n.floating.width+c}px`,g=a?m:`${f}px`),{data:{x:y,y:g}}}});function J1(e){const[t,r="center"]=e.split("-");return[t,r]}var Tv=H1,Pc=G1,gh=Y1,vh=Q1,uI=Symbol("radix.slottable");function hI(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=uI,t}var[xh]=Lr("Tooltip",[Eo]),Pv=Eo(),X1="TooltipProvider",fI=700,Dy="tooltip.open",[mI,Z1]=xh(X1),e_=e=>{const{__scopeTooltip:t,delayDuration:r=fI,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:i}=e,a=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(mI,{scope:t,isOpenDelayedRef:a,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(d=>{l.current=d},[]),disableHoverableContent:o,children:i})};e_.displayName=X1;var t_="Tooltip",[V9,yh]=xh(t_),Op="TooltipTrigger",pI=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=yh(Op,r),i=Z1(Op,r),a=Pv(r),l=h.useRef(null),c=We(t,l,o.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),m=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(Pc,{asChild:!0,...a,children:s.jsx(ye.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:c,onPointerMove:ie(e.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),u.current=!0)}),onPointerLeave:ie(e.onPointerLeave,()=>{o.onTriggerLeave(),u.current=!1}),onPointerDown:ie(e.onPointerDown,()=>{o.open&&o.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ie(e.onFocus,()=>{d.current||o.onOpen()}),onBlur:ie(e.onBlur,o.onClose),onClick:ie(e.onClick,o.onClose)})})});pI.displayName=Op;var gI="TooltipPortal",[W9,vI]=xh(gI,{forceMount:void 0}),Aa="TooltipContent",r_=h.forwardRef((e,t)=>{const r=vI(Aa,e.__scopeTooltip),{forceMount:n=r.forceMount,side:o="top",...i}=e,a=yh(Aa,e.__scopeTooltip);return s.jsx(Zr,{present:n||a.open,children:a.disableHoverableContent?s.jsx(n_,{side:o,...i,ref:t}):s.jsx(xI,{side:o,...i,ref:t})})}),xI=h.forwardRef((e,t)=>{const r=yh(Aa,e.__scopeTooltip),n=Z1(Aa,e.__scopeTooltip),o=h.useRef(null),i=We(t,o),[a,l]=h.useState(null),{trigger:c,onClose:d}=r,u=o.current,{onPointerInTransitChange:m}=n,p=h.useCallback(()=>{l(null),m(!1)},[m]),f=h.useCallback((y,g)=>{const v=y.currentTarget,w={x:y.clientX,y:y.clientY},x=NI(w,v.getBoundingClientRect()),b=_I(w,x),j=SI(g.getBoundingClientRect()),T=EI([...b,...j]);l(T),m(!0)},[m]);return h.useEffect(()=>()=>p(),[p]),h.useEffect(()=>{if(c&&u){const y=v=>f(v,u),g=v=>f(v,c);return c.addEventListener("pointerleave",y),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",g)}}},[c,u,f,p]),h.useEffect(()=>{if(a){const y=g=>{const v=g.target,w={x:g.clientX,y:g.clientY},x=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),b=!CI(w,a);x?p():b&&(p(),d())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,u,a,d,p]),s.jsx(n_,{...e,ref:i})}),[yI,wI]=xh(t_,{isInside:!1}),bI=hI("TooltipContent"),n_=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,c=yh(Aa,r),d=Pv(r),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(Dy,u),()=>document.removeEventListener(Dy,u)),[u]),h.useEffect(()=>{if(c.trigger){const m=p=>{const f=p.target;f!=null&&f.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),s.jsx(wi,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:s.jsxs(gh,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(bI,{children:n}),s.jsx(yI,{scope:r,isInside:!0,children:s.jsx(HR,{id:c.contentId,role:"tooltip",children:o||n})})]})})});r_.displayName=Aa;var s_="TooltipArrow",jI=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=Pv(r);return wI(s_,r).isInside?null:s.jsx(vh,{...o,...n,ref:t})});jI.displayName=s_;function NI(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,o,i)){case i:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function _I(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function SI(e){const{top:t,right:r,bottom:n,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:n},{x:o,y:n}]}function CI(e,t){const{x:r,y:n}=e;let o=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i],c=t[a],d=l.x,u=l.y,m=c.x,p=c.y;u>n!=p>n&&r<(m-d)*(n-u)/(p-u)+d&&(o=!o)}return o}function EI(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),kI(t)}function kI(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const o=e[n];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(o.y-a.y)>=(i.y-a.y)*(o.x-a.x))t.pop();else break}t.push(o)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const o=e[n];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(o.y-a.y)>=(i.y-a.y)*(o.x-a.x))r.pop();else break}r.push(o)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var TI=e_,o_=r_;const PI=TI,RI=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(o_,{ref:n,sideOffset:t,className:te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));RI.displayName=o_.displayName;var wh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},OI={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},to,vg,vb,DI=(vb=class{constructor(){Je(this,to,OI);Je(this,vg,!1)}setTimeoutProvider(e){Re(this,to,e)}setTimeout(e,t){return ee(this,to).setTimeout(e,t)}clearTimeout(e){ee(this,to).clearTimeout(e)}setInterval(e,t){return ee(this,to).setInterval(e,t)}clearInterval(e){ee(this,to).clearInterval(e)}},to=new WeakMap,vg=new WeakMap,vb),Dp=new DI;function AI(e){setTimeout(e,0)}var bh=typeof window>"u"||"Deno"in globalThis;function Ln(){}function II(e,t){return typeof e=="function"?e(t):e}function MI(e){return typeof e=="number"&&e>=0&&e!==1/0}function $I(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ap(e,t){return typeof e=="function"?e(t):e}function LI(e,t){return typeof e=="function"?e(t):e}function Ay(e,t){const{type:r="all",exact:n,fetchStatus:o,predicate:i,queryKey:a,stale:l}=e;if(a){if(n){if(t.queryHash!==Rv(a,t.options))return!1}else if(!lc(t.queryKey,a))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||o&&o!==t.state.fetchStatus||i&&!i(t))}function Iy(e,t){const{exact:r,status:n,predicate:o,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(ac(t.options.mutationKey)!==ac(i))return!1}else if(!lc(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||o&&!o(t))}function Rv(e,t){return((t==null?void 0:t.queryKeyHashFn)||ac)(e)}function ac(e){return JSON.stringify(e,(t,r)=>Ip(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function lc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>lc(e[r],t[r])):!1}var FI=Object.prototype.hasOwnProperty;function i_(e,t){if(e===t)return e;const r=My(e)&&My(t);if(!r&&!(Ip(e)&&Ip(t)))return t;const o=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),a=i.length,l=r?new Array(a):{};let c=0;for(let d=0;d<a;d++){const u=r?d:i[d],m=e[u],p=t[u];if(m===p){l[u]=m,(r?d<o:FI.call(e,u))&&c++;continue}if(m===null||p===null||typeof m!="object"||typeof p!="object"){l[u]=p;continue}const f=i_(m,p);l[u]=f,f===m&&c++}return o===a&&c===o?e:l}function My(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ip(e){if(!$y(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!$y(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function $y(e){return Object.prototype.toString.call(e)==="[object Object]"}function UI(e){return new Promise(t=>{Dp.setTimeout(t,e)})}function BI(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?i_(e,t):t}function zI(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function VI(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Ov=Symbol();function a_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ov?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Qo,ro,pa,xb,WI=(xb=class extends wh{constructor(){super();Je(this,Qo);Je(this,ro);Je(this,pa);Re(this,pa,t=>{if(!bh&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ee(this,ro)||this.setEventListener(ee(this,pa))}onUnsubscribe(){var t;this.hasListeners()||((t=ee(this,ro))==null||t.call(this),Re(this,ro,void 0))}setEventListener(t){var r;Re(this,pa,t),(r=ee(this,ro))==null||r.call(this),Re(this,ro,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ee(this,Qo)!==t&&(Re(this,Qo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ee(this,Qo)=="boolean"?ee(this,Qo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Qo=new WeakMap,ro=new WeakMap,pa=new WeakMap,xb),l_=new WI;function HI(){let e,t;const r=new Promise((o,i)=>{e=o,t=i});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),e(o)},r.reject=o=>{n({status:"rejected",reason:o}),t(o)},r}var qI=AI;function GI(){let e=[],t=0,r=l=>{l()},n=l=>{l()},o=qI;const i=l=>{t?e.push(l):o(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&o(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{o=l}}}var Pr=GI(),ga,no,va,yb,YI=(yb=class extends wh{constructor(){super();Je(this,ga,!0);Je(this,no);Je(this,va);Re(this,va,t=>{if(!bh&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ee(this,no)||this.setEventListener(ee(this,va))}onUnsubscribe(){var t;this.hasListeners()||((t=ee(this,no))==null||t.call(this),Re(this,no,void 0))}setEventListener(t){var r;Re(this,va,t),(r=ee(this,no))==null||r.call(this),Re(this,no,t(this.setOnline.bind(this)))}setOnline(t){ee(this,ga)!==t&&(Re(this,ga,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ee(this,ga)}},ga=new WeakMap,no=new WeakMap,va=new WeakMap,yb),Ou=new YI;function KI(e){return Math.min(1e3*2**e,3e4)}function c_(e){return(e??"online")==="online"?Ou.isOnline():!0}var Mp=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function d_(e){let t=!1,r=0,n;const o=HI(),i=()=>o.status!=="pending",a=g=>{var v;if(!i()){const w=new Mp(g);p(w),(v=e.onCancel)==null||v.call(e,w)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>l_.isFocused()&&(e.networkMode==="always"||Ou.isOnline())&&e.canRun(),u=()=>c_(e.networkMode)&&e.canRun(),m=g=>{i()||(n==null||n(),o.resolve(g))},p=g=>{i()||(n==null||n(),o.reject(g))},f=()=>new Promise(g=>{var v;n=w=>{(i()||d())&&g(w)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;n=void 0,i()||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(i())return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(m).catch(w=>{var S;if(i())return;const x=e.retry??(bh?0:3),b=e.retryDelay??KI,j=typeof b=="function"?b(r,w):b,T=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,w);if(t||!T){p(w);return}r++,(S=e.onFail)==null||S.call(e,r,w),UI(j).then(()=>d()?void 0:f()).then(()=>{t?p(w):y()})})};return{promise:o,status:()=>o.status,cancel:a,continue:()=>(n==null||n(),o),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?y():f().then(y),o)}}var Jo,wb,u_=(wb=class{constructor(){Je(this,Jo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),MI(this.gcTime)&&Re(this,Jo,Dp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bh?1/0:5*60*1e3))}clearGcTimeout(){ee(this,Jo)&&(Dp.clearTimeout(ee(this,Jo)),Re(this,Jo,void 0))}},Jo=new WeakMap,wb),Xo,xa,yn,Zo,er,yc,ei,Un,Ss,bb,QI=(bb=class extends u_{constructor(t){super();Je(this,Un);Je(this,Xo);Je(this,xa);Je(this,yn);Je(this,Zo);Je(this,er);Je(this,yc);Je(this,ei);Re(this,ei,!1),Re(this,yc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Re(this,Zo,t.client),Re(this,yn,ee(this,Zo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Re(this,Xo,Fy(this.options)),this.state=t.state??ee(this,Xo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ee(this,er))==null?void 0:t.promise}setOptions(t){if(this.options={...ee(this,yc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Fy(this.options);r.data!==void 0&&(this.setState(Ly(r.data,r.dataUpdatedAt)),Re(this,Xo,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ee(this,yn).remove(this)}setData(t,r){const n=BI(this.state.data,t,this.options);return gr(this,Un,Ss).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){gr(this,Un,Ss).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,o;const r=(n=ee(this,er))==null?void 0:n.promise;return(o=ee(this,er))==null||o.cancel(t),r?r.then(Ln).catch(Ln):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ee(this,Xo))}isActive(){return this.observers.some(t=>LI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ov||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ap(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!$I(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ee(this,er))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ee(this,er))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ee(this,yn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ee(this,er)&&(ee(this,ei)?ee(this,er).cancel({revert:!0}):ee(this,er).cancelRetry()),this.scheduleGc()),ee(this,yn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||gr(this,Un,Ss).call(this,{type:"invalidate"})}async fetch(t,r){var c,d,u,m,p,f,y,g,v,w,x,b;if(this.state.fetchStatus!=="idle"&&((c=ee(this,er))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ee(this,er))return ee(this,er).continueRetry(),ee(this,er).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(T=>T.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,o=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(Re(this,ei,!0),n.signal)})},i=()=>{const j=a_(this.options,r),S=(()=>{const N={client:ee(this,Zo),queryKey:this.queryKey,meta:this.meta};return o(N),N})();return Re(this,ei,!1),this.options.persister?this.options.persister(j,S,this):j(S)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ee(this,Zo),state:this.state,fetchFn:i};return o(j),j})();(d=this.options.behavior)==null||d.onFetch(l,this),Re(this,xa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&gr(this,Un,Ss).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta}),Re(this,er,d_({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof Mp&&j.revert&&this.setState({...ee(this,xa),fetchStatus:"idle"}),n.abort()},onFail:(j,T)=>{gr(this,Un,Ss).call(this,{type:"failed",failureCount:j,error:T})},onPause:()=>{gr(this,Un,Ss).call(this,{type:"pause"})},onContinue:()=>{gr(this,Un,Ss).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await ee(this,er).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(f=(p=ee(this,yn).config).onSuccess)==null||f.call(p,j,this),(g=(y=ee(this,yn).config).onSettled)==null||g.call(y,j,this.state.error,this),j}catch(j){if(j instanceof Mp){if(j.silent)return ee(this,er).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw gr(this,Un,Ss).call(this,{type:"error",error:j}),(w=(v=ee(this,yn).config).onError)==null||w.call(v,j,this),(b=(x=ee(this,yn).config).onSettled)==null||b.call(x,this.state.data,j,this),j}finally{this.scheduleGc()}}},Xo=new WeakMap,xa=new WeakMap,yn=new WeakMap,Zo=new WeakMap,er=new WeakMap,yc=new WeakMap,ei=new WeakMap,Un=new WeakSet,Ss=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...JI(n.data,this.options),fetchMeta:t.meta??null};case"success":const o={...n,...Ly(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Re(this,xa,t.manual?o:void 0),o;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Pr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ee(this,yn).notify({query:this,type:"updated",action:t})})},bb);function JI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:c_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ly(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Fy(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Uy(e){return{onFetch:(t,r)=>{var u,m,p,f,y;const n=t.options,o=(p=(m=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:p.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],a=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},w=a_(t.options,t.fetchOptions),x=async(b,j,T)=>{if(g)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const N=(()=>{const _={client:t.client,queryKey:t.queryKey,pageParam:j,direction:T?"backward":"forward",meta:t.options.meta};return v(_),_})(),E=await w(N),{maxPages:R}=t.options,P=T?VI:zI;return{pages:P(b.pages,E,R),pageParams:P(b.pageParams,j,R)}};if(o&&i.length){const b=o==="backward",j=b?XI:By,T={pages:i,pageParams:a},S=j(n,T);l=await x(T,S,b)}else{const b=e??i.length;do{const j=c===0?a[0]??n.initialPageParam:By(n,l);if(c>0&&j==null)break;l=await x(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,v;return(v=(g=t.options).persister)==null?void 0:v.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function By(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function XI(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var wc,is,Er,ti,as,Gs,jb,ZI=(jb=class extends u_{constructor(t){super();Je(this,as);Je(this,wc);Je(this,is);Je(this,Er);Je(this,ti);Re(this,wc,t.client),this.mutationId=t.mutationId,Re(this,Er,t.mutationCache),Re(this,is,[]),this.state=t.state||e5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ee(this,is).includes(t)||(ee(this,is).push(t),this.clearGcTimeout(),ee(this,Er).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Re(this,is,ee(this,is).filter(r=>r!==t)),this.scheduleGc(),ee(this,Er).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ee(this,is).length||(this.state.status==="pending"?this.scheduleGc():ee(this,Er).remove(this))}continue(){var t;return((t=ee(this,ti))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,l,c,d,u,m,p,f,y,g,v,w,x,b,j,T,S,N,E,R;const r=()=>{gr(this,as,Gs).call(this,{type:"continue"})},n={client:ee(this,wc),meta:this.options.meta,mutationKey:this.options.mutationKey};Re(this,ti,d_({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(P,_)=>{gr(this,as,Gs).call(this,{type:"failed",failureCount:P,error:_})},onPause:()=>{gr(this,as,Gs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ee(this,Er).canRun(this)}));const o=this.state.status==="pending",i=!ee(this,ti).canStart();try{if(o)r();else{gr(this,as,Gs).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(a=ee(this,Er).config).onMutate)==null?void 0:l.call(a,t,this,n));const _=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,n));_!==this.state.context&&gr(this,as,Gs).call(this,{type:"pending",context:_,variables:t,isPaused:i})}const P=await ee(this,ti).start();return await((m=(u=ee(this,Er).config).onSuccess)==null?void 0:m.call(u,P,t,this.state.context,this,n)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,P,t,this.state.context,n)),await((g=(y=ee(this,Er).config).onSettled)==null?void 0:g.call(y,P,null,this.state.variables,this.state.context,this,n)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,P,null,t,this.state.context,n)),gr(this,as,Gs).call(this,{type:"success",data:P}),P}catch(P){try{throw await((b=(x=ee(this,Er).config).onError)==null?void 0:b.call(x,P,t,this.state.context,this,n)),await((T=(j=this.options).onError)==null?void 0:T.call(j,P,t,this.state.context,n)),await((N=(S=ee(this,Er).config).onSettled)==null?void 0:N.call(S,void 0,P,this.state.variables,this.state.context,this,n)),await((R=(E=this.options).onSettled)==null?void 0:R.call(E,void 0,P,t,this.state.context,n)),P}finally{gr(this,as,Gs).call(this,{type:"error",error:P})}}finally{ee(this,Er).runNext(this)}}},wc=new WeakMap,is=new WeakMap,Er=new WeakMap,ti=new WeakMap,as=new WeakSet,Gs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Pr.batch(()=>{ee(this,is).forEach(n=>{n.onMutationUpdate(t)}),ee(this,Er).notify({mutation:this,type:"updated",action:t})})},jb);function e5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ts,Bn,bc,Nb,t5=(Nb=class extends wh{constructor(t={}){super();Je(this,Ts);Je(this,Bn);Je(this,bc);this.config=t,Re(this,Ts,new Set),Re(this,Bn,new Map),Re(this,bc,0)}build(t,r,n){const o=new ZI({client:t,mutationCache:this,mutationId:++Qc(this,bc)._,options:t.defaultMutationOptions(r),state:n});return this.add(o),o}add(t){ee(this,Ts).add(t);const r=xd(t);if(typeof r=="string"){const n=ee(this,Bn).get(r);n?n.push(t):ee(this,Bn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ee(this,Ts).delete(t)){const r=xd(t);if(typeof r=="string"){const n=ee(this,Bn).get(r);if(n)if(n.length>1){const o=n.indexOf(t);o!==-1&&n.splice(o,1)}else n[0]===t&&ee(this,Bn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=xd(t);if(typeof r=="string"){const n=ee(this,Bn).get(r),o=n==null?void 0:n.find(i=>i.state.status==="pending");return!o||o===t}else return!0}runNext(t){var n;const r=xd(t);if(typeof r=="string"){const o=(n=ee(this,Bn).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Pr.batch(()=>{ee(this,Ts).forEach(t=>{this.notify({type:"removed",mutation:t})}),ee(this,Ts).clear(),ee(this,Bn).clear()})}getAll(){return Array.from(ee(this,Ts))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Iy(r,n))}findAll(t={}){return this.getAll().filter(r=>Iy(t,r))}notify(t){Pr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Pr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ln))))}},Ts=new WeakMap,Bn=new WeakMap,bc=new WeakMap,Nb);function xd(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ls,_b,r5=(_b=class extends wh{constructor(t={}){super();Je(this,ls);this.config=t,Re(this,ls,new Map)}build(t,r,n){const o=r.queryKey,i=r.queryHash??Rv(o,r);let a=this.get(i);return a||(a=new QI({client:t,queryKey:o,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(o)}),this.add(a)),a}add(t){ee(this,ls).has(t.queryHash)||(ee(this,ls).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ee(this,ls).get(t.queryHash);r&&(t.destroy(),r===t&&ee(this,ls).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Pr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ee(this,ls).get(t)}getAll(){return[...ee(this,ls).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Ay(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Ay(t,n)):r}notify(t){Pr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Pr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Pr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ls=new WeakMap,_b),Rt,so,oo,ya,wa,io,ba,ja,Sb,n5=(Sb=class{constructor(e={}){Je(this,Rt);Je(this,so);Je(this,oo);Je(this,ya);Je(this,wa);Je(this,io);Je(this,ba);Je(this,ja);Re(this,Rt,e.queryCache||new r5),Re(this,so,e.mutationCache||new t5),Re(this,oo,e.defaultOptions||{}),Re(this,ya,new Map),Re(this,wa,new Map),Re(this,io,0)}mount(){Qc(this,io)._++,ee(this,io)===1&&(Re(this,ba,l_.subscribe(async e=>{e&&(await this.resumePausedMutations(),ee(this,Rt).onFocus())})),Re(this,ja,Ou.subscribe(async e=>{e&&(await this.resumePausedMutations(),ee(this,Rt).onOnline())})))}unmount(){var e,t;Qc(this,io)._--,ee(this,io)===0&&((e=ee(this,ba))==null||e.call(this),Re(this,ba,void 0),(t=ee(this,ja))==null||t.call(this),Re(this,ja,void 0))}isFetching(e){return ee(this,Rt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ee(this,so).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ee(this,Rt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ee(this,Rt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ap(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ee(this,Rt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=ee(this,Rt).get(n.queryHash),i=o==null?void 0:o.state.data,a=II(t,i);if(a!==void 0)return ee(this,Rt).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return Pr.batch(()=>ee(this,Rt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ee(this,Rt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ee(this,Rt);Pr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ee(this,Rt);return Pr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Pr.batch(()=>ee(this,Rt).findAll(e).map(o=>o.cancel(r)));return Promise.all(n).then(Ln).catch(Ln)}invalidateQueries(e,t={}){return Pr.batch(()=>(ee(this,Rt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Pr.batch(()=>ee(this,Rt).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let i=o.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ln)),o.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ln)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ee(this,Rt).build(this,t);return r.isStaleByTime(Ap(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ln).catch(Ln)}fetchInfiniteQuery(e){return e.behavior=Uy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ln).catch(Ln)}ensureInfiniteQueryData(e){return e.behavior=Uy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ou.isOnline()?ee(this,so).resumePausedMutations():Promise.resolve()}getQueryCache(){return ee(this,Rt)}getMutationCache(){return ee(this,so)}getDefaultOptions(){return ee(this,oo)}setDefaultOptions(e){Re(this,oo,e)}setQueryDefaults(e,t){ee(this,ya).set(ac(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ee(this,ya).values()],r={};return t.forEach(n=>{lc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ee(this,wa).set(ac(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ee(this,wa).values()],r={};return t.forEach(n=>{lc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ee(this,oo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Rv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ov&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ee(this,oo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ee(this,Rt).clear(),ee(this,so).clear()}},Rt=new WeakMap,so=new WeakMap,oo=new WeakMap,ya=new WeakMap,wa=new WeakMap,io=new WeakMap,ba=new WeakMap,ja=new WeakMap,Sb),s5=h.createContext(void 0),o5=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(s5.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cc.apply(this,arguments)}var co;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(co||(co={}));const zy="popstate";function i5(e){e===void 0&&(e={});function t(n,o){let{pathname:i,search:a,hash:l}=n.location;return $p("",{pathname:i,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:h_(o)}return l5(t,r,null,e)}function Jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Dv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function a5(){return Math.random().toString(36).substr(2,8)}function Vy(e,t){return{usr:e.state,key:e.key,idx:t}}function $p(e,t,r,n){return r===void 0&&(r=null),cc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ya(t):t,{state:r,key:t&&t.key||n||a5()})}function h_(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ya(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function l5(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:i=!1}=n,a=o.history,l=co.Pop,c=null,d=u();d==null&&(d=0,a.replaceState(cc({},a.state,{idx:d}),""));function u(){return(a.state||{idx:null}).idx}function m(){l=co.Pop;let v=u(),w=v==null?null:v-d;d=v,c&&c({action:l,location:g.location,delta:w})}function p(v,w){l=co.Push;let x=$p(g.location,v,w);d=u()+1;let b=Vy(x,d),j=g.createHref(x);try{a.pushState(b,"",j)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;o.location.assign(j)}i&&c&&c({action:l,location:g.location,delta:1})}function f(v,w){l=co.Replace;let x=$p(g.location,v,w);d=u();let b=Vy(x,d),j=g.createHref(x);a.replaceState(b,"",j),i&&c&&c({action:l,location:g.location,delta:0})}function y(v){let w=o.location.origin!=="null"?o.location.origin:o.location.href,x=typeof v=="string"?v:h_(v);return x=x.replace(/ $/,"%20"),Jt(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let g={get action(){return l},get location(){return e(o,a)},listen(v){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(zy,m),c=v,()=>{o.removeEventListener(zy,m),c=null}},createHref(v){return t(o,v)},createURL:y,encodeLocation(v){let w=y(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:f,go(v){return a.go(v)}};return g}var Wy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wy||(Wy={}));function c5(e,t,r){return r===void 0&&(r="/"),d5(e,t,r)}function d5(e,t,r,n){let o=typeof t=="string"?Ya(t):t,i=p_(o.pathname||"/",r);if(i==null)return null;let a=f_(e);u5(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=N5(i);l=w5(a[c],d)}return l}function f_(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Jt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=si([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Jt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),f_(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:x5(d,i.index),routesMeta:u})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))o(i,a);else for(let c of m_(i.path))o(i,a,c)}),t}function m_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return o?[i,""]:[i];let a=m_(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),o&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function u5(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:y5(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const h5=/^:[\w-]+$/,f5=3,m5=2,p5=1,g5=10,v5=-2,Hy=e=>e==="*";function x5(e,t){let r=e.split("/"),n=r.length;return r.some(Hy)&&(n+=v5),t&&(n+=m5),r.filter(o=>!Hy(o)).reduce((o,i)=>o+(h5.test(i)?f5:i===""?p5:g5),n)}function y5(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function w5(e,t,r){let{routesMeta:n}=e,o={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=b5({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!m)return null;Object.assign(o,m.params),a.push({params:o,pathname:si([i,m.pathname]),pathnameBase:P5(si([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=si([i,m.pathnameBase]))}return a}function b5(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=j5(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:n.reduce((d,u,m)=>{let{paramName:p,isOptional:f}=u;if(p==="*"){let g=l[m]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[m];return f&&!y?d[p]=void 0:d[p]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:e}}function j5(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Dv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function N5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Dv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function p_(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const _5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S5=e=>_5.test(e);function C5(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?Ya(e):e,i;if(r)if(S5(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Dv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=qy(r.substring(1),"/"):i=qy(r,t)}else i=t;return{pathname:i,search:R5(n),hash:O5(o)}}function qy(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Ff(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function E5(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function k5(e,t){let r=E5(e);return t?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function T5(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=Ya(e):(o=cc({},e),Jt(!o.pathname||!o.pathname.includes("?"),Ff("?","pathname","search",o)),Jt(!o.pathname||!o.pathname.includes("#"),Ff("#","pathname","hash",o)),Jt(!o.search||!o.search.includes("#"),Ff("#","search","hash",o)));let i=e===""||o.pathname==="",a=i?"/":o.pathname,l;if(a==null)l=r;else{let m=t.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m-=1;o.pathname=p.join("/")}l=m>=0?t[m]:"/"}let c=C5(o,l),d=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const si=e=>e.join("/").replace(/\/\/+/g,"/"),P5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,O5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function D5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const g_=["post","put","patch","delete"];new Set(g_);const A5=["get",...g_];new Set(A5);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dc.apply(this,arguments)}const Av=h.createContext(null),I5=h.createContext(null),jh=h.createContext(null),Nh=h.createContext(null),bi=h.createContext({outlet:null,matches:[],isDataRoute:!1}),v_=h.createContext(null);function _h(){return h.useContext(Nh)!=null}function Ka(){return _h()||Jt(!1),h.useContext(Nh).location}function x_(e){h.useContext(jh).static||h.useLayoutEffect(e)}function Fr(){let{isDataRoute:e}=h.useContext(bi);return e?Y5():M5()}function M5(){_h()||Jt(!1);let e=h.useContext(Av),{basename:t,future:r,navigator:n}=h.useContext(jh),{matches:o}=h.useContext(bi),{pathname:i}=Ka(),a=JSON.stringify(k5(o,r.v7_relativeSplatPath)),l=h.useRef(!1);return x_(()=>{l.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=T5(d,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:si([t,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[t,n,a,i,e])}function Iv(){let{matches:e}=h.useContext(bi),t=e[e.length-1];return t?t.params:{}}function $5(e,t){return L5(e,t)}function L5(e,t,r,n){_h()||Jt(!1);let{navigator:o}=h.useContext(jh),{matches:i}=h.useContext(bi),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=Ka(),u;if(t){var m;let v=typeof t=="string"?Ya(t):t;c==="/"||(m=v.pathname)!=null&&m.startsWith(c)||Jt(!1),u=v}else u=d;let p=u.pathname||"/",f=p;if(c!=="/"){let v=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=c5(e,{pathname:f}),g=V5(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:si([c,o.encodeLocation?o.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:si([c,o.encodeLocation?o.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&g?h.createElement(Nh.Provider,{value:{location:dc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:co.Pop}},g):g}function F5(){let e=G5(),t=D5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:o},r):null,null)}const U5=h.createElement(F5,null);class B5 extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(bi.Provider,{value:this.props.routeContext},h.createElement(v_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function z5(e){let{routeContext:t,match:r,children:n}=e,o=h.useContext(Av);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(bi.Provider,{value:t},n)}function V5(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(o=r)==null?void 0:o.errors;if(l!=null){let u=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||Jt(!1),a=a.slice(0,Math.min(a.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let m=a[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:p,errors:f}=r,y=m.route.loader&&p[m.route.id]===void 0&&(!f||f[m.route.id]===void 0);if(m.route.lazy||y){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((u,m,p)=>{let f,y=!1,g=null,v=null;r&&(f=l&&m.route.id?l[m.route.id]:void 0,g=m.route.errorElement||U5,c&&(d<0&&p===0?(K5("route-fallback"),y=!0,v=null):d===p&&(y=!0,v=m.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,p+1)),x=()=>{let b;return f?b=g:y?b=v:m.route.Component?b=h.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=u,h.createElement(z5,{match:m,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:b})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?h.createElement(B5,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var y_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(y_||{}),w_=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(w_||{});function W5(e){let t=h.useContext(Av);return t||Jt(!1),t}function H5(e){let t=h.useContext(I5);return t||Jt(!1),t}function q5(e){let t=h.useContext(bi);return t||Jt(!1),t}function b_(e){let t=q5(),r=t.matches[t.matches.length-1];return r.route.id||Jt(!1),r.route.id}function G5(){var e;let t=h.useContext(v_),r=H5(),n=b_();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Y5(){let{router:e}=W5(y_.UseNavigateStable),t=b_(w_.UseNavigateStable),r=h.useRef(!1);return x_(()=>{r.current=!0}),h.useCallback(function(o,i){i===void 0&&(i={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,dc({fromRouteId:t},i)))},[e,t])}const Gy={};function K5(e,t,r){Gy[e]||(Gy[e]=!0)}function Q5(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Cr(e){Jt(!1)}function J5(e){let{basename:t="/",children:r=null,location:n,navigationType:o=co.Pop,navigator:i,static:a=!1,future:l}=e;_h()&&Jt(!1);let c=t.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:i,static:a,future:dc({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof n=="string"&&(n=Ya(n));let{pathname:u="/",search:m="",hash:p="",state:f=null,key:y="default"}=n,g=h.useMemo(()=>{let v=p_(u,c);return v==null?null:{location:{pathname:v,search:m,hash:p,state:f,key:y},navigationType:o}},[c,u,m,p,f,y,o]);return g==null?null:h.createElement(jh.Provider,{value:d},h.createElement(Nh.Provider,{children:r,value:g}))}function X5(e){let{children:t,location:r}=e;return $5(Lp(t),r)}new Promise(()=>{});function Lp(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,o)=>{if(!h.isValidElement(n))return;let i=[...t,o];if(n.type===h.Fragment){r.push.apply(r,Lp(n.props.children,i));return}n.type!==Cr&&Jt(!1),!n.props.index||!n.props.children||Jt(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Lp(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(o=>[r,o]):[[r,n]])},[]))}function Z5(e,t){let r=Fp(e);return t&&t.forEach((n,o)=>{r.has(o)||t.getAll(o).forEach(i=>{r.append(o,i)})}),r}const eM="6";try{window.__reactRouterVersion=eM}catch{}const tM="startTransition",Yy=Gu[tM];function rM(e){let{basename:t,children:r,future:n,window:o}=e,i=h.useRef();i.current==null&&(i.current=i5({window:o,v5Compat:!0}));let a=i.current,[l,c]=h.useState({action:a.action,location:a.location}),{v7_startTransition:d}=n||{},u=h.useCallback(m=>{d&&Yy?Yy(()=>c(m)):c(m)},[c,d]);return h.useLayoutEffect(()=>a.listen(u),[a,u]),h.useEffect(()=>Q5(n),[n]),h.createElement(J5,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}var Ky;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ky||(Ky={}));var Qy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Qy||(Qy={}));function j_(e){let t=h.useRef(Fp(e)),r=h.useRef(!1),n=Ka(),o=h.useMemo(()=>Z5(n.search,r.current?null:t.current),[n.search]),i=Fr(),a=h.useCallback((l,c)=>{const d=Fp(typeof l=="function"?l(o):l);r.current=!0,i("?"+d,c)},[i,o]);return[o,a]}var nM=Symbol.for("react.lazy"),Du=Gu[" use ".trim().toString()];function sM(e){return typeof e=="object"&&e!==null&&"then"in e}function N_(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===nM&&"_payload"in e&&sM(e._payload)}function Sh(e){const t=iM(e),r=h.forwardRef((n,o)=>{let{children:i,...a}=n;N_(i)&&typeof Du=="function"&&(i=Du(i._payload));const l=h.Children.toArray(i),c=l.find(lM);if(c){const d=c.props.children,u=l.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...a,ref:o,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return s.jsx(t,{...a,ref:o,children:i})});return r.displayName=`${e}.Slot`,r}var oM=Sh("Slot");function iM(e){const t=h.forwardRef((r,n)=>{let{children:o,...i}=r;if(N_(o)&&typeof Du=="function"&&(o=Du(o._payload)),h.isValidElement(o)){const a=dM(o),l=cM(i,o.props);return o.type!==h.Fragment&&(l.ref=n?Ar(n,a):a),h.cloneElement(o,l)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var aM=Symbol("radix.slottable");function lM(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===aM}function cM(e,t){const r={...t};for(const n in t){const o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...l)=>{const c=i(...l);return o(...l),c}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function dM(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const uc=Wa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 shadow-sm hover:shadow-md active:scale-[0.97]",{variants:{variant:{default:"bg-gold-400 text-navy-900 hover:bg-gold-300 shadow-lg",destructive:"bg-red-500 text-white hover:bg-red-600 shadow-lg",outline:"border-2 border-white/15 bg-white/5 text-foreground hover:bg-white/10 hover:border-white/25",secondary:"bg-white/10 text-foreground hover:bg-white/15 shadow-sm",ghost:"text-white/70 hover:bg-white/10 shadow-none",link:"text-gold-400 underline-offset-4 hover:underline hover:text-gold-300 shadow-none"},size:{default:"h-11 px-6 py-3",sm:"h-9 px-4 py-2 text-xs",lg:"h-12 px-8 py-4 text-base",icon:"h-10 w-10",cta:"w-full h-12 px-8 py-4 text-base font-bold shadow-lg hover:shadow-xl"}},defaultVariants:{variant:"default",size:"default"}}),W=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},i)=>{const a=n?oM:"button";return s.jsx(a,{className:te(uc({variant:t,size:r,className:e})),ref:i,...o})});W.displayName="Button";const Te=h.forwardRef(({className:e,interactive:t=!1,...r},n)=>s.jsx("div",{ref:n,className:te("rounded-3xl border border-white/10 bg-white/80 backdrop-blur-md text-card-foreground shadow-sm transition-all duration-300",t?"cursor-pointer hover:shadow-md hover:-translate-y-0.5 active:scale-[0.98] active:shadow-sm":"hover:shadow-md",e),...r}));Te.displayName="Card";const Lt=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:te("flex flex-col space-y-2 p-8",e),...t}));Lt.displayName="CardHeader";const Ft=h.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:te("text-2xl font-bold leading-none tracking-tight text-foreground",e),...t}));Ft.displayName="CardTitle";const Wr=h.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:te("text-base text-white/50 leading-relaxed",e),...t}));Wr.displayName="CardDescription";const Ie=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:te("p-8 pt-0",e),...t}));Ie.displayName="CardContent";const uM=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:te("flex items-center p-8 pt-0",e),...t}));uM.displayName="CardFooter";const hM=Wa("inline-flex items-center rounded-full border px-3 py-1.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 shadow-sm",{variants:{variant:{default:"border-transparent bg-gold-400 text-navy-900 shadow-md",secondary:"border-white/10 bg-white/10 text-foreground hover:bg-white/15",destructive:"border-transparent bg-gradient-to-r from-red-400 to-red-500 text-white shadow-md",outline:"text-foreground border-white/15 bg-white/5"}},defaultVariants:{variant:"default"}});function ve({className:e,variant:t,...r}){return s.jsx("div",{className:te(hM({variant:t}),e),...r})}var Up=function(e,t){return Up=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Up(e,t)};function __(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Up(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Nn=function(){return Nn=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Nn.apply(this,arguments)};function ko(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function S_(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function C_(e,t){return function(r,n){t(r,n,e)}}function E_(e,t,r,n,o,i){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),m,p=!1,f=r.length-1;f>=0;f--){var y={};for(var g in n)y[g]=g==="access"?{}:n[g];for(var g in n.access)y.access[g]=n.access[g];y.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(w||null))};var v=(0,r[f])(l==="accessor"?{get:u.get,set:u.set}:u[c],y);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(m=a(v.get))&&(u.get=m),(m=a(v.set))&&(u.set=m),(m=a(v.init))&&o.unshift(m)}else(m=a(v))&&(l==="field"?o.unshift(m):u[c]=m)}d&&Object.defineProperty(d,n.name,u),p=!0}function k_(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function T_(e){return typeof e=="symbol"?e:"".concat(e)}function P_(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function R_(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function we(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(u){try{d(n.next(u))}catch(m){a(m)}}function c(u){try{d(n.throw(u))}catch(m){a(m)}}function d(u){u.done?i(u.value):o(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})}function O_(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(r=0)),r;)try{if(n=1,o&&(i=d[0]&2?o.return:d[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,d[1])).done)return i;switch(o=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(u){d=[6,u],o=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Ch=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function D_(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ch(t,e,r)}function Au(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mv(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function A_(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Mv(arguments[t]));return e}function I_(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,o++)n[o]=i[a];return n}function $v(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Ia(e){return this instanceof Ia?(this.v=e,this):new Ia(e)}function M_(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(f){return function(y){return Promise.resolve(y).then(f,m)}}function l(f,y){n[f]&&(o[f]=function(g){return new Promise(function(v,w){i.push([f,g,v,w])>1||c(f,g)})},y&&(o[f]=y(o[f])))}function c(f,y){try{d(n[f](y))}catch(g){p(i[0][3],g)}}function d(f){f.value instanceof Ia?Promise.resolve(f.value.v).then(u,m):p(i[0][2],f)}function u(f){c("next",f)}function m(f){c("throw",f)}function p(f,y){f(y),i.shift(),i.length&&c(i[0][0],i[0][1])}}function $_(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,i){t[o]=e[o]?function(a){return(r=!r)?{value:Ia(e[o](a)),done:!1}:i?i(a):a}:i}}function L_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Au=="function"?Au(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(l,c){a=e[i](a),o(l,c,a.done,a.value)})}}function o(i,a,l,c){Promise.resolve(c).then(function(d){i({value:d,done:l})},a)}}function F_(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var fM=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Bp=function(e){return Bp=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Bp(e)};function U_(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Bp(e),n=0;n<r.length;n++)r[n]!=="default"&&Ch(t,e,r[n]);return fM(t,e),t}function B_(e){return e&&e.__esModule?e:{default:e}}function z_(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function V_(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function W_(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function H_(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var mM=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function q_(e){function t(i){e.error=e.hasError?new mM(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(o,function(a){return t(a),o()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function G_(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,i,a){return n?t?".jsx":".js":o&&(!i||!a)?r:o+i+"."+a.toLowerCase()+"js"}):e}const pM={__extends:__,__assign:Nn,__rest:ko,__decorate:S_,__param:C_,__esDecorate:E_,__runInitializers:k_,__propKey:T_,__setFunctionName:P_,__metadata:R_,__awaiter:we,__generator:O_,__createBinding:Ch,__exportStar:D_,__values:Au,__read:Mv,__spread:A_,__spreadArrays:I_,__spreadArray:$v,__await:Ia,__asyncGenerator:M_,__asyncDelegator:$_,__asyncValues:L_,__makeTemplateObject:F_,__importStar:U_,__importDefault:B_,__classPrivateFieldGet:z_,__classPrivateFieldSet:V_,__classPrivateFieldIn:W_,__addDisposableResource:H_,__disposeResources:q_,__rewriteRelativeImportExtension:G_},gM=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:H_,get __assign(){return Nn},__asyncDelegator:$_,__asyncGenerator:M_,__asyncValues:L_,__await:Ia,__awaiter:we,__classPrivateFieldGet:z_,__classPrivateFieldIn:W_,__classPrivateFieldSet:V_,__createBinding:Ch,__decorate:S_,__disposeResources:q_,__esDecorate:E_,__exportStar:D_,__extends:__,__generator:O_,__importDefault:B_,__importStar:U_,__makeTemplateObject:F_,__metadata:R_,__param:C_,__propKey:T_,__read:Mv,__rest:ko,__rewriteRelativeImportExtension:G_,__runInitializers:k_,__setFunctionName:P_,__spread:A_,__spreadArray:$v,__spreadArrays:I_,__values:Au,default:pM},Symbol.toStringTag,{value:"Module"})),vM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Lv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class xM extends Lv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Jy extends Lv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Xy extends Lv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var zp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(zp||(zp={}));class yM{constructor(t,{headers:r={},customFetch:n,region:o=zp.Any}={}){this.url=t,this.headers=r,this.region=o,this.fetch=vM(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return we(this,arguments,void 0,function*(r,n={}){var o;let i,a;try{const{headers:l,method:c,body:d,signal:u,timeout:m}=n;let p={},{region:f}=n;f||(f=this.region);const y=new URL(`${this.url}/${r}`);f&&f!=="any"&&(p["x-region"]=f,y.searchParams.set("forceFunctionRegion",f));let g;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=d):typeof d=="string"?(p["Content-Type"]="text/plain",g=d):typeof FormData<"u"&&d instanceof FormData?g=d:(p["Content-Type"]="application/json",g=JSON.stringify(d)):g=d;let v=u;m&&(a=new AbortController,i=setTimeout(()=>a.abort(),m),u?(v=a.signal,u.addEventListener("abort",()=>a.abort())):v=a.signal);const w=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:g,signal:v}).catch(T=>{throw new xM(T)}),x=w.headers.get("x-relay-error");if(x&&x==="true")throw new Jy(w);if(!w.ok)throw new Xy(w);let b=((o=w.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),j;return b==="application/json"?j=yield w.json():b==="application/octet-stream"||b==="application/pdf"?j=yield w.blob():b==="text/event-stream"?j=w:b==="multipart/form-data"?j=yield w.formData():j=yield w.text(),{data:j,error:null,response:w}}catch(l){return{data:null,error:l,response:l instanceof Xy||l instanceof Jy?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var Rr={};const Qa=IT(gM);var yd={},wd={},bd={},jd={},Nd={},_d={},Zy;function Y_(){if(Zy)return _d;Zy=1,Object.defineProperty(_d,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return _d.default=e,_d}var ew;function K_(){if(ew)return Nd;ew=1,Object.defineProperty(Nd,"__esModule",{value:!0});const t=Qa.__importDefault(Y_());class r{constructor(o){var i,a;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(i=o.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=o.signal,this.isMaybeSingle=(a=o.isMaybeSingle)!==null&&a!==void 0?a:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,i){return this.headers=new Headers(this.headers),this.headers.set(o,i),this}then(o,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,u,m,p;let f=null,y=null,g=null,v=c.status,w=c.statusText;if(c.ok){if(this.method!=="HEAD"){const T=await c.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?y=T:y=JSON.parse(T))}const b=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),j=(m=c.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");b&&j&&j.length>1&&(g=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(f={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,g=null,v=406,w="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const b=await c.text();try{f=JSON.parse(b),Array.isArray(f)&&c.status===404&&(y=[],f=null,v=200,w="OK")}catch{c.status===404&&b===""?(v=204,w="No Content"):f={message:b}}if(f&&this.isMaybeSingle&&(!((p=f==null?void 0:f.details)===null||p===void 0)&&p.includes("0 rows"))&&(f=null,v=200,w="OK"),f&&this.shouldThrowOnError)throw new t.default(f)}return{error:f,data:y,count:g,status:v,statusText:w}});return this.shouldThrowOnError||(l=l.catch(c=>{var d,u,m,p,f,y;let g="";const v=c==null?void 0:c.cause;if(v){const w=(d=v==null?void 0:v.message)!==null&&d!==void 0?d:"",x=(u=v==null?void 0:v.code)!==null&&u!==void 0?u:"";g=`${(m=c==null?void 0:c.name)!==null&&m!==void 0?m:"FetchError"}: ${c==null?void 0:c.message}`,g+=`

Caused by: ${(p=v==null?void 0:v.name)!==null&&p!==void 0?p:"Error"}: ${w}`,x&&(g+=` (${x})`),v!=null&&v.stack&&(g+=`
${v.stack}`)}else g=(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(y=c==null?void 0:c.name)!==null&&y!==void 0?y:"FetchError"}: ${c==null?void 0:c.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(o,i)}returns(){return this}overrideTypes(){return this}}return Nd.default=r,Nd}var tw;function Q_(){if(tw)return jd;tw=1,Object.defineProperty(jd,"__esModule",{value:!0});const t=Qa.__importDefault(K_());class r extends t.default{select(o){let i=!1;const a=(o??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:i=!0,nullsFirst:a,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",u=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${u?`${u},`:""}${o}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${o}`),this}range(o,i,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${o}`),this.url.searchParams.set(d,`${i-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:i=!1,settings:a=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var u;const m=[o?"analyze":null,i?"verbose":null,a?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return jd.default=r,jd}var rw;function Fv(){if(rw)return bd;rw=1,Object.defineProperty(bd,"__esModule",{value:!0});const t=Qa.__importDefault(Q_()),r=new RegExp("[,()]");class n extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const u=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${d}fts${u}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return bd.default=n,bd}var nw;function J_(){if(nw)return wd;nw=1,Object.defineProperty(wd,"__esModule",{value:!0});const t=Qa.__importDefault(Fv());class r{constructor(o,{headers:i={},schema:a,fetch:l}){this.url=o,this.headers=new Headers(i),this.schema=a,this.fetch=l}select(o,i){const{head:a=!1,count:l}=i??{},c=a?"HEAD":"GET";let d=!1;const u=(o??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",u),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:i,defaultToNull:a=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const d=o.reduce((u,m)=>u.concat(Object.keys(m)),[]);if(d.length>0){const u=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(o,{onConflict:i,ignoreDuplicates:a=!1,count:l,defaultToNull:c=!0}={}){var d;const u="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((p,f)=>p.concat(Object.keys(f)),[]);if(m.length>0){const p=[...new Set(m)].map(f=>`"${f}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(o,{count:i}={}){var a;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:o}={}){var i;const a="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return wd.default=r,wd}var sw;function wM(){if(sw)return yd;sw=1,Object.defineProperty(yd,"__esModule",{value:!0});const e=Qa,t=e.__importDefault(J_()),r=e.__importDefault(Fv());class n{constructor(i,{headers:a={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(a),this.schemaName=l,this.fetch=c}from(i){const a=new URL(`${this.url}/${i}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,get:c=!1,count:d}={}){var u;let m;const p=new URL(`${this.url}/rpc/${i}`);let f;l||c?(m=l?"HEAD":"GET",Object.entries(a).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{p.searchParams.append(g,v)})):(m="POST",f=a);const y=new Headers(this.headers);return d&&y.set("Prefer",`count=${d}`),new r.default({method:m,url:p,headers:y,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return yd.default=n,yd}Object.defineProperty(Rr,"__esModule",{value:!0});var X_=Rr.PostgrestError=lS=Rr.PostgrestBuilder=iS=Rr.PostgrestTransformBuilder=sS=Rr.PostgrestFilterBuilder=rS=Rr.PostgrestQueryBuilder=eS=Rr.PostgrestClient=void 0;const Ja=Qa,Z_=Ja.__importDefault(wM());var eS=Rr.PostgrestClient=Z_.default;const tS=Ja.__importDefault(J_());var rS=Rr.PostgrestQueryBuilder=tS.default;const nS=Ja.__importDefault(Fv());var sS=Rr.PostgrestFilterBuilder=nS.default;const oS=Ja.__importDefault(Q_());var iS=Rr.PostgrestTransformBuilder=oS.default;const aS=Ja.__importDefault(K_());var lS=Rr.PostgrestBuilder=aS.default;const cS=Ja.__importDefault(Y_());X_=Rr.PostgrestError=cS.default;var dS=Rr.default={PostgrestClient:Z_.default,PostgrestQueryBuilder:tS.default,PostgrestFilterBuilder:nS.default,PostgrestTransformBuilder:oS.default,PostgrestBuilder:aS.default,PostgrestError:cS.default};const bM=Cb({__proto__:null,get PostgrestBuilder(){return lS},get PostgrestClient(){return eS},get PostgrestError(){return X_},get PostgrestFilterBuilder(){return sS},get PostgrestQueryBuilder(){return rS},get PostgrestTransformBuilder(){return iS},default:dS},[Rr]),{PostgrestClient:jM,PostgrestQueryBuilder:H9,PostgrestFilterBuilder:q9,PostgrestTransformBuilder:G9,PostgrestBuilder:Y9,PostgrestError:K9}=dS||bM;class NM{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,o=parseInt(n.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const _M="2.83.0",SM=`realtime-js/${_M}`,uS="1.0.0",CM="2.0.0",ow=uS,Vp=1e4,EM=1e3,kM=100;var zo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(zo||(zo={}));var Yt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Yt||(Yt={}));var wn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(wn||(wn={}));var Wp;(function(e){e.websocket="websocket"})(Wp||(Wp={}));var Vo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vo||(Vo={}));class TM{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){var r,n;const{event:o,topic:i,payload:a}=t,l=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",d=this.META_LENGTH+c.length+l.length+i.length+o.length,u=new ArrayBuffer(this.HEADER_LENGTH+d);let m=new DataView(u),p=0;m.setUint8(p++,this.KINDS.push),m.setUint8(p++,c.length),m.setUint8(p++,l.length),m.setUint8(p++,i.length),m.setUint8(p++,o.length),Array.from(c,y=>m.setUint8(p++,y.charCodeAt(0))),Array.from(l,y=>m.setUint8(p++,y.charCodeAt(0))),Array.from(i,y=>m.setUint8(p++,y.charCodeAt(0))),Array.from(o,y=>m.setUint8(p++,y.charCodeAt(0)));var f=new Uint8Array(u.byteLength+a.byteLength);return f.set(new Uint8Array(u),0),f.set(new Uint8Array(a),u.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n,o,i;const a=t.topic,l=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",d=t.payload.event,u=(i=(o=t.payload)===null||o===void 0?void 0:o.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+m);let f=new DataView(p),y=0;f.setUint8(y++,this.KINDS.userBroadcastPush),f.setUint8(y++,c.length),f.setUint8(y++,l.length),f.setUint8(y++,a.length),f.setUint8(y++,d.length),f.setUint8(y++,this.BINARY_ENCODING),Array.from(c,v=>f.setUint8(y++,v.charCodeAt(0))),Array.from(l,v=>f.setUint8(y++,v.charCodeAt(0))),Array.from(a,v=>f.setUint8(y++,v.charCodeAt(0))),Array.from(d,v=>f.setUint8(y++,v.charCodeAt(0)));var g=new Uint8Array(p.byteLength+u.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(u),p.byteLength),g.buffer}_encodeJsonUserBroadcastPush(t){var r,n,o,i;const a=t.topic,l=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",d=t.payload.event,u=(i=(o=t.payload)===null||o===void 0?void 0:o.payload)!==null&&i!==void 0?i:{},p=new TextEncoder().encode(JSON.stringify(u)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+d.length,y=new ArrayBuffer(this.HEADER_LENGTH+f);let g=new DataView(y),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,c.length),g.setUint8(v++,l.length),g.setUint8(v++,a.length),g.setUint8(v++,d.length),g.setUint8(v++,this.JSON_ENCODING),Array.from(c,x=>g.setUint8(v++,x.charCodeAt(0))),Array.from(l,x=>g.setUint8(v++,x.charCodeAt(0))),Array.from(a,x=>g.setUint8(v++,x.charCodeAt(0))),Array.from(d,x=>g.setUint8(v++,x.charCodeAt(0)));var w=new Uint8Array(y.byteLength+p.byteLength);return w.set(new Uint8Array(y),0),w.set(new Uint8Array(p),y.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[o,i,a,l,c]=n;return r({join_ref:o,ref:i,topic:a,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),o=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,o);case this.KINDS.reply:return this._decodeReply(t,r,o);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,o);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,o)}}_decodePush(t,r,n){const o=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3);let l=this.HEADER_LENGTH+this.META_LENGTH-1;const c=n.decode(t.slice(l,l+o));l=l+o;const d=n.decode(t.slice(l,l+i));l=l+i;const u=n.decode(t.slice(l,l+a));l=l+a;const m=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{join_ref:c,ref:null,topic:d,event:u,payload:m}}_decodeReply(t,r,n){const o=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+this.META_LENGTH;const d=n.decode(t.slice(c,c+o));c=c+o;const u=n.decode(t.slice(c,c+i));c=c+i;const m=n.decode(t.slice(c,c+a));c=c+a;const p=n.decode(t.slice(c,c+l));c=c+l;const f=JSON.parse(n.decode(t.slice(c,t.byteLength))),y={status:p,response:f};return{join_ref:d,ref:u,topic:m,event:wn.reply,payload:y}}_decodeBroadcast(t,r,n){const o=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+o));a=a+o;const c=n.decode(t.slice(a,a+i));a=a+i;const d=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{join_ref:null,ref:null,topic:l,event:c,payload:d}}_decodeUserBroadcast(t,r,n){const o=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const d=n.decode(t.slice(c,c+o));c=c+o;const u=n.decode(t.slice(c,c+i));c=c+i;const m=n.decode(t.slice(c,c+a));c=c+a;const p=t.slice(c,t.byteLength),f=l===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,y={type:this.BROADCAST,event:u,payload:f};return a>0&&(y.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class hS{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(mt||(mt={}));const iw=(e,t,r={})=>{var n;const o=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=PM(a,e,t,o),i),{}):{}},PM=(e,t,r,n)=>{const o=t.find(l=>l.name===e),i=o==null?void 0:o.type,a=r[e];return i&&!n.includes(i)?fS(i,a):Hp(a)},fS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return AM(t,r)}switch(e){case mt.bool:return RM(t);case mt.float4:case mt.float8:case mt.int2:case mt.int4:case mt.int8:case mt.numeric:case mt.oid:return OM(t);case mt.json:case mt.jsonb:return DM(t);case mt.timestamp:return IM(t);case mt.abstime:case mt.date:case mt.daterange:case mt.int4range:case mt.int8range:case mt.money:case mt.reltime:case mt.text:case mt.time:case mt.timestamptz:case mt.timetz:case mt.tsrange:case mt.tstzrange:return Hp(t);default:return Hp(t)}},Hp=e=>e,RM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},OM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},DM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},AM=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>fS(t,l))}return e},IM=e=>typeof e=="string"?e.replace(" ","T"):e,mS=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Uf{constructor(t,r,n={},o=Vp){this.channel=t,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var aw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(aw||(aw={}));class $l{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$l.syncState(this.state,o,i,a),this.pendingDiffs.forEach(c=>{this.state=$l.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},o=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=$l.syncDiff(this.state,o,i,a),l())}),this.onJoin((o,i,a)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:a})}),this.onLeave((o,i,a)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,o){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{a[d]||(c[d]=u)}),this.map(a,(d,u)=>{const m=i[d];if(m){const p=u.map(v=>v.presence_ref),f=m.map(v=>v.presence_ref),y=u.filter(v=>f.indexOf(v.presence_ref)<0),g=m.filter(v=>p.indexOf(v.presence_ref)<0);y.length>0&&(l[d]=y),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,o)}static syncDiff(t,r,n,o){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const m=t[l].map(f=>f.presence_ref),p=u.filter(f=>m.indexOf(f.presence_ref)<0);t[l].unshift(...p)}n(l,u,c)}),this.map(a,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(m=>m.presence_ref);d=d.filter(m=>u.indexOf(m.presence_ref)<0),t[l]=d,o(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const o=t[n];return"metas"in o?r[n]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=o,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(lw||(lw={}));var Ll;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ll||(Ll={}));var Es;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Es||(Es={}));class Uv{constructor(t,r={config:{}},n){var o,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Uf(this,wn.join,this.params,this.timeout),this.rejoinTimer=new hS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wn.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new $l(this),this.broadcastEndpointURL=mS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Yt.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,d=(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&o!==void 0?o:[],u=!!this.bindings[Ll.PRESENCE]&&this.bindings[Ll.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},p={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Es.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Es.CLOSED)),this.updateJoinPayload(Object.assign({config:p},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var y;if(this.socket.setAuth(),f===void 0){t==null||t(Es.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(y=g==null?void 0:g.length)!==null&&y!==void 0?y:0,w=[];for(let x=0;x<v;x++){const b=g[x],{filter:{event:j,schema:T,table:S,filter:N}}=b,E=f&&f[x];if(E&&E.event===j&&E.schema===T&&E.table===S&&E.filter===N)w.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=Yt.errored,t==null||t(Es.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Es.SUBSCRIBED);return}}).receive("error",f=>{this.state=Yt.errored,t==null||t(Es.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Es.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Yt.joined&&t===Ll.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var o;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=d.body)===null||o===void 0?void 0:o.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Yt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(o=>{n=new Uf(this,wn.leave,{},t),n.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Yt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const o=new AbortController,i=setTimeout(()=>o.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Uf(this,t,r,n);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>kM){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var o,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=wn;if(n&&[l,c,d,u].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var y,g,v;return((y=f.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(g=f.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(f=>f.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var y,g,v,w,x,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const j=f.id,T=(y=f.filter)===null||y===void 0?void 0:y.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(x=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:g,table:v,commit_timestamp:w,type:x,errors:b}=y;p=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:w,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(y))}f.callback(p,n)})}_isClosed(){return this.state===Yt.closed}_isJoined(){return this.state===Yt.joined}_isJoining(){return this.state===Yt.joining}_isLeaving(){return this.state===Yt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const o=t.toLocaleLowerCase(),i={type:o,filter:r,callback:n};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Uv.isEqual(o.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(wn.close,{},t)}_onError(t){this._on(wn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=iw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=iw(t.columns,t.old_record)),r}}const Bf=()=>{},Sd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},MM=[1e3,2e3,5e3,1e4],$M=1e4,LM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class FM{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vp,this.transport=null,this.heartbeatIntervalMs=Sd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bf,this.ref=0,this.reconnectTimer=null,this.vsn=ow,this.logger=Bf,this.conn=null,this.sendBuffer=[],this.serializer=new TM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...i)=>o(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Wp.websocket}`,this.httpEndpoint=mS(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=NM.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case zo.connecting:return Vo.Connecting;case zo.open:return Vo.Open;case zo.closing:return Vo.Closing;default:return Vo.Closed}}isConnected(){return this.connectionState()===Vo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===n);if(o)return o;{const i=new Uv(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:o,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,o),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(EM,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Sd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:o,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${o} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(o,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===zo.open||this.conn.readyState===zo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(wn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${t}${n}${o}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([LM],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const o={access_token:r,version:SM};r&&n.updateJoinPayload(o),n.joinedOnce&&n._isJoined()&&n._push(wn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new hS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Sd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,o,i,a,l,c,d,u,m,p,f;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Vp,this.heartbeatIntervalMs=(o=t==null?void 0:t.heartbeatIntervalMs)!==null&&o!==void 0?o:Sd.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Bf,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:ow,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:y=>MM[y-1]||$M,this.vsn){case uS:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(y,g)=>g(JSON.stringify(y)),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:(y,g)=>g(JSON.parse(y));break;case CM:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Bv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ct(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class UM extends Bv{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qp extends Bv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const zv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),BM=()=>Response,Gp=e=>{if(Array.isArray(e))return e.map(r=>Gp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const o=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=Gp(n)}),t},zM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zf=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},VM=(e,t,r)=>we(void 0,void 0,void 0,function*(){const n=yield BM();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(o=>{const i=e.status||500,a=(o==null?void 0:o.statusCode)||i+"";t(new UM(zf(o),i,a))}).catch(o=>{t(new qp(zf(o),o))}):t(new qp(zf(e),e))}),WM=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?o:(zM(n)?(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(n)):o.body=n,t!=null&&t.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),r))};function Rc(e,t,r,n,o,i){return we(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,WM(t,n,o,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>VM(c,l,n))})})}function hc(e,t,r,n){return we(this,void 0,void 0,function*(){return Rc(e,"GET",t,r,n)})}function Fn(e,t,r,n,o){return we(this,void 0,void 0,function*(){return Rc(e,"POST",t,n,o,r)})}function Yp(e,t,r,n,o){return we(this,void 0,void 0,function*(){return Rc(e,"PUT",t,n,o,r)})}function HM(e,t,r,n){return we(this,void 0,void 0,function*(){return Rc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Vv(e,t,r,n,o){return we(this,void 0,void 0,function*(){return Rc(e,"DELETE",t,n,o,r)})}class qM{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return we(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ct(t))return{data:null,error:t};throw t}})}}var pS;class GM{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[pS]="BlobDownloadBuilder",this.promise=null}asStream(){return new qM(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return we(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ct(t))return{data:null,error:t};throw t}})}}pS=Symbol.toStringTag;const YM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class KM{constructor(t,r={},n,o){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=zv(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,o){return we(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},cw),o);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),o!=null&&o.headers&&(l=Object.assign(Object.assign({},l),o.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),m=yield(t=="PUT"?Yp:Fn)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}})}upload(t,r,n){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,o){return we(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:cw.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const m=yield Yp(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ct(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return we(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const i=yield Fn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:o}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new Bv("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}update(t,r,n){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return we(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ct(o))return{data:null,error:o};throw o}})}copy(t,r,n){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield Fn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ct(o))return{data:null,error:o};throw o}})}createSignedUrl(t,r,n){return we(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield Fn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ct(o))return{data:null,error:o};throw o}})}createSignedUrls(t,r,n){return we(this,void 0,void 0,function*(){try{const o=yield Fn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ct(o))return{data:null,error:o};throw o}})}download(t,r){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>hc(this.fetch,`${this.url}/${o}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new GM(c,this.shouldThrowOnError)}info(t){return we(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield hc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Gp(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}exists(t){return we(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield HM(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n)&&n instanceof qp){const o=n.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),o=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&o.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&o.push(c);let d=o.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return we(this,void 0,void 0,function*(){try{return{data:yield Vv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}list(t,r,n){return we(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},YM),r),{prefix:t||""});return{data:yield Fn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ct(o))return{data:null,error:o};throw o}})}listV2(t,r){return we(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Fn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const gS="2.83.0",vS={"X-Client-Info":`storage-js/${gS}`};class QM{constructor(t,r={},n,o){this.shouldThrowOnError=!1;const i=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vS),r),this.fetch=zv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return we(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield hc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}getBucket(t){return we(this,void 0,void 0,function*(){try{return{data:yield hc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}createBucket(t){return we(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Fn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ct(o))return{data:null,error:o};throw o}})}updateBucket(t,r){return we(this,void 0,void 0,function*(){try{return{data:yield Yp(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}emptyBucket(t){return we(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}deleteBucket(t){return we(this,void 0,void 0,function*(){try{return{data:yield Vv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class JM{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vS),r),this.fetch=zv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return we(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}listBuckets(t){return we(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),o=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield hc(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}deleteBucket(t){return we(this,void 0,void 0,function*(){try{return{data:yield Vv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}}const Wv={"X-Client-Info":`storage-js/${gS}`,"Content-Type":"application/json"};class xS extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function sn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Vf extends xS{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class XM extends xS{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var dw;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(dw||(dw={}));const Hv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ZM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},uw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),e3=(e,t,r)=>we(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const o=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||o+"";t(new Vf(uw(a),o,l))}).catch(()=>{const a=o+"",l=i.statusText||`HTTP ${o} error`;t(new Vf(l,o,a))});else{const a=o+"",l=i.statusText||`HTTP ${o} error`;t(new Vf(l,o,a))}}else t(new XM(uw(e),e))}),t3=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(ZM(n)?(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(n)):o.body=n,Object.assign(Object.assign({},o),r)):o};function r3(e,t,r,n,o,i){return we(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,t3(t,n,o,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>e3(c,l,n))})})}function on(e,t,r,n,o){return we(this,void 0,void 0,function*(){return r3(e,"POST",t,n,o,r)})}class n3{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wv),r),this.fetch=Hv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return we(this,void 0,void 0,function*(){try{return{data:(yield on(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}getIndex(t,r){return we(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}listIndexes(t){return we(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return we(this,void 0,void 0,function*(){try{return{data:(yield on(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}}class s3{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wv),r),this.fetch=Hv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return we(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield on(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}getVectors(t){return we(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}listVectors(t){return we(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield on(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}queryVectors(t){return we(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}deleteVectors(t){return we(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield on(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}}class o3{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wv),r),this.fetch=Hv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return we(this,void 0,void 0,function*(){try{return{data:(yield on(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}getBucket(t){return we(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}listBuckets(){return we(this,arguments,void 0,function*(t={}){try{return{data:yield on(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return we(this,void 0,void 0,function*(){try{return{data:(yield on(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}}class i3 extends o3{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new a3(this.url,this.headers,t,this.fetch)}}class a3 extends n3{constructor(t,r,n,o){super(t,r,o),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return we(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return we(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return we(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return we(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new l3(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class l3 extends s3{constructor(t,r,n,o,i){super(t,r,i),this.vectorBucketName=n,this.indexName=o}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return we(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return we(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return we(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return we(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return we(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class c3 extends QM{constructor(t,r={},n,o){super(t,r,n,o)}from(t){return new KM(this.url,this.headers,t,this.fetch)}get vectors(){return new i3(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new JM(this.url+"/iceberg",this.headers,this.fetch)}}const d3="2.83.0";let _l="";typeof Deno<"u"?_l="deno":typeof document<"u"?_l="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_l="react-native":_l="node";const u3={"X-Client-Info":`supabase-js-${_l}/${d3}`},h3={headers:u3},f3={schema:"public"},m3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},p3={},g3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),v3=()=>Headers,x3=(e,t,r)=>{const n=g3(r),o=v3();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let d=new o(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:d}))}};function y3(e){return e.endsWith("/")?e:e+"/"}function w3(e,t){var r,n;const{db:o,auth:i,realtime:a,global:l}=e,{db:c,auth:d,realtime:u,global:m}=t,p={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),a),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function b3(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(y3(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const yS="2.83.0",Mi=30*1e3,Kp=3,Wf=Kp*Mi,j3="http://localhost:9999",N3="supabase.auth.token",_3={"X-Client-Info":`gotrue-js/${yS}`},Qp="X-Supabase-Api-Version",wS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},S3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,C3=10*60*1e3;class fc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function je(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class E3 extends fc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function k3(e){return je(e)&&e.name==="AuthApiError"}class Wo extends fc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class To extends fc{constructor(t,r,n,o){super(t,n,o),this.name=r,this.status=n}}class tn extends To{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function T3(e){return je(e)&&e.name==="AuthSessionMissingError"}class Si extends To{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cd extends To{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ed extends To{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function P3(e){return je(e)&&e.name==="AuthImplicitGrantRedirectError"}class hw extends To{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jp extends To{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Hf(e){return je(e)&&e.name==="AuthRetryableFetchError"}class fw extends To{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Xp extends To{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Iu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mw=` 	
\r=`.split(""),R3=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<mw.length;t+=1)e[mw[t].charCodeAt(0)]=-2;for(let t=0;t<Iu.length;t+=1)e[Iu[t].charCodeAt(0)]=t;return e})();function pw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Iu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Iu[n]),t.queuedBits-=6}}function bS(e,t,r){const n=R3[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function gw(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=a=>{A3(a,n,r)};for(let a=0;a<e.length;a+=1)bS(e.charCodeAt(a),o,i);return t.join("")}function O3(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function D3(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}O3(n,t)}}function A3(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ha(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)bS(e.charCodeAt(o),r,n);return new Uint8Array(t)}function I3(e){const t=[];return D3(e,r=>t.push(r)),new Uint8Array(t)}function Ko(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};return e.forEach(o=>pw(o,r,n)),pw(null,r,n),t.join("")}function M3(e){return Math.round(Date.now()/1e3)+e}function $3(){return Symbol("auth-callback")}const cr=()=>typeof window<"u"&&typeof document<"u",Io={tested:!1,writable:!1},jS=()=>{if(!cr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Io.tested)return Io.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Io.tested=!0,Io.writable=!0}catch{Io.tested=!0,Io.writable=!1}return Io.writable};function L3(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return r.searchParams.forEach((n,o)=>{t[o]=n}),t}const NS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),F3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",$i=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Mo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Hs=async(e,t)=>{await e.removeItem(t)};class Eh{constructor(){this.promise=new Eh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Eh.promiseConstructor=Promise;function qf(e){const t=e.split(".");if(t.length!==3)throw new Xp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!S3.test(t[n]))throw new Xp("JWT not in base64url format");return{header:JSON.parse(gw(t[0])),payload:JSON.parse(gw(t[1])),signature:ha(t[2]),raw:{header:t[0],payload:t[1]}}}async function U3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function B3(e,t){return new Promise((n,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){o(a);return}}})()})}function z3(e){return("0"+e.toString(16)).substr(-2)}function V3(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let o="";for(let i=0;i<56;i++)o+=r.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(t),Array.from(t,z3).join("")}async function W3(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(n);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function H3(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await W3(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ci(e,t,r=!1){const n=V3();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await $i(e,`${t}-code-verifier`,o);const i=await H3(n);return[i,n===i?"plain":"s256"]}const q3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function G3(e){const t=e.headers.get(Qp);if(!t||!t.match(q3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Y3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function K3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Q3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ei(e){if(!Q3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gf(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function J3(e,t){return new Proxy(e,{get:(r,n,o)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,o)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,o)}})}function vw(e){return JSON.parse(JSON.stringify(e))}const Fo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),X3=[502,503,504];async function xw(e){var t;if(!F3(e))throw new Jp(Fo(e),0);if(X3.includes(e.status))throw new Jp(Fo(e),e.status);let r;try{r=await e.json()}catch(i){throw new Wo(Fo(i),i)}let n;const o=G3(e);if(o&&o.getTime()>=wS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new fw(Fo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new tn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new fw(Fo(r),e.status,r.weak_password.reasons);throw new E3(Fo(r),e.status||500,n)}const Z3=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};async function Se(e,t,r,n){var o;const i=Object.assign({},n==null?void 0:n.headers);i[Qp]||(i[Qp]=wS["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(o=n==null?void 0:n.query)!==null&&o!==void 0?o:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await e$(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function e$(e,t,r,n,o,i){const a=Z3(t,n,o,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new Jp(Fo(c),0)}if(l.ok||await xw(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await xw(c)}}function In(e){var t;let r=null;n$(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=M3(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function yw(e){const t=In(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Zs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function t$(e){return{data:e,error:null}}function r$(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:i}=e,a=ko(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function ww(e){return e}function n$(e){return e.access_token&&e.refresh_token&&e.expires_in}const Yf=["global","local","others"];class s${constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=NS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Yf[0]){if(Yf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yf.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Zs})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ko(t,["options"]),o=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(o.new_email=n==null?void 0:n.newEmail,delete o.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:r$,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(je(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zs})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,o,i,a,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:ww});if(u.error)throw u.error;const m=await u.json(),p=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);d[`${v}Page`]=g}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(je(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Ei(t);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zs})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ei(t);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Zs})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ei(t);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Zs})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ei(t.userId);try{const{data:r,error:n}=await Se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:n}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ei(t.userId),Ei(t.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,o,i,a,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:ww});if(u.error)throw u.error;const m=await u.json(),p=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);d[`${v}Page`]=g}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(je(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}}function bw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ki={debug:!!(globalThis&&jS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _S extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class o$ extends _S{}async function i$(e,t,r){ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ki.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await r()}finally{ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new o$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ki.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function a$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function SS(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function l$(e){return parseInt(e,16)}function c$(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function d$(e){var t;const{chainId:r,domain:n,expirationTime:o,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:d,scheme:u,uri:m,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=SS(e.address),y=u?`${u}://${n}`:n,g=e.statement?`${e.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${f}

${g}`;let w=`URI: ${m}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(o&&(w+=`
Expiration Time: ${o.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),c&&(w+=`
Request ID: ${c}`),d){let x=`
Resources:`;for(const b of d){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}w+=x}return`${v}
${w}`}class zt extends Error{constructor({message:t,code:r,cause:n,name:o}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=o??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Mu extends zt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function u$({error:e,options:t}){var r,n,o;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new zt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new zt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new zt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new zt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new zt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new zt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new zt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new zt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(CS(a)){if(i.rp.id!==a)return new zt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new zt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new zt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new zt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new zt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function h$({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new zt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new zt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(CS(n)){if(r.rpId!==n)return new zt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new zt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new zt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new zt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class f${createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const m$=new f$;function p$(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,o=ko(e,["challenge","user","excludeCredentials"]),i=ha(t).buffer,a=Object.assign(Object.assign({},r),{id:ha(r.id).buffer}),l=Object.assign(Object.assign({},o),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:ha(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function g$(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ko(e,["challenge","allowCredentials"]),o=ha(t).buffer,i=Object.assign(Object.assign({},n),{challenge:o});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:ha(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function v$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ko(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ko(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function x$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ko(new Uint8Array(o.authenticatorData)),clientDataJSON:Ko(new Uint8Array(o.clientDataJSON)),signature:Ko(new Uint8Array(o.signature)),userHandle:o.userHandle?Ko(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function CS(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function jw(){var e,t;return!!(cr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function y$(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Mu("Browser returned unexpected credential type",t)}:{data:null,error:new Mu("Empty credential response",t)}}catch(t){return{data:null,error:u$({error:t,options:e})}}}async function w$(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Mu("Browser returned unexpected credential type",t)}:{data:null,error:new Mu("Empty credential response",t)}}catch(t){return{data:null,error:h$({error:t,options:e})}}}const b$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},j$={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $u(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),n={};for(const o of e)if(o)for(const i in o){const a=o[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=$u(l,a):n[i]=$u(a)}else n[i]=a}return n}function N$(e,t){return $u(b$,e,t||{})}function _$(e,t){return $u(j$,e,t||{})}class S${constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:o},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const c=o??m$.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=N$(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:m}=await y$({publicKey:d,signal:c});return u?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}case"request":{const d=_$(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:m}=await w$(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}}}catch(a){return je(a)?{data:null,error:a}:{data:null,error:new Wo("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!r)return{data:null,error:new fc("rpId is required for WebAuthn authentication")};try{if(!jw())return{data:null,error:new Wo("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:o},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return je(a)?{data:null,error:a}:{data:null,error:new Wo("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!r)return{data:null,error:new fc("rpId is required for WebAuthn registration")};try{if(!jw())return{data:null,error:new Wo("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(u=>{var m;return(m=u.data)===null||m===void 0?void 0:m.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:o},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(a){return je(a)?{data:null,error:a}:{data:null,error:new Wo("Unexpected error in register",a)}}}}a$();const C$={url:j3,storageKey:N3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Nw(e,t,r){return await r()}const Ti={};class mc{get jwks(){var t,r;return(r=(t=Ti[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ti[this.storageKey]=Object.assign(Object.assign({},Ti[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ti[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ti[this.storageKey]=Object.assign(Object.assign({},Ti[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},C$),t);if(this.storageKey=i.storageKey,this.instanceID=(r=mc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,mc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&cr()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new s$({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=NS(i.fetch),this.lock=i.lock||Nw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:cr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=i$:this.lock=Nw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new S$(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:jS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=bw(this.memoryStorage)),cr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${yS}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(cr()&&(r=L3(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),cr()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),P3(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return je(r)?this._returnResult({error:r}):this._returnResult({error:new Wo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,o;try{const i=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:In}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,o;try{let i;if("email"in t){const{email:u,password:m,options:p}=t;let f=null,y=null;this.flowType==="pkce"&&([f,y]=await Ci(this.storage,this.storageKey)),i=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:m,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:y},xform:In})}else if("phone"in t){const{phone:u,password:m,options:p}=t;i=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(o=p==null?void 0:p.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:In})}else throw new Cd("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yw})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yw})}else throw new Cd("You must provide either an email or phone number and a password");const{data:n,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!n||!n.session||!n.user){const i=new Si;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,o,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,o,i,a,l,c,d,u,m,p;let f,y;if("message"in t)f=t.message,y=t.signature;else{const{chain:g,wallet:v,statement:w,options:x}=t;let b;if(cr())if(typeof v=="object")b=v;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")b=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const j=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),T=await b.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=SS(T[0]);let N=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const R=await b.request({method:"eth_chainId"});N=l$(R)}const E={domain:j.host,address:S,statement:w,uri:j.href,version:"1",chainId:N,nonce:(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=d$(E),y=await b.request({method:"personal_sign",params:[c$(f),S]})}try{const{data:g,error:v}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:y},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:In});if(v)throw v;if(!g||!g.session||!g.user){const w=new Si;return this._returnResult({data:{user:null,session:null},error:w})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(je(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,o,i,a,l,c,d,u,m,p,f;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:v,wallet:w,statement:x,options:b}=t;let j;if(cr())if(typeof w=="object")j=w;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=w}const T=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),x?{statement:x}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)y=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),g=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${T.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(o=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((m=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||m===void 0)&&m.length?["Resources",...b.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:v,error:w}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Ko(g)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:In});if(w)throw w;if(!v||!v.session||!v.user){const x=new Si;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:w})}catch(v){if(je(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Mo(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(r??"").split("/");try{const{data:i,error:a}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:In});if(await Hs(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new Si;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:o??null}),error:a})}catch(i){if(je(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:o,access_token:i,nonce:a}=t,l=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:In}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const u=new Si;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,o,i,a;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Ci(this.storage,this.storageKey));const{error:m}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c==null?void 0:c.data)!==null&&o!==void 0?o:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new Cd("You must provide either an email or phone number.")}catch(l){if(je(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let o,i;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:o,xform:In});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,d=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(o){if(je(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var r,n,o,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Ci(this.storage,this.storageKey));const d=await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:t$});return!((i=d.data)===null||i===void 0)&&i.url&&cr()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(je(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new tn;const{error:o}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(je(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:o,options:i}=t,{error:a}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:o,options:i}=t,{data:a,error:l}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new Cd("You must provide either an email or phone number and a type")}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Mo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Wf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Mo(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Gf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=J3(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Zs}):await this._useSession(async r=>{var n,o,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tn}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:Zs})})}catch(r){if(je(r))return T3(r)&&(await this._removeSession(),await Hs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:o,error:i}=n;if(i)throw i;if(!o.session)throw new tn;const a=o.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ci(this.storage,this.storageKey));const{data:d,error:u}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Zs});if(u)throw u;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(je(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new tn;const r=Date.now()/1e3;let n=r,o=!0,i=null;const{payload:a}=qf(t.access_token);if(a.exp&&(n=a.exp,o=n<=r),o){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(je(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new tn;const{data:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!cr())throw new Ed("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ed(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new hw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ed("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new hw("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!a||!d)throw new Ed("No session defined in URL");const u=Math.round(Date.now()/1e3),m=parseInt(l);let p=u+m;c&&(p=parseInt(c));const f=p-u;f*1e3<=Mi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${m}s`);const y=p-m;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,u);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const w={provider_token:n,provider_refresh_token:o,access_token:i,expires_in:m,expires_at:p,refresh_token:a,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(n){if(je(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Mo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:o,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=o.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(k3(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Hs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=$3(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,o;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await Ci(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(je(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:o}=await this._useSession(async i=>{var a,l,c,d,u;const{data:m,error:p}=i;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(o)throw o;return cr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(je(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:o,data:{session:i}}=r;if(o)throw o;const{options:a,provider:l,token:c,access_token:d,nonce:u}=t,m=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:In}),{data:p,error:f}=m;return f?this._returnResult({data:{user:null,session:null},error:f}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Si}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:f}))}catch(o){if(je(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,o;const{data:i,error:a}=r;if(a)throw a;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await B3(async o=>(o>0&&await U3(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:In})),(o,i)=>{const a=200*Math.pow(2,o);return i&&Hf(i)&&Date.now()+a-n<Mi})}catch(n){if(this._debug(r,"error",n),je(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),cr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const o=await Mo(this.storage,this.storageKey);if(o&&this.userStorage){let a=await Mo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},await $i(this.userStorage,this.storageKey+"-user",a)),o.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Gf()}else if(o&&!o.user&&!o.user){const a=await Mo(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(o.user=a.user,await Hs(this.storage,this.storageKey+"-user"),await $i(this.storage,this.storageKey,o)):o.user=Gf()}if(this._debug(n,"session from storage",o),!this._isValidSession(o)){this._debug(n,"session is not valid"),o!==null&&await this._removeSession();return}const i=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Wf;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Wf}s`),i){if(this.autoRefreshToken&&o.refresh_token){const{error:a}=await this._callRefreshToken(o.refresh_token);a&&(console.error(a),Hf(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(o.access_token);!l&&(a!=null&&a.user)?(o.user=a.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(n,"error",o),console.error(o);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new tn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Eh;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new tn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(o,"error",i),je(i)){const a={data:null,error:i};return Hf(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,n=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await $i(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const i=vw(o);await $i(this.storage,this.storageKey,i)}else{const o=vw(r);await $i(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Hs(this.storage,this.storageKey),await Hs(this.storage,this.storageKey+"-code-verifier"),await Hs(this.storage,this.storageKey+"-user"),this.userStorage&&await Hs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&cr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Mi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-t)/Mi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Mi}ms, refresh threshold is ${Kp} ticks`),o<=Kp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _S)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const o=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Ci(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);o.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:o,error:i}=r;return i?this._returnResult({data:null,error:i}):await Se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,o;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((o=c==null?void 0:c.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?v$(t.webauthn.credential_response):x$(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:p$(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:g$(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const o={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])o.all.push(i),i.status==="verified"&&o[i.factor_type].push(i);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=qf(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?await Se(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new tn})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:o},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!o)return this._returnResult({data:null,error:new tn});const a=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&cr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:o},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!o)return this._returnResult({data:null,error:new tn});const a=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&cr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new tn})})}catch(t){if(je(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?await Se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new tn})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const o=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+C3>o)return n;const{data:i,error:a}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=o,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:y}=await this.getSession();if(y||!f.session)return this._returnResult({data:null,error:y});n=f.session.access_token}const{header:o,payload:i,signature:a,raw:{header:l,payload:c}}=qf(n);r!=null&&r.allowExpired||Y3(i.exp);const d=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:o,signature:a},error:null}}const u=K3(o.alg),m=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,m,a,I3(`${l}.${c}`)))throw new Xp("Invalid JWT signature");return{data:{claims:i,header:o,signature:a},error:null}}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}}mc.nextInstanceID={};const E$=mc;class k$ extends E${constructor(t){super(t)}}class T${constructor(t,r,n){var o,i,a;this.supabaseUrl=t,this.supabaseKey=r;const l=b3(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:f3,realtime:p3,auth:Object.assign(Object.assign({},m3),{storageKey:c}),global:h3},u=w3(n??{},d);this.storageKey=(o=u.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=x3(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new jM(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new c3(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new yM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:i,storageKey:a,flowType:l,lock:c,debug:d,throwOnError:u},m,p){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new k$({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),m),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:i,flowType:l,lock:c,debug:d,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new FM(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const P$=(e,t,r)=>new T$(e,t,r);function R$(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}R$()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const O$="https://hnfmormzizymhkqrihhm.supabase.co",D$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhuZm1vcm16aXp5bWhrcXJpaGhtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1ODUzMTQsImV4cCI6MjA3OTE2MTMxNH0.H_sIAj3hIkzE6Q-752f-FvvgZ8nAHXUZuihH4XxnBps",K=P$(O$,D$,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{headers:{Accept:"application/json","Content-Type":"application/json"}},db:{schema:"public"}});function tt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function fn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Tr(e,t){const r=tt(e);return isNaN(t)?fn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Zn(e,t){const r=tt(e);if(isNaN(t))return fn(e,NaN);if(!t)return r;const n=r.getDate(),o=fn(e,r.getTime());o.setMonth(r.getMonth()+t+1,0);const i=o.getDate();return n>=i?o:(r.setFullYear(o.getFullYear(),o.getMonth(),n),r)}const qv=6048e5,A$=864e5,ES=6e4,kS=36e5;let I$={};function Xa(){return I$}function ws(e,t){var l,c,d,u;const r=Xa(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,o=tt(e),i=o.getDay(),a=(i<n?7:0)+i-n;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}function hi(e){return ws(e,{weekStartsOn:1})}function TS(e){const t=tt(e),r=t.getFullYear(),n=fn(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const o=hi(n),i=fn(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=hi(i);return t.getTime()>=o.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function Ma(e){const t=tt(e);return t.setHours(0,0,0,0),t}function Lu(e){const t=tt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function hs(e,t){const r=Ma(e),n=Ma(t),o=+r-Lu(r),i=+n-Lu(n);return Math.round((o-i)/A$)}function M$(e){const t=TS(e),r=fn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),hi(r)}function Zp(e,t){const r=t*7;return Tr(e,r)}function $$(e,t){return Zn(e,t*12)}function L$(e){let t;return e.forEach(function(r){const n=tt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function F$(e){let t;return e.forEach(r=>{const n=tt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Yr(e,t){const r=Ma(e),n=Ma(t);return+r==+n}function Gv(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function U$(e){if(!Gv(e)&&typeof e!="number")return!1;const t=tt(e);return!isNaN(Number(t))}function pc(e,t){const r=tt(e),n=tt(t),o=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return o*12+i}function B$(e,t,r){const n=ws(e,r),o=ws(t,r),i=+n-Lu(n),a=+o-Lu(o);return Math.round((i-a)/qv)}function Yv(e){const t=tt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Xr(e){const t=tt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function PS(e){const t=tt(e),r=fn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Kv(e,t){var l,c,d,u;const r=Xa(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,o=tt(e),i=o.getDay(),a=(i<n?-7:0)+6-(i-n);return o.setDate(o.getDate()+a),o.setHours(23,59,59,999),o}function RS(e){return Kv(e,{weekStartsOn:1})}const z$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},V$=(e,t,r)=>{let n;const o=z$[e];return typeof o=="string"?n=o:t===1?n=o.one:n=o.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Kf(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const W$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},H$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},q$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},G$={date:Kf({formats:W$,defaultWidth:"full"}),time:Kf({formats:H$,defaultWidth:"full"}),dateTime:Kf({formats:q$,defaultWidth:"full"})},Y$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},K$=(e,t,r,n)=>Y$[e];function gl(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let o;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;o=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return o[i]}}const Q$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},J$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},X$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Z$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rL=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},nL={ordinalNumber:rL,era:gl({values:Q$,defaultWidth:"wide"}),quarter:gl({values:J$,defaultWidth:"wide",argumentCallback:e=>e-1}),month:gl({values:X$,defaultWidth:"wide"}),day:gl({values:Z$,defaultWidth:"wide"}),dayPeriod:gl({values:eL,defaultWidth:"wide",formattingValues:tL,defaultFormattingWidth:"wide"})};function vl(e){return(t,r={})=>{const n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;const a=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?oL(l,m=>m.test(a)):sL(l,m=>m.test(a));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(a.length);return{value:d,rest:u}}}function sL(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function oL(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function iL(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const o=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const l=t.slice(o.length);return{value:a,rest:l}}}const aL=/^(\d+)(th|st|nd|rd)?/i,lL=/\d+/i,cL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dL={any:[/^b/i,/^(a|c)/i]},uL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hL={any:[/1/i,/2/i,/3/i,/4/i]},fL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yL={ordinalNumber:iL({matchPattern:aL,parsePattern:lL,valueCallback:e=>parseInt(e,10)}),era:vl({matchPatterns:cL,defaultMatchWidth:"wide",parsePatterns:dL,defaultParseWidth:"any"}),quarter:vl({matchPatterns:uL,defaultMatchWidth:"wide",parsePatterns:hL,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vl({matchPatterns:fL,defaultMatchWidth:"wide",parsePatterns:mL,defaultParseWidth:"any"}),day:vl({matchPatterns:pL,defaultMatchWidth:"wide",parsePatterns:gL,defaultParseWidth:"any"}),dayPeriod:vl({matchPatterns:vL,defaultMatchWidth:"any",parsePatterns:xL,defaultParseWidth:"any"})},OS={code:"en-US",formatDistance:V$,formatLong:G$,formatRelative:K$,localize:nL,match:yL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wL(e){const t=tt(e);return hs(t,PS(t))+1}function DS(e){const t=tt(e),r=+hi(t)-+M$(t);return Math.round(r/qv)+1}function AS(e,t){var u,m,p,f;const r=tt(e),n=r.getFullYear(),o=Xa(),i=(t==null?void 0:t.firstWeekContainsDate)??((m=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??o.firstWeekContainsDate??((f=(p=o.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,a=fn(e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const l=ws(a,t),c=fn(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=ws(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function bL(e,t){var l,c,d,u;const r=Xa(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,o=AS(e,t),i=fn(e,0);return i.setFullYear(o,0,n),i.setHours(0,0,0,0),ws(i,t)}function IS(e,t){const r=tt(e),n=+ws(r,t)-+bL(r,t);return Math.round(n/qv)+1}function st(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const qs={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return st(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):st(r+1,2)},d(e,t){return st(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return st(e.getHours()%12||12,t.length)},H(e,t){return st(e.getHours(),t.length)},m(e,t){return st(e.getMinutes(),t.length)},s(e,t){return st(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),o=Math.trunc(n*Math.pow(10,r-3));return st(o,t.length)}},Pi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_w={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),o=n>0?n:1-n;return r.ordinalNumber(o,{unit:"year"})}return qs.y(e,t)},Y:function(e,t,r,n){const o=AS(e,n),i=o>0?o:1-o;if(t==="YY"){const a=i%100;return st(a,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):st(i,t.length)},R:function(e,t){const r=TS(e);return st(r,t.length)},u:function(e,t){const r=e.getFullYear();return st(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return st(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return st(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return qs.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return st(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const o=IS(e,n);return t==="wo"?r.ordinalNumber(o,{unit:"week"}):st(o,t.length)},I:function(e,t,r){const n=DS(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):st(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):qs.d(e,t)},D:function(e,t,r){const n=wL(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):st(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const o=e.getDay(),i=(o-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return st(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const o=e.getDay(),i=(o-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return st(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),o=n===0?7:n;switch(t){case"i":return String(o);case"ii":return st(o,t.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let o;switch(n===12?o=Pi.noon:n===0?o=Pi.midnight:o=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let o;switch(n>=17?o=Pi.evening:n>=12?o=Pi.afternoon:n>=4?o=Pi.morning:o=Pi.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return qs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):qs.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):st(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):st(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):qs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):qs.s(e,t)},S:function(e,t){return qs.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Cw(n);case"XXXX":case"XX":return Uo(n);case"XXXXX":case"XXX":default:return Uo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Cw(n);case"xxxx":case"xx":return Uo(n);case"xxxxx":case"xxx":default:return Uo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Sw(n,":");case"OOOO":default:return"GMT"+Uo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Sw(n,":");case"zzzz":default:return"GMT"+Uo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return st(n,t.length)},T:function(e,t,r){const n=e.getTime();return st(n,t.length)}};function Sw(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=Math.trunc(n/60),i=n%60;return i===0?r+String(o):r+String(o)+t+st(i,2)}function Cw(e,t){return e%60===0?(e>0?"-":"+")+st(Math.abs(e)/60,2):Uo(e,t)}function Uo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=st(Math.trunc(n/60),2),i=st(n%60,2);return r+o+t+i}const Ew=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},MS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},jL=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],o=r[2];if(!o)return Ew(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Ew(n,t)).replace("{{time}}",MS(o,t))},NL={p:MS,P:jL},_L=/^D+$/,SL=/^Y+$/,CL=["D","DD","YY","YYYY"];function EL(e){return _L.test(e)}function kL(e){return SL.test(e)}function TL(e,t,r){const n=PL(e,t,r);if(console.warn(n),CL.includes(e))throw new RangeError(n)}function PL(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const RL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DL=/^'([^]*?)'?$/,AL=/''/g,IL=/[a-zA-Z]/;function Po(e,t,r){var u,m,p,f,y,g,v,w;const n=Xa(),o=(r==null?void 0:r.locale)??n.locale??OS,i=(r==null?void 0:r.firstWeekContainsDate)??((m=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((g=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,l=tt(e);if(!U$(l))throw new RangeError("Invalid time value");let c=t.match(OL).map(x=>{const b=x[0];if(b==="p"||b==="P"){const j=NL[b];return j(x,o.formatLong)}return x}).join("").match(RL).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:ML(x)};if(_w[b])return{isToken:!0,value:x};if(b.match(IL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});o.localize.preprocessor&&(c=o.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:a,locale:o};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&kL(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&EL(b))&&TL(b,t,String(e));const j=_w[b[0]];return j(l,b,o.localize,d)}).join("")}function ML(e){const t=e.match(DL);return t?t[1].replace(AL,"'"):e}function $L(e){const t=tt(e),r=t.getFullYear(),n=t.getMonth(),o=fn(e,0);return o.setFullYear(r,n+1,0),o.setHours(0,0,0,0),o.getDate()}function LL(){return Object.assign({},Xa())}function FL(e){return Math.trunc(+tt(e)/1e3)}function UL(e){const t=tt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function BL(e,t){return B$(UL(e),Xr(e),t)+1}function eg(e,t){const r=tt(e),n=tt(t);return r.getTime()>n.getTime()}function $S(e,t){const r=tt(e),n=tt(t);return+r<+n}function Qv(e,t){const r=tt(e),n=tt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function zL(e,t){const r=tt(e),n=tt(t);return r.getFullYear()===n.getFullYear()}function Qf(e,t){return Tr(e,-t)}function LS(e,t){const n=qL(e);let o;if(n.date){const c=GL(n.date,2);o=YL(c.restDateString,c.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);const i=o.getTime();let a=0,l;if(n.time&&(a=KL(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(l=QL(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+a),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(i+a+l)}const kd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},VL=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,WL=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,HL=/^([+-])(\d{2})(?::?(\d{2}))?$/;function qL(e){const t={},r=e.split(kd.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],kd.timeZoneDelimiter.test(t.date)&&(t.date=e.split(kd.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const o=kd.timezone.exec(n);o?(t.time=n.replace(o[1],""),t.timezone=o[1]):t.time=n}return t}function GL(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const o=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?o:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function YL(e,t){if(t===null)return new Date(NaN);const r=e.match(VL);if(!r)return new Date(NaN);const n=!!r[4],o=xl(r[1]),i=xl(r[2])-1,a=xl(r[3]),l=xl(r[4]),c=xl(r[5])-1;if(n)return tF(t,l,c)?JL(t,l,c):new Date(NaN);{const d=new Date(0);return!ZL(t,i,a)||!eF(t,o)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(o,a)),d)}}function xl(e){return e?parseInt(e):1}function KL(e){const t=e.match(WL);if(!t)return NaN;const r=Jf(t[1]),n=Jf(t[2]),o=Jf(t[3]);return rF(r,n,o)?r*kS+n*ES+o*1e3:NaN}function Jf(e){return e&&parseFloat(e.replace(",","."))||0}function QL(e){if(e==="Z")return 0;const t=e.match(HL);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return nF(n,o)?r*(n*kS+o*ES):NaN}function JL(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const o=n.getUTCDay()||7,i=(t-1)*7+r+1-o;return n.setUTCDate(n.getUTCDate()+i),n}const XL=[31,null,31,30,31,30,31,31,30,31,30,31];function FS(e){return e%400===0||e%4===0&&e%100!==0}function ZL(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(XL[t]||(FS(e)?29:28))}function eF(e,t){return t>=1&&t<=(FS(e)?366:365)}function tF(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function rF(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function nF(e,t){return t>=0&&t<=59}function Xf(e,t){const r=tt(e),n=r.getFullYear(),o=r.getDate(),i=fn(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const a=$L(i);return r.setMonth(t,Math.min(o,a)),r}function kw(e,t){const r=tt(e);return isNaN(+r)?fn(e,NaN):(r.setFullYear(t),r)}function Tw(e,t,r){const n=LL(),o=iF(e,r.timeZone,r.locale??n.locale);return"formatToParts"in o?sF(o,t):oF(o,t)}function sF(e,t){const r=e.formatToParts(t);for(let n=r.length-1;n>=0;--n)if(r[n].type==="timeZoneName")return r[n].value}function oF(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/ [\w-+ ]+$/.exec(r);return n?n[0].substr(1):""}function iF(e,t,r){return new Intl.DateTimeFormat(r?[r.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function aF(e,t){const r=hF(t);return"formatToParts"in r?cF(r,e):dF(r,e)}const lF={year:0,month:1,day:2,hour:3,minute:4,second:5};function cF(e,t){try{const r=e.formatToParts(t),n=[];for(let o=0;o<r.length;o++){const i=lF[r[o].type];i!==void 0&&(n[i]=parseInt(r[o].value,10))}return n}catch(r){if(r instanceof RangeError)return[NaN];throw r}}function dF(e,t){const r=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[parseInt(n[3],10),parseInt(n[1],10),parseInt(n[2],10),parseInt(n[4],10),parseInt(n[5],10),parseInt(n[6],10)]}const Zf={},Pw=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),uF=Pw==="06/25/2014, 00:00:00"||Pw==="06/25/2014 00:00:00";function hF(e){return Zf[e]||(Zf[e]=uF?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Zf[e]}function US(e,t,r,n,o,i,a){const l=new Date(0);return l.setUTCFullYear(e,t,r),l.setUTCHours(n,o,i,a),l}const Rw=36e5,fF=6e4,em={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Jv(e,t,r){if(!e)return 0;let n=em.timezoneZ.exec(e);if(n)return 0;let o,i;if(n=em.timezoneHH.exec(e),n)return o=parseInt(n[1],10),Ow(o)?-(o*Rw):NaN;if(n=em.timezoneHHMM.exec(e),n){o=parseInt(n[2],10);const a=parseInt(n[3],10);return Ow(o,a)?(i=Math.abs(o)*Rw+a*fF,n[1]==="+"?-i:i):NaN}if(gF(e)){t=new Date(t||Date.now());const a=r?t:mF(t),l=tg(a,e);return-(r?l:pF(t,l,e))}return NaN}function mF(e){return US(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function tg(e,t){const r=aF(e,t),n=US(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime();let o=e.getTime();const i=o%1e3;return o-=i>=0?i:1e3+i,n-o}function pF(e,t,r){let o=e.getTime()-t;const i=tg(new Date(o),r);if(t===i)return t;o-=i-t;const a=tg(new Date(o),r);return i===a?i:Math.max(i,a)}function Ow(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const Dw={};function gF(e){if(Dw[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Dw[e]=!0,!0}catch{return!1}}const vF=60*1e3,xF={X:function(e,t,r){const n=tm(r.timeZone,e);if(n===0)return"Z";switch(t){case"X":return Aw(n);case"XXXX":case"XX":return Li(n);case"XXXXX":case"XXX":default:return Li(n,":")}},x:function(e,t,r){const n=tm(r.timeZone,e);switch(t){case"x":return Aw(n);case"xxxx":case"xx":return Li(n);case"xxxxx":case"xxx":default:return Li(n,":")}},O:function(e,t,r){const n=tm(r.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+yF(n,":");case"OOOO":default:return"GMT"+Li(n,":")}},z:function(e,t,r){switch(t){case"z":case"zz":case"zzz":return Tw("short",e,r);case"zzzz":default:return Tw("long",e,r)}}};function tm(e,t){const r=e?Jv(e,t,!0)/vF:(t==null?void 0:t.getTimezoneOffset())??0;if(Number.isNaN(r))throw new RangeError("Invalid time zone specified: "+e);return r}function Fu(e,t){const r=e<0?"-":"";let n=Math.abs(e).toString();for(;n.length<t;)n="0"+n;return r+n}function Li(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=Fu(Math.floor(n/60),2),i=Fu(Math.floor(n%60),2);return r+o+t+i}function Aw(e,t){return e%60===0?(e>0?"-":"+")+Fu(Math.abs(e)/60,2):Li(e,t)}function yF(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=Math.floor(n/60),i=n%60;return i===0?r+String(o):r+String(o)+t+Fu(i,2)}function Iw(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const wF=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,rm=36e5,Mw=6e4,bF=2,Or={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:wF};function BS(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const r=t.additionalDigits==null?bF:Number(t.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const n=jF(e),{year:o,restDateString:i}=NF(n.date,r),a=_F(i,o);if(a===null||isNaN(a.getTime()))return new Date(NaN);if(a){const l=a.getTime();let c=0,d;if(n.time&&(c=SF(n.time),c===null||isNaN(c)))return new Date(NaN);if(n.timeZone||t.timeZone){if(d=Jv(n.timeZone||t.timeZone,new Date(l+c)),isNaN(d))return new Date(NaN)}else d=Iw(new Date(l+c)),d=Iw(new Date(l+c+d));return new Date(l+c+d)}else return new Date(NaN)}function jF(e){const t={};let r=Or.dateTimePattern.exec(e),n;if(r?(t.date=r[1],n=r[3]):(r=Or.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e)),n){const o=Or.timeZone.exec(n);o?(t.time=n.replace(o[1],""),t.timeZone=o[1].trim()):t.time=n}return t}function NF(e,t){if(e){const r=Or.YYY[t],n=Or.YYYYY[t];let o=Or.YYYY.exec(e)||n.exec(e);if(o){const i=o[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(o=Or.YY.exec(e)||r.exec(e),o){const i=o[1];return{year:parseInt(i,10)*100,restDateString:e.slice(i.length)}}}return{year:null}}function _F(e,t){if(t===null)return null;let r,n,o;if(!e||!e.length)return r=new Date(0),r.setUTCFullYear(t),r;let i=Or.MM.exec(e);if(i)return r=new Date(0),n=parseInt(i[1],10)-1,Lw(t,n)?(r.setUTCFullYear(t,n),r):new Date(NaN);if(i=Or.DDD.exec(e),i){r=new Date(0);const a=parseInt(i[1],10);return kF(t,a)?(r.setUTCFullYear(t,0,a),r):new Date(NaN)}if(i=Or.MMDD.exec(e),i){r=new Date(0),n=parseInt(i[1],10)-1;const a=parseInt(i[2],10);return Lw(t,n,a)?(r.setUTCFullYear(t,n,a),r):new Date(NaN)}if(i=Or.Www.exec(e),i)return o=parseInt(i[1],10)-1,Fw(o)?$w(t,o):new Date(NaN);if(i=Or.WwwD.exec(e),i){o=parseInt(i[1],10)-1;const a=parseInt(i[2],10)-1;return Fw(o,a)?$w(t,o,a):new Date(NaN)}return null}function SF(e){let t,r,n=Or.HH.exec(e);if(n)return t=parseFloat(n[1].replace(",",".")),nm(t)?t%24*rm:NaN;if(n=Or.HHMM.exec(e),n)return t=parseInt(n[1],10),r=parseFloat(n[2].replace(",",".")),nm(t,r)?t%24*rm+r*Mw:NaN;if(n=Or.HHMMSS.exec(e),n){t=parseInt(n[1],10),r=parseInt(n[2],10);const o=parseFloat(n[3].replace(",","."));return nm(t,r,o)?t%24*rm+r*Mw+o*1e3:NaN}return null}function $w(e,t,r){t=t||0,r=r||0;const n=new Date(0);n.setUTCFullYear(e,0,4);const o=n.getUTCDay()||7,i=t*7+r+1-o;return n.setUTCDate(n.getUTCDate()+i),n}const CF=[31,28,31,30,31,30,31,31,30,31,30,31],EF=[31,29,31,30,31,30,31,31,30,31,30,31];function zS(e){return e%400===0||e%4===0&&e%100!==0}function Lw(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;const n=zS(e);if(n&&r>EF[t]||!n&&r>CF[t])return!1}return!0}function kF(e,t){if(t<1)return!1;const r=zS(e);return!(r&&t>366||!r&&t>365)}function Fw(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function nm(e,t,r){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}const TF=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function PF(e,t,r={}){t=String(t);const n=t.match(TF);if(n){const o=BS(r.originalDate||e,r);t=n.reduce(function(i,a){if(a[0]==="'")return i;const l=i.indexOf(a),c=i[l-1]==="'",d=i.replace(a,"'"+xF[a[0]](o,a,r)+"'");return c?d.substring(0,l-1)+d.substring(l+1):d},t)}return Po(e,t,r)}function RF(e,t,r){e=BS(e,r);const n=Jv(t,e,!0),o=new Date(e.getTime()-n),i=new Date(0);return i.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),i.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),i}const Sn="America/Detroit",Os=e=>{const t=typeof e=="string"?LS(e):e;return RF(t,Sn)},sm=(e,t)=>new Date(`${e}T${t}:00`).toISOString(),VS=(e,t="yyyy-MM-dd HH:mm:ss zzz")=>{const r=typeof e=="string"?LS(e):e;return PF(r,t,{timeZone:Sn})},WS=e=>VS(e,"h:mm a"),rg=e=>VS(e,"MMMM d, yyyy"),gc=e=>new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:Sn}),ct=e=>{if(!e||e==="--:--")return e;const[t,r]=e.split(":"),n=parseInt(t,10),o=parseInt(r,10);if(isNaN(n)||isNaN(o))return e;const i=new Date;return i.setHours(n,o),i.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},HS=e=>{const t=Os(e.start_datetime),r=Os(new Date),n=new Date(r);return n.setHours(0,0,0,0),t>=n},qS=(e,t)=>{const r=e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),n=t.slice(-4);return`${r}-${n}`},OF=({onEventSelect:e})=>{const t=Fr(),[r,n]=h.useState([]),[o,i]=h.useState(!0);h.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:p,error:f}=await K.from("events").select(`
          *,
          volunteer_roles(*)
        `).eq("status","published").eq("is_public",!0).is("deleted_at",null).order("start_datetime",{ascending:!0});if(f){console.error("Error loading events:",f);return}const y=(p==null?void 0:p.filter(v=>HS(v)))||[];console.log("All events:",p),console.log("Upcoming events:",y);const g=await Promise.all(y.map(async v=>{var T;const{data:w,error:x}=await K.from("volunteers").select("id, role_id").eq("event_id",v.id).eq("status","confirmed");if(x)return console.error(`Error loading volunteers for ${v.title}:`,x),v;const b=(w==null?void 0:w.reduce((S,N)=>{const E=N.role_id;return S[E]||(S[E]=[]),S[E].push(N),S},{}))||{},j={...v,volunteer_roles:(T=v.volunteer_roles)==null?void 0:T.map(S=>({...S,volunteers:b[S.id]||[]}))};return console.log(`Event: ${v.title}`),console.log("Total volunteers found:",(w==null?void 0:w.length)||0),console.log("Volunteers by role:",b),j}));n(g)}catch(p){console.error("Error:",p)}finally{i(!1)}},l=p=>{const f=qS(p.title,p.id);t(`/${f}`),e&&e(p)},c=p=>{var f;return((f=p.volunteer_roles)==null?void 0:f.reduce((y,g)=>y+(g.slots_brother||0)+(g.slots_sister||0)+(g.slots_flexible||0),0))||0},d=p=>{var y;const f=((y=p.volunteer_roles)==null?void 0:y.reduce((g,v)=>{var x;const w=((x=v.volunteers)==null?void 0:x.length)||0;return console.log(`Role ${v.role_label}: ${w} volunteers`),g+w},0))||0;return console.log(`Total volunteers for ${p.title}: ${f}`),f},u=p=>{const f=Os(p.start_datetime),y=Os(new Date);return f.toDateString()===y.toDateString()},m=p=>{const f=Os(p.start_datetime),y=new Date,g=new Date(y.getTime()+5*60*60*1e3),v=Os(new Date),w=new Date(v);w.setDate(w.getDate()+1);const x=f<=g&&f>y;return f.toDateString()===v.toDateString()?{label:"Today",variant:"default",className:x?"bg-white text-gold-400 border-gold-400 font-semibold":"bg-white text-gold-400 border-gold-400",isUrgent:x}:f.toDateString()===w.toDateString()?{label:"Tomorrow",variant:"secondary",className:x?"bg-white text-gold-400 border-gold-400 font-semibold":"bg-blue-100 text-blue-800 border-blue-200",isUrgent:x}:{label:"Upcoming",variant:"outline",className:x?"bg-white text-gold-400 border-gold-400 font-semibold":"bg-white/10 text-foreground border-white/10",isUrgent:x}};return o?s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gold-400 mx-auto"}),s.jsx("p",{className:"text-white/50 mt-2",children:"Loading upcoming events..."})]})}):r.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Dt,{className:"w-12 h-12 text-white/30 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Upcoming Events"}),s.jsx("p",{className:"text-white/50",children:"There are no volunteer events scheduled at this time."})]}):s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"text-center mb-4 sm:mb-6 px-2",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-foreground mb-2",children:"Upcoming Volunteer Events"}),s.jsx("p",{className:"text-sm sm:text-base text-white/50",children:"We are excited to have you as part of our volunteer network. Our stewards play a vital role in serving the community with trust, hospitality, and dedication."})]}),s.jsx("div",{className:"grid gap-3 sm:gap-4",children:r.map(p=>{const f=c(p),y=d(p),g=f-y,v=m(p),w=u(p),x=v.isUrgent;return s.jsxs(Te,{onClick:()=>l(p),className:`hover:shadow-lg transition-all duration-200 cursor-pointer border-2 mx-2 sm:mx-0 ${x?"border-gold-400 bg-gold-400 text-white hover:border-gold-300 shadow-gold-400/30 shadow-lg":w?"border-gold-400 hover:border-gold-300 bg-gold-400 text-white":"border-gold-400/20 hover:border-gold-400/40"}`,children:[s.jsx(Lt,{className:"pb-3 px-4 sm:px-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ft,{className:`text-lg sm:text-xl ${x||w?"text-white font-bold":"text-foreground"} break-words`,children:p.title}),x&&s.jsx(gO,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white fill-current animate-pulse flex-shrink-0"})]}),s.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-center text-xs sm:text-sm space-y-1 sm:space-y-0 sm:space-x-4 ${x||w?"text-white/80":"text-white/50"}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Dt,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:rg(p.start_datetime)})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(wr,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:WS(p.start_datetime)})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(qn,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-xs leading-tight break-words",children:p.location})]})]})]}),s.jsx(ve,{className:`${v.className} ${x?"ring-2 ring-white/40":""} self-start sm:self-auto`,children:v.label})]})}),s.jsxs(Ie,{className:"pt-0 px-4 sm:px-6",children:[p.description&&s.jsx(Wr,{className:`${x||w?"text-white/85":"text-white/50"} mb-3 sm:mb-4 text-sm sm:text-base`,children:p.description}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{className:`flex items-center text-xs sm:text-sm ${x||w?"text-white/85":"text-white/50"}`,children:[s.jsx(At,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 flex-shrink-0"}),s.jsxs("span",{className:`${x||w?"text-white/90":""} break-words`,children:[y," of ",f," volunteers signed up",g>0&&s.jsx("span",{className:`font-medium ${x||w?"text-white":"text-gold-400"}`,children:x?` (${g} spots remaining - Starting Soon!)`:` (${g} spots remaining)`})]})]}),s.jsxs(W,{onClick:b=>{b.stopPropagation(),l(p)},className:`w-full sm:w-auto ${x?"bg-white hover:bg-white/90 text-gold-400 border border-white font-semibold shadow-lg":w?"bg-white hover:bg-white/90 text-gold-400 border border-white font-semibold":"bg-gold-400 hover:bg-gold-300 text-white"}`,children:[s.jsx("span",{className:"text-sm sm:text-base",children:x?"Starting Soon - Volunteer!":w?"Volunteer Today":"Volunteer Now"}),s.jsx(m1,{className:"w-3 h-3 sm:w-4 sm:h-4 ml-2"})]})]})]})]},p.id)})})]})},DF=()=>{const e=Fr(),[t,r]=h.useState(null),[n,o]=h.useState(!0);h.useEffect(()=>{if(typeof window<"u"&&window.location.hash.includes("access_token=")){const l=window.location.hash;window.location.replace(`/auth/callback${l}`)}a()},[]);const i=async()=>{try{const l=new Date,c=new Date(l.getTime()+5*60*60*1e3),{data:d,error:u}=await K.from("events").select("*").eq("status","published").eq("is_public",!1);if(u||!d||d.length===0)return;const m=d.filter(p=>{const f=new Date(p.start_datetime);return f<=c&&f>l});if(m.length===0)return;for(const p of m)await K.from("events").update({is_public:!0,updated_at:new Date().toISOString()}).eq("id",p.id)}catch(l){console.error("Error in autoMakeEventsPublic:",l)}},a=async()=>{try{await i();const{data:l,error:c}=await K.from("events").select("*").eq("status","published").eq("is_public",!0).is("deleted_at",null);if(c){r(!1);return}const d=(l==null?void 0:l.filter(u=>HS(u)))||[];r(d.length>0)}catch{r(!1)}finally{o(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background relative",children:[s.jsx("header",{className:"border-b border-gold-400/10 bg-navy-800/60 backdrop-blur-xl absolute top-0 left-0 right-0 z-20",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-3 hover:opacity-80 transition-opacity cursor-pointer",children:[s.jsx("div",{className:"crescent-moon mr-1"}),s.jsx("span",{className:"text-lg font-semibold text-gold-300 tracking-wide",children:"UMMA Stewards"})]})}),s.jsx(W,{onClick:()=>e("/login"),className:"bg-gold-400 hover:bg-gold-300 text-navy-900 font-medium rounded-lg shadow-lg button-glow transition-all duration-200",children:"Sign In"})]})})}),s.jsx("section",{className:`w-full ${t?"min-h-[calc(100vh-4rem)] px-4 sm:px-6 lg:px-8 py-8 pt-24":"min-h-screen"}`,children:n?s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"crescent-moon-lg mx-auto mb-4 animate-pulse-soft"}),s.jsx("p",{className:"text-white/50",children:"Loading..."})]})}):t?s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(OF,{})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"relative z-10 min-h-screen flex items-center justify-center text-center",children:[s.jsx("div",{className:"absolute inset-0 geometric-accent opacity-30"}),s.jsx("div",{className:"max-w-4xl mx-auto relative z-10 px-4",children:s.jsxs("div",{className:"mt-20 sm:mt-32 md:mt-40 lg:mt-48",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-8",children:[s.jsx("div",{className:"h-px w-16 bg-gradient-to-r from-transparent to-gold-400/40"}),s.jsx("div",{className:"crescent-moon-lg animate-float"}),s.jsx("div",{className:"h-px w-16 bg-gradient-to-l from-transparent to-gold-400/40"})]}),s.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold gradient-text mb-6",children:"Ramadan Mubarak"}),s.jsx("p",{className:"text-lg sm:text-xl text-white/70 mb-8 sm:mb-12 max-w-3xl mx-auto leading-relaxed",children:"We are excited to have you as part of our volunteer network. Our stewards play a vital role in serving the community with trust, hospitality, and dedication."}),s.jsx("div",{className:"ramadan-divider max-w-xs mx-auto mb-8"}),s.jsx("div",{className:"flex justify-center",children:s.jsx(W,{size:"lg",className:"bg-gold-400 hover:bg-gold-300 text-navy-900 px-8 py-4 text-lg rounded-xl shadow-xl button-glow transition-all duration-300 font-semibold",onClick:()=>e("/login?mode=signup"),children:"Get Started"})})]})})]})})})]})};var om="focusScope.autoFocusOnMount",im="focusScope.autoFocusOnUnmount",Uw={bubbles:!1,cancelable:!0},AF="FocusScope",Oc=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=e,[l,c]=h.useState(null),d=Ir(o),u=Ir(i),m=h.useRef(null),p=We(t,g=>c(g)),f=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let g=function(b){if(f.paused||!l)return;const j=b.target;l.contains(j)?m.current=j:Ys(m.current,{select:!0})},v=function(b){if(f.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Ys(m.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const T of b)T.removedNodes.length>0&&Ys(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const x=new MutationObserver(w);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),x.disconnect()}}},[n,l,f.paused]),h.useEffect(()=>{if(l){zw.add(f);const g=document.activeElement;if(!l.contains(g)){const w=new CustomEvent(om,Uw);l.addEventListener(om,d),l.dispatchEvent(w),w.defaultPrevented||(IF(UF(GS(l)),{select:!0}),document.activeElement===g&&Ys(l))}return()=>{l.removeEventListener(om,d),setTimeout(()=>{const w=new CustomEvent(im,Uw);l.addEventListener(im,u),l.dispatchEvent(w),w.defaultPrevented||Ys(g??document.body,{select:!0}),l.removeEventListener(im,u),zw.remove(f)},0)}}},[l,d,u,f]);const y=h.useCallback(g=>{if(!r&&!n||f.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(v&&w){const x=g.currentTarget,[b,j]=MF(x);b&&j?!g.shiftKey&&w===j?(g.preventDefault(),r&&Ys(b,{select:!0})):g.shiftKey&&w===b&&(g.preventDefault(),r&&Ys(j,{select:!0})):w===x&&g.preventDefault()}},[r,n,f.paused]);return s.jsx(ye.div,{tabIndex:-1,...a,ref:p,onKeyDown:y})});Oc.displayName=AF;function IF(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ys(n,{select:t}),document.activeElement!==r)return}function MF(e){const t=GS(e),r=Bw(t,e),n=Bw(t.reverse(),e);return[r,n]}function GS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Bw(e,t){for(const r of e)if(!$F(r,{upTo:t}))return r}function $F(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function LF(e){return e instanceof HTMLInputElement&&"select"in e}function Ys(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&LF(e)&&t&&e.select()}}var zw=FF();function FF(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Vw(e,t),e.unshift(t)},remove(t){var r;e=Vw(e,t),(r=e[0])==null||r.resume()}}}function Vw(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function UF(e){return e.filter(t=>t.tagName!=="A")}var am=0;function kh(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ww()),document.body.insertAdjacentElement("beforeend",e[1]??Ww()),am++,()=>{am===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),am--}},[])}function Ww(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Kd="right-scroll-bar-position",Qd="width-before-scroll-bar",BF="with-scroll-bars-hidden",zF="--removed-body-scroll-bar-size";function lm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function VF(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var WF=typeof window<"u"?h.useLayoutEffect:h.useEffect,Hw=new WeakMap;function HF(e,t){var r=VF(null,function(n){return e.forEach(function(o){return lm(o,n)})});return WF(function(){var n=Hw.get(r);if(n){var o=new Set(n),i=new Set(e),a=r.current;o.forEach(function(l){i.has(l)||lm(l,null)}),i.forEach(function(l){o.has(l)||lm(l,a)})}Hw.set(r,e)},[e]),r}function qF(e){return e}function GF(e,t){t===void 0&&(t=qF);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var a=t(i,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(i),a=r}var c=function(){var u=a;a=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){a.push(u),d()},filter:function(u){return a=a.filter(u),r}}}};return o}function YF(e){e===void 0&&(e={});var t=GF(null);return t.options=Nn({async:!0,ssr:!1},e),t}var YS=function(e){var t=e.sideCar,r=ko(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,Nn({},r))};YS.isSideCarExport=!0;function KF(e,t){return e.useMedium(t),YS}var KS=YF(),cm=function(){},Th=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:cm,onWheelCapture:cm,onTouchMoveCapture:cm}),o=n[0],i=n[1],a=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,p=e.sideCar,f=e.noRelative,y=e.noIsolation,g=e.inert,v=e.allowPinchZoom,w=e.as,x=w===void 0?"div":w,b=e.gapMode,j=ko(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=p,S=HF([r,t]),N=Nn(Nn({},j),o);return h.createElement(h.Fragment,null,u&&h.createElement(T,{sideCar:KS,removeScrollBar:d,shards:m,noRelative:f,noIsolation:y,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:b}),a?h.cloneElement(h.Children.only(l),Nn(Nn({},N),{ref:S})):h.createElement(x,Nn({},N,{className:c,ref:S}),l))});Th.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Th.classNames={fullWidth:Qd,zeroRight:Kd};var QF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function JF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=QF();return t&&e.setAttribute("nonce",t),e}function XF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ZF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var eU=function(){var e=0,t=null;return{add:function(r){e==0&&(t=JF())&&(XF(t,r),ZF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},tU=function(){var e=eU();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},QS=function(){var e=tU(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},rU={left:0,top:0,right:0,gap:0},dm=function(e){return parseInt(e||"",10)||0},nU=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[dm(r),dm(n),dm(o)]},sU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return rU;var t=nU(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},oU=QS(),fa="data-scroll-locked",iU=function(e,t,r,n){var o=e.left,i=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(BF,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(fa,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kd,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Qd,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Kd," .").concat(Kd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Qd," .").concat(Qd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(fa,`] {
    `).concat(zF,": ").concat(l,`px;
  }
`)},qw=function(){var e=parseInt(document.body.getAttribute(fa)||"0",10);return isFinite(e)?e:0},aU=function(){h.useEffect(function(){return document.body.setAttribute(fa,(qw()+1).toString()),function(){var e=qw()-1;e<=0?document.body.removeAttribute(fa):document.body.setAttribute(fa,e.toString())}},[])},lU=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;aU();var i=h.useMemo(function(){return sU(o)},[o]);return h.createElement(oU,{styles:iU(i,!t,o,r?"":"!important")})},ng=!1;if(typeof window<"u")try{var Td=Object.defineProperty({},"passive",{get:function(){return ng=!0,!0}});window.addEventListener("test",Td,Td),window.removeEventListener("test",Td,Td)}catch{ng=!1}var Ri=ng?{passive:!1}:!1,cU=function(e){return e.tagName==="TEXTAREA"},JS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!cU(e)&&r[t]==="visible")},dU=function(e){return JS(e,"overflowY")},uU=function(e){return JS(e,"overflowX")},Gw=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=XS(e,n);if(o){var i=ZS(e,n),a=i[1],l=i[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},hU=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},fU=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},XS=function(e,t){return e==="v"?dU(t):uU(t)},ZS=function(e,t){return e==="v"?hU(t):fU(t)},mU=function(e,t){return e==="h"&&t==="rtl"?-1:1},pU=function(e,t,r,n,o){var i=mU(e,window.getComputedStyle(t).direction),a=i*n,l=r.target,c=t.contains(l),d=!1,u=a>0,m=0,p=0;do{if(!l)break;var f=ZS(e,l),y=f[0],g=f[1],v=f[2],w=g-v-i*y;(y||w)&&XS(e,l)&&(m+=w,p+=y);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(m)<1||!u&&Math.abs(p)<1)&&(d=!0),d},Pd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Yw=function(e){return[e.deltaX,e.deltaY]},Kw=function(e){return e&&"current"in e?e.current:e},gU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},vU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},xU=0,Oi=[];function yU(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),o=h.useState(xU++)[0],i=h.useState(QS)[0],a=h.useRef(e);h.useEffect(function(){a.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var g=$v([e.lockRef.current],(e.shards||[]).map(Kw),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var w=Pd(g),x=r.current,b="deltaX"in g?g.deltaX:x[0]-w[0],j="deltaY"in g?g.deltaY:x[1]-w[1],T,S=g.target,N=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in g&&N==="h"&&S.type==="range")return!1;var E=Gw(N,S);if(!E)return!0;if(E?T=N:(T=N==="v"?"h":"v",E=Gw(N,S)),!E)return!1;if(!n.current&&"changedTouches"in g&&(b||j)&&(n.current=T),!T)return!0;var R=n.current||T;return pU(R,v,g,R==="h"?b:j)},[]),c=h.useCallback(function(g){var v=g;if(!(!Oi.length||Oi[Oi.length-1]!==i)){var w="deltaY"in v?Yw(v):Pd(v),x=t.current.filter(function(T){return T.name===v.type&&(T.target===v.target||v.target===T.shadowParent)&&gU(T.delta,w)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var b=(a.current.shards||[]).map(Kw).filter(Boolean).filter(function(T){return T.contains(v.target)}),j=b.length>0?l(v,b[0]):!a.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),d=h.useCallback(function(g,v,w,x){var b={name:g,delta:v,target:w,should:x,shadowParent:wU(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),u=h.useCallback(function(g){r.current=Pd(g),n.current=void 0},[]),m=h.useCallback(function(g){d(g.type,Yw(g),g.target,l(g,e.lockRef.current))},[]),p=h.useCallback(function(g){d(g.type,Pd(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return Oi.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Ri),document.addEventListener("touchmove",c,Ri),document.addEventListener("touchstart",u,Ri),function(){Oi=Oi.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Ri),document.removeEventListener("touchmove",c,Ri),document.removeEventListener("touchstart",u,Ri)}},[]);var f=e.removeScrollBar,y=e.inert;return h.createElement(h.Fragment,null,y?h.createElement(i,{styles:vU(o)}):null,f?h.createElement(lU,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function wU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const bU=KF(KS,yU);var Dc=h.forwardRef(function(e,t){return h.createElement(Th,Nn({},e,{ref:t,sideCar:bU}))});Dc.classNames=Th.classNames;var jU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Di=new WeakMap,Rd=new WeakMap,Od={},um=0,eC=function(e){return e&&(e.host||eC(e.parentNode))},NU=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=eC(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},_U=function(e,t,r,n){var o=NU(t,Array.isArray(e)?e:[e]);Od[r]||(Od[r]=new WeakMap);var i=Od[r],a=[],l=new Set,c=new Set(o),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};o.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))u(p);else try{var f=p.getAttribute(n),y=f!==null&&f!=="false",g=(Di.get(p)||0)+1,v=(i.get(p)||0)+1;Di.set(p,g),i.set(p,v),a.push(p),g===1&&y&&Rd.set(p,!0),v===1&&p.setAttribute(r,"true"),y||p.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return u(t),l.clear(),um++,function(){a.forEach(function(m){var p=Di.get(m)-1,f=i.get(m)-1;Di.set(m,p),i.set(m,f),p||(Rd.has(m)||m.removeAttribute(n),Rd.delete(m)),f||m.removeAttribute(r)}),um--,um||(Di=new WeakMap,Di=new WeakMap,Rd=new WeakMap,Od={})}},Ph=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=jU(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),_U(n,o,r,"aria-hidden")):function(){return null}};function SU(e){const t=CU(e),r=h.forwardRef((n,o)=>{const{children:i,...a}=n,l=h.Children.toArray(i),c=l.find(kU);if(c){const d=c.props.children,u=l.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...a,ref:o,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return s.jsx(t,{...a,ref:o,children:i})});return r.displayName=`${e}.Slot`,r}function CU(e){const t=h.forwardRef((r,n)=>{const{children:o,...i}=r;if(h.isValidElement(o)){const a=PU(o),l=TU(i,o.props);return o.type!==h.Fragment&&(l.ref=n?Ar(n,a):a),h.cloneElement(o,l)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var EU=Symbol("radix.slottable");function kU(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===EU}function TU(e,t){const r={...t};for(const n in t){const o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...l)=>{const c=i(...l);return o(...l),c}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function PU(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Rh="Dialog",[tC,rC]=Lr(Rh),[RU,ts]=tC(Rh),nC=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,l=h.useRef(null),c=h.useRef(null),[d,u]=Qn({prop:n,defaultProp:o??!1,onChange:i,caller:Rh});return s.jsx(RU,{scope:t,triggerRef:l,contentRef:c,contentId:hr(),titleId:hr(),descriptionId:hr(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(m=>!m),[u]),modal:a,children:r})};nC.displayName=Rh;var sC="DialogTrigger",oC=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=ts(sC,r),i=We(t,o.triggerRef);return s.jsx(ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":ex(o.open),...n,ref:i,onClick:ie(e.onClick,o.onOpenToggle)})});oC.displayName=sC;var Xv="DialogPortal",[OU,iC]=tC(Xv,{forceMount:void 0}),aC=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,i=ts(Xv,t);return s.jsx(OU,{scope:t,forceMount:r,children:h.Children.map(n,a=>s.jsx(Zr,{present:r||i.open,children:s.jsx(Va,{asChild:!0,container:o,children:a})}))})};aC.displayName=Xv;var Uu="DialogOverlay",lC=h.forwardRef((e,t)=>{const r=iC(Uu,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,i=ts(Uu,e.__scopeDialog);return i.modal?s.jsx(Zr,{present:n||i.open,children:s.jsx(AU,{...o,ref:t})}):null});lC.displayName=Uu;var DU=SU("DialogOverlay.RemoveScroll"),AU=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=ts(Uu,r);return s.jsx(Dc,{as:DU,allowPinchZoom:!0,shards:[o.contentRef],children:s.jsx(ye.div,{"data-state":ex(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),fi="DialogContent",cC=h.forwardRef((e,t)=>{const r=iC(fi,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,i=ts(fi,e.__scopeDialog);return s.jsx(Zr,{present:n||i.open,children:i.modal?s.jsx(IU,{...o,ref:t}):s.jsx(MU,{...o,ref:t})})});cC.displayName=fi;var IU=h.forwardRef((e,t)=>{const r=ts(fi,e.__scopeDialog),n=h.useRef(null),o=We(t,r.contentRef,n);return h.useEffect(()=>{const i=n.current;if(i)return Ph(i)},[]),s.jsx(dC,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ie(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:ie(e.onFocusOutside,i=>i.preventDefault())})}),MU=h.forwardRef((e,t)=>{const r=ts(fi,e.__scopeDialog),n=h.useRef(!1),o=h.useRef(!1);return s.jsx(dC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const a=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),dC=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:i,...a}=e,l=ts(fi,r),c=h.useRef(null),d=We(t,c);return kh(),s.jsxs(s.Fragment,{children:[s.jsx(Oc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:i,children:s.jsx(wi,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ex(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(LU,{titleId:l.titleId}),s.jsx(UU,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Zv="DialogTitle",uC=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=ts(Zv,r);return s.jsx(ye.h2,{id:o.titleId,...n,ref:t})});uC.displayName=Zv;var hC="DialogDescription",fC=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=ts(hC,r);return s.jsx(ye.p,{id:o.descriptionId,...n,ref:t})});fC.displayName=hC;var mC="DialogClose",pC=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=ts(mC,r);return s.jsx(ye.button,{type:"button",...n,ref:t,onClick:ie(e.onClick,()=>o.onOpenChange(!1))})});pC.displayName=mC;function ex(e){return e?"open":"closed"}var gC="DialogTitleWarning",[$U,vC]=mR(gC,{contentName:fi,titleName:Zv,docsSlug:"dialog"}),LU=({titleId:e})=>{const t=vC(gC),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},FU="DialogDescriptionWarning",UU=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vC(FU).contentName}}.`;return h.useEffect(()=>{var i;const o=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Oh=nC,xC=oC,Dh=aC,Za=lC,el=cC,Ac=uC,Ic=fC,Ah=pC;const fr=Oh,tx=xC,BU=Dh,yC=h.forwardRef(({className:e,...t},r)=>s.jsx(Za,{ref:r,className:te("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));yC.displayName=Za.displayName;const nr=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(BU,{children:[s.jsx(yC,{}),s.jsxs(el,{ref:n,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-white/10 bg-navy-800/95 backdrop-blur-xl p-6 shadow-xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-2xl",e),...r,children:[t,s.jsxs(Ah,{className:"absolute right-4 top-4 rounded-sm opacity-70 text-white/60 ring-offset-navy-800 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-gold-400/50 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-white/10 data-[state=open]:text-white/70",children:[s.jsx(Oa,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nr.displayName=el.displayName;const sr=({className:e,...t})=>s.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});sr.displayName="DialogHeader";const or=h.forwardRef(({className:e,...t},r)=>s.jsx(Ac,{ref:r,className:te("text-lg font-semibold leading-none tracking-tight text-foreground",e),...t}));or.displayName=Ac.displayName;const ir=h.forwardRef(({className:e,...t},r)=>s.jsx(Ic,{ref:r,className:te("text-sm text-white/50",e),...t}));ir.displayName=Ic.displayName;const he=h.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:te("flex h-11 w-full rounded-2xl border border-white/15 bg-white/5 px-4 py-3 text-base text-foreground ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-white/30 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gold-400/50 focus-visible:ring-offset-2 focus-visible:border-gold-400 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm transition-all duration-200 hover:border-white/25 shadow-sm focus:shadow-md",e),ref:n,...r}));he.displayName="Input";function rx(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ih="Switch",[zU]=Lr(Ih),[VU,WU]=zU(Ih),wC=h.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:o,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=e,[p,f]=h.useState(null),y=We(t,b=>f(b)),g=h.useRef(!1),v=p?u||!!p.closest("form"):!0,[w,x]=Qn({prop:o,defaultProp:i??!1,onChange:d,caller:Ih});return s.jsxs(VU,{scope:r,checked:w,disabled:l,children:[s.jsx(ye.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":_C(w),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:y,onClick:ie(e.onClick,b=>{x(j=>!j),v&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),v&&s.jsx(NC,{control:p,bubbles:!g.current,name:n,value:c,checked:w,required:a,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});wC.displayName=Ih;var bC="SwitchThumb",jC=h.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,o=WU(bC,r);return s.jsx(ye.span,{"data-state":_C(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:t})});jC.displayName=bC;var HU="SwitchBubbleInput",NC=h.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...o},i)=>{const a=h.useRef(null),l=We(a,i),c=rx(r),d=Cv(t);return h.useEffect(()=>{const u=a.current;if(!u)return;const m=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&f){const y=new Event("click",{bubbles:n});f.call(u,r),u.dispatchEvent(y)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:l,style:{...o.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});NC.displayName=HU;function _C(e){return e?"checked":"unchecked"}var SC=wC,qU=jC;const fs=h.forwardRef(({className:e,...t},r)=>s.jsx(SC,{className:te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(qU,{className:te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));fs.displayName=SC.displayName;const dn=()=>{var p,f,y;const e=Fr(),t=Ka(),{toast:r}=Xt(),[n,o]=h.useState(!1),[i,a]=h.useState(null),[l,c]=h.useState(!1);h.useEffect(()=>{(async()=>{const{data:{session:w}}=await K.auth.getSession();a((w==null?void 0:w.user)??null)})();const{data:{subscription:v}}=K.auth.onAuthStateChange((w,x)=>{a((x==null?void 0:x.user)??null),w==="SIGNED_OUT"&&e("/login")});return()=>v.unsubscribe()},[e]);const d=async()=>{c(!0);try{const{error:g}=await K.auth.signOut();g?r({title:"Sign Out Error",description:g.message,variant:"destructive"}):(localStorage.removeItem("user"),r({title:"Signed Out",description:"You've been successfully signed out."}),e("/login"))}catch(g){console.error("Logout error:",g),r({title:"Error",description:"An unexpected error occurred during sign out.",variant:"destructive"})}finally{c(!1)}},u=[{label:"Events",path:"/dashboard",icon:Dt},{label:"Templates",path:"/templates",icon:En},{label:"Contacts",path:"/contacts",icon:xv},{label:"Settings",path:"/settings",icon:Su}],m=((p=i==null?void 0:i.user_metadata)==null?void 0:p.full_name)||((f=i==null?void 0:i.user_metadata)==null?void 0:f.name)||((y=i==null?void 0:i.email)==null?void 0:y.split("@")[0])||"Organizer";return s.jsx("header",{className:"bg-navy-800/80 backdrop-blur-xl border-b border-gold-400/15 shadow-lg shadow-black/20",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"relative flex justify-between md:justify-between items-center h-16",children:[s.jsx("div",{className:"flex items-center space-x-3 flex-1 md:flex-none justify-center md:justify-start",children:s.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center space-x-3 hover:opacity-80 transition-opacity cursor-pointer",children:[s.jsx("div",{className:"crescent-moon mr-1"}),s.jsx("span",{className:"text-lg font-semibold text-gold-300 tracking-wide",children:"UMMA Stewards"})]})}),s.jsx("nav",{className:"hidden md:flex items-center space-x-2 absolute left-1/2 transform -translate-x-1/2",children:u.map(g=>{const v=g.icon,w=t.pathname===g.path;return s.jsxs("button",{onClick:()=>e(g.path),className:`flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-200 ${w?"bg-gold-400/15 text-gold-300 shadow-sm golden-border":"text-white/60 hover:text-gold-300 hover:bg-white/5"}`,children:[s.jsx(v,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium text-sm",children:g.label})]},g.path)})}),s.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm text-gold-200/70 font-medium",children:m}),s.jsxs(W,{variant:"outline",size:"sm",onClick:d,disabled:l,className:"border-white/15 text-white/70 hover:bg-white/5 hover:text-gold-300 hover:border-gold-400/30 bg-transparent",children:[s.jsx(ju,{className:"w-4 h-4 mr-2"}),l?"Signing Out...":"Sign Out"]})]}),s.jsx("button",{className:"absolute right-4 md:relative md:right-auto md:hidden text-gold-300",onClick:()=>o(!n),children:n?s.jsx(Oa,{className:"w-6 h-6"}):s.jsx(NO,{className:"w-6 h-6"})})]}),n&&s.jsx("div",{className:"md:hidden border-t border-gold-400/10 py-4 bg-navy-800/95 backdrop-blur-xl",children:s.jsxs("nav",{className:"space-y-1",children:[u.map(g=>{const v=g.icon,w=t.pathname===g.path;return s.jsxs("button",{onClick:()=>{e(g.path),o(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-200 ${w?"bg-gold-400/15 text-gold-300":"text-white/60 hover:text-gold-300 hover:bg-white/5"}`,children:[s.jsx(v,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:g.label})]},g.path)}),s.jsxs("div",{className:"border-t border-gold-400/10 pt-4 mt-4",children:[s.jsx("p",{className:"text-sm text-gold-200/70 px-4 pb-2 font-medium",children:m}),s.jsxs("button",{onClick:d,disabled:l,className:"w-full flex items-center space-x-3 px-4 py-3 text-white/60 hover:text-red-400 hover:bg-red-500/10 rounded-xl transition-all duration-200 disabled:opacity-50",children:[s.jsx(ju,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:l?"Signing Out...":"Sign Out"})]})]})]})})]})})},hm=768;function Mc(){const[e,t]=h.useState(void 0);return h.useEffect(()=>{const r=window.matchMedia(`(max-width: ${hm-1}px)`),n=()=>{t(window.innerWidth<hm)};return r.addEventListener("change",n),t(window.innerWidth<hm),()=>r.removeEventListener("change",n)},[]),!!e}const Mh=()=>{const[e,t]=h.useState(!1),[r,n]=h.useState(!0),[o,i]=h.useState(null);return h.useEffect(()=>{(async()=>{var d;try{const{data:{user:u},error:m}=await K.auth.getUser();if(m||!u){t(!1),i(null),n(!1);return}i(u);const{data:p,error:f}=await K.from("profiles").select("is_admin").eq("id",u.id).single();if(f||!p){const y=((d=u.user_metadata)==null?void 0:d.is_admin)||!1;t(y)}else t(p.is_admin||!1);n(!1)}catch(u){console.error("Error checking admin status:",u),t(!1),n(!1)}})();const{data:{subscription:c}}=K.auth.onAuthStateChange((d,u)=>{var m;if(d==="SIGNED_OUT")t(!1),i(null);else if(u!=null&&u.user){i(u.user);const p=((m=u.user.user_metadata)==null?void 0:m.is_admin)||!1;t(p)}});return()=>c.unsubscribe()},[]),{isAdmin:e,loading:r,user:o,refreshAdminStatus:async()=>{var l;if(o)try{const{data:{user:c},error:d}=await K.auth.getUser();if(d||!c){t(!1);return}i(c);const{data:u,error:m}=await K.from("profiles").select("is_admin").eq("id",c.id).single();if(m||!u){const p=((l=c.user_metadata)==null?void 0:l.is_admin)||!1;t(p)}else t(u.is_admin||!1)}catch(c){console.error("Error refreshing admin status:",c)}}}},nx=()=>{const{toast:e}=Xt(),{isAdmin:t}=Mh(),[r,n]=h.useState(!1),[o,i]=h.useState(!1),[a,l]=h.useState(!1);return console.log("useEventDeletion: isAdmin status:",t),{isDeleting:r,isRestoring:o,isDeletingAll:a,softDeleteEvent:async(f,y)=>{n(!0);try{const{data:{user:g}}=await K.auth.getUser();if(!g)return e({title:"Error",description:"You must be logged in to delete events.",variant:"destructive"}),!1;console.log("Soft delete attempt:",{eventId:f,userId:g.id,isAdmin:t});const{data:v,error:w}=await K.rpc("soft_delete_event",{event_id:f,user_id:g.id});return w?(console.error("Error soft deleting event:",w),e({title:"Error",description:"Failed to delete event. Please try again.",variant:"destructive"}),!1):v?(e({title:"Event Deleted",description:`"${y}" has been moved to recently deleted. You can recover it within 30 days.`}),!0):(e({title:"Access Denied",description:"You don't have permission to delete this event.",variant:"destructive"}),!1)}catch(g){return console.error("Error:",g),e({title:"Error",description:"An unexpected error occurred while deleting the event.",variant:"destructive"}),!1}finally{n(!1)}},restoreEvent:async(f,y)=>{i(!0);try{const{data:{user:g}}=await K.auth.getUser();if(!g)return e({title:"Error",description:"You must be logged in to restore events.",variant:"destructive"}),!1;const{data:v,error:w}=await K.rpc("restore_event",{event_id:f,user_id:g.id});return w?(console.error("Error restoring event:",w),e({title:"Error",description:"Failed to restore event. Please try again.",variant:"destructive"}),!1):v?(e({title:"Event Restored",description:`"${y}" has been successfully restored.`}),!0):(e({title:"Access Denied",description:"You don't have permission to restore this event.",variant:"destructive"}),!1)}catch(g){return console.error("Error:",g),e({title:"Error",description:"An unexpected error occurred while restoring the event.",variant:"destructive"}),!1}finally{i(!1)}},permanentlyDeleteEvent:async(f,y)=>{try{const{data:{user:g}}=await K.auth.getUser();if(!g)return e({title:"Error",description:"You must be logged in to delete events.",variant:"destructive"}),!1;const{data:v,error:w}=await K.from("events").select("created_by, deleted_at").eq("id",f).single();if(w||!v)return e({title:"Error",description:"Event not found.",variant:"destructive"}),!1;if(v.created_by!==g.id&&!t)return e({title:"Access Denied",description:"You don't have permission to delete this event.",variant:"destructive"}),!1;const{error:x}=await K.from("events").delete().eq("id",f);return x?(console.error("Error permanently deleting event:",x),e({title:"Error",description:"Failed to permanently delete event. Please try again.",variant:"destructive"}),!1):(e({title:"Event Permanently Deleted",description:`"${y}" has been permanently removed and cannot be recovered.`}),!0)}catch(g){return console.error("Error:",g),e({title:"Error",description:"An unexpected error occurred while deleting the event.",variant:"destructive"}),!1}},permanentlyDeleteAllEvents:async()=>{l(!0);try{const{data:{user:f}}=await K.auth.getUser();if(!f)return e({title:"Error",description:"You must be logged in to delete items.",variant:"destructive"}),!1;const y=K.from("events").select("id, title").not("deleted_at","is",null);t||y.eq("created_by",f.id);const{data:g,error:v}=await y;if(v)return console.error("Error fetching soft deleted events:",v),e({title:"Error",description:"Failed to fetch deleted events. Please try again.",variant:"destructive"}),!1;const w=K.from("event_templates").select("id, name").not("deleted_at","is",null);t||w.eq("user_id",f.id);const{data:x,error:b}=await w;if(b)return console.error("Error fetching soft deleted templates:",b),e({title:"Error",description:"Failed to fetch deleted templates. Please try again.",variant:"destructive"}),!1;const j=(g==null?void 0:g.length)||0,T=(x==null?void 0:x.length)||0;if(j===0&&T===0)return e({title:"No Items to Delete",description:"There are no deleted items to permanently remove."}),!1;if(j>0){const N=K.from("events").delete().not("deleted_at","is",null);t||N.eq("created_by",f.id);const{error:E}=await N;if(E)return console.error("Error permanently deleting all events:",E),e({title:"Error",description:"Failed to permanently delete events. Please try again.",variant:"destructive"}),!1}if(T>0){const N=K.from("event_templates").delete().not("deleted_at","is",null);t||N.eq("user_id",f.id);const{error:E}=await N;if(E)return console.error("Error permanently deleting all templates:",E),e({title:"Error",description:"Failed to permanently delete templates. Please try again.",variant:"destructive"}),!1}let S="";return j>0&&T>0?S=`${j} event${j===1?"":"s"} and ${T} template${T===1?"":"s"} have been permanently removed and cannot be recovered.`:j>0?S=`${j} event${j===1?"":"s"} ha${j===1?"s":"ve"} been permanently removed and cannot be recovered.`:T>0&&(S=`${T} template${T===1?"":"s"} ha${T===1?"s":"ve"} been permanently removed and cannot be recovered.`),e({title:"All Items Permanently Deleted",description:S}),!0}catch(f){return console.error("Error:",f),e({title:"Error",description:"An unexpected error occurred while deleting items.",variant:"destructive"}),!1}finally{l(!1)}},getSoftDeletedEvents:async()=>{try{const{data:{user:f}}=await K.auth.getUser();if(!f)return[];const y=K.from("events").select(`
          *,
          volunteer_roles(*),
          volunteers(*)
        `).not("deleted_at","is",null).order("deleted_at",{ascending:!1});t||y.eq("created_by",f.id);const{data:g,error:v}=await y;if(v)return console.error("Error loading soft deleted events:",v),[];const w=(g||[]).filter(x=>x.deleted_at);return console.log("Recently Deleted - Loaded events:",(g==null?void 0:g.length)||0,"Filtered events:",w.length),w}catch(f){return console.error("Error:",f),[]}}}},GU=()=>{var Y;const e=Fr(),{toast:t}=Xt(),r=Mc(),{softDeleteEvent:n,isDeleting:o}=nx(),{isAdmin:i}=Mh(),[a,l]=h.useState([]),[c,d]=h.useState({}),u=C=>i||C.created_by===(f==null?void 0:f.id),[m,p]=h.useState(!0),[f,y]=h.useState(null),[g,v]=h.useState({}),[w,x]=h.useState("all"),[b,j]=h.useState(""),[T,S]=h.useState({isOpen:!1,event:null}),N=(C,k)=>{const L=C.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),z=k.slice(-4);return`${L}-${z}`},E=(C,k)=>{const L=C.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),z=k.slice(-4);return`${L}-${z}`};h.useEffect(()=>{(async()=>{try{console.log(" Checking user session...");const{data:{user:k},error:L}=await K.auth.getUser();if(L&&(console.error(" Error getting user:",L),L.status===406)){console.error(" 406 error on auth check - clearing session"),await K.auth.signOut(),e("/login");return}if(!k){console.log("No user found, redirecting to login"),e("/login");return}console.log(" User authenticated:",k.id),y(k),await P()}catch(k){console.error(" Error in checkUser:",k),e("/login")}})()},[e]);const R=async C=>{try{const k=new Date,L=new Date(k.getTime()+5*60*60*1e3),z=C.filter(G=>{if(G.status!=="published"||G.is_public===!0)return!1;const X=new Date(G.start_datetime);return X<=L&&X>k});if(z.length===0)return;console.log(` Auto-making ${z.length} events public (5 hours before start)`);for(const G of z){const{error:X}=await K.from("events").update({is_public:!0,updated_at:new Date().toISOString()}).eq("id",G.id);X?console.error(` Failed to make event ${G.title} public:`,X):(console.log(` Made event "${G.title}" public (starts in ${Math.round((new Date(G.start_datetime).getTime()-k.getTime())/(1e3*60*60))} hours)`),G.is_public=!0)}z.length>0&&t({title:"Events Auto-Made Public",description:`${z.length} event(s) were automatically made public as they start within 5 hours.`})}catch(k){console.error(" Error in autoMakeEventsPublic:",k)}},P=async()=>{try{const{data:{user:C}}=await K.auth.getUser();if(!C){console.log("No user found, redirecting to login"),e("/login");return}console.log(" Loading events for user:",C.id),console.log(" Testing simple events query...");const{data:k,error:L}=await K.from("events").select("id, title").is("deleted_at",null).limit(5);if(L){console.error(" Simple query failed:",L),L.status===406&&(console.error(" 406 Not Acceptable error detected"),console.error("Error details:",{message:L.message,code:L.code,details:L.details,hint:L.hint,status:L.status,statusText:L.statusText})),t({title:"Connection Error",description:`Failed to load events: ${L.message}`,variant:"destructive"});return}console.log(" Simple query successful, found",(k==null?void 0:k.length)||0,"events"),console.log(" Testing complex events query with nested selects...");const{data:z,error:G}=await K.from("events").select(`
          *,
          volunteer_roles(*),
          volunteers(*)
        `).is("deleted_at",null).order("created_at",{ascending:!1});if(G){if(console.error(" Complex query failed:",G),G.status===406){console.error(" 406 Not Acceptable error on complex query"),console.error("Error details:",{message:G.message,code:G.code,details:G.details,hint:G.hint,status:G.status,statusText:G.statusText}),console.log(" Falling back to simple query...");const{data:Q,error:ue}=await K.from("events").select("*").is("deleted_at",null).order("created_at",{ascending:!1});if(ue){console.error(" Fallback query also failed:",ue),t({title:"Error",description:"Failed to load events. Please refresh the page.",variant:"destructive"});return}console.log(" Fallback query successful"),l(Q),await _(Q);return}t({title:"Error",description:"Failed to load events.",variant:"destructive"});return}const X=(z||[]).filter(Q=>!Q.deleted_at);console.log(" Complex query successful - Loaded events:",(z==null?void 0:z.length)||0,"Filtered events:",X.length),await R(X),l(X),await _(X)}catch(C){console.error(" Unexpected error in loadEvents:",C),t({title:"Unexpected Error",description:"An unexpected error occurred while loading events.",variant:"destructive"})}finally{p(!1)}},_=async C=>{try{const k=Array.from(new Set((C||[]).map(X=>X.created_by).filter(X=>!!X)));if(k.length===0)return;const{data:L,error:z}=await K.from("profiles").select("id, full_name, email").in("id",k);if(z){console.error("Error fetching creator profiles:",z);return}const G={};(L||[]).forEach(X=>{G[X.id]=X.full_name||X.email||"Unknown"}),d(G)}catch(k){console.error("Unexpected error fetching creator names:",k)}},O=C=>{var z,G;const k=((z=C.volunteer_roles)==null?void 0:z.reduce((X,Q)=>X+(Q.slots_brother||0)+(Q.slots_sister||0)+(Q.slots_flexible||0),0))||0,L=((G=C.volunteers)==null?void 0:G.length)||0;return{totalSlots:k,filledSlots:L,openSlots:k-L}},M=C=>{const k=new Date(C.start_datetime),L=new Date;return L.setHours(0,0,0,0),k<L},A=C=>M(C)?"past":C.status,H=()=>{let C=a;switch(w){case"published":C=C.filter(k=>A(k)==="published");break;case"draft":C=C.filter(k=>A(k)==="draft");break;case"past":C=C.filter(k=>M(k));break}return b.trim()&&(C=C.filter(k=>k.title.toLowerCase().includes(b.toLowerCase())||k.location.toLowerCase().includes(b.toLowerCase()))),C},q=C=>{const k=E(C.title,C.id),L=`${window.location.origin}/${k}`;navigator.clipboard.writeText(L),t({title:"Link Copied",description:"Volunteer sign-up link copied to clipboard."})},I=C=>{const L=`/${E(C.title,C.id)}`;window.open(L,"_blank")},D=async C=>{await n(C.id,C.title)&&(l(L=>L.filter(z=>z.id!==C.id)),S({isOpen:!1,event:null}))},$=()=>{x("all"),j("")};return m?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(dn,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin w-12 h-12 border-3 border-gold-400 border-t-transparent rounded-full mx-auto mb-6"}),s.jsx("p",{className:"text-white/60 font-medium text-lg",children:"Loading your events..."})]})})})]}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(dn,{}),s.jsxs("main",{className:"container mx-auto px-4 py-6 md:py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground tracking-tight",children:"Event Dashboard"}),i&&s.jsxs(ve,{variant:"secondary",className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white border-0 p-1.5 md:p-2",children:[s.jsx(jp,{className:"w-3 h-3 md:w-4 md:h-4 md:mr-1"}),s.jsx("span",{className:"hidden md:inline",children:"Admin Mode"})]})]}),s.jsx("p",{className:"text-white/50 text-lg leading-relaxed",children:"Organize events and manage volunteer coordination"})]}),s.jsxs("div",{className:"w-full sm:w-auto flex flex-col sm:flex-row gap-2 sm:gap-3",children:[s.jsxs(W,{onClick:()=>e("/events/create"),className:"w-full h-10 px-4 sm:px-6 bg-gold-400 hover:bg-gold-300 text-navy-900 shadow-sm hover:shadow-md transition-all duration-200",children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),"Create Event"]}),s.jsxs(W,{onClick:()=>e("/recently-deleted"),variant:"ghost",className:"hidden sm:flex h-10 px-4 text-red-400 hover:text-red-300 hover:bg-red-500/10 border border-red-500/30",children:[s.jsx(Gr,{className:"w-4 h-4 mr-2"}),"Recently Deleted"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 mb-8 max-w-5xl mx-auto",children:[s.jsx(Te,{className:"border border-white/10 bg-white/5 backdrop-blur-xl shadow-lg hover:shadow-xl transition-all duration-200 hover:-translate-y-0.5 hover:border-gold-400/20",children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[s.jsx("div",{className:"p-2 bg-gold-400/15 rounded-lg",children:s.jsx(Dt,{className:"w-5 h-5 text-gold-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.length}),s.jsx("p",{className:"text-sm text-white/50",children:"Total Events"})]})]})})}),s.jsx(Te,{className:"border border-white/10 bg-white/5 backdrop-blur-xl shadow-lg hover:shadow-xl transition-all duration-200 hover:-translate-y-0.5 hover:border-gold-400/20",children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[s.jsx("div",{className:"p-2 bg-emerald-500/15 rounded-lg",children:s.jsx(vv,{className:"w-5 h-5 text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:a.filter(C=>A(C)==="published").length}),s.jsx("p",{className:"text-sm text-white/50",children:"Active Events"})]})]})})}),s.jsx(Te,{className:"border border-white/10 bg-white/5 backdrop-blur-xl shadow-lg hover:shadow-xl transition-all duration-200 hover:-translate-y-0.5 hover:border-gold-400/20",children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[s.jsx("div",{className:"p-2 bg-amber-500/15 rounded-lg",children:s.jsx(En,{className:"w-5 h-5 text-amber-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-amber-400",children:a.filter(C=>A(C)==="draft").length}),s.jsx("p",{className:"text-sm text-white/50",children:"Draft Events"})]})]})})}),s.jsx(Te,{className:"border border-white/10 bg-white/5 backdrop-blur-xl shadow-lg hover:shadow-xl transition-all duration-200 hover:-translate-y-0.5 hover:border-gold-400/20",children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[s.jsx("div",{className:"p-2 bg-purple-500/15 rounded-lg",children:s.jsx(w1,{className:"w-5 h-5 text-purple-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-purple-400",children:a.reduce((C,k)=>{if(A(k)==="published"){const L=O(k);return C+L.openSlots}return C},0)}),s.jsx("p",{className:"text-sm text-white/50",children:"Open Volunteer Opportunities"})]})]})})}),s.jsx(Te,{className:"border border-white/10 bg-white/5 backdrop-blur-xl shadow-lg hover:shadow-xl transition-all duration-200 hover:-translate-y-0.5 hover:border-gold-400/20 md:col-span-1",children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[s.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:s.jsx(Dt,{className:"w-5 h-5 text-white/50"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-white/70",children:a.filter(C=>M(C)).length}),s.jsx("p",{className:"text-sm text-white/50",children:"Past Events"})]})]})})}),s.jsx(Te,{className:"md:hidden border-0 bg-gradient-to-br from-red-400 to-red-500 text-white shadow-lg hover:shadow-xl transition-all duration-200 hover:-translate-y-0.5 cursor-pointer ring-2 ring-red-200",onClick:()=>e("/recently-deleted"),children:s.jsx(Ie,{className:"p-4 h-full min-h-[120px] flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 text-center w-full",children:[s.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm flex items-center justify-center",children:s.jsx(Gr,{className:"w-5 h-5 text-white"})}),s.jsx("p",{className:"text-base font-semibold text-white",children:"Recently Deleted"})]})})})]}),s.jsxs(Te,{className:"border border-white/10 bg-white/5 backdrop-blur-xl shadow-lg",children:[s.jsx(Lt,{className:"border-b border-white/10 bg-transparent",children:s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(Ft,{className:"text-xl font-semibold text-foreground",children:"Your Events"}),s.jsx(Wr,{className:"text-white/50",children:"Manage your events and track volunteer participation"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/30"}),s.jsx(he,{placeholder:"Search events...",value:b,onChange:C=>j(C.target.value),className:"pl-10 h-9 w-full sm:w-64 border-white/15 bg-white/5 text-foreground focus:border-gold-400 focus:ring-gold-400/20"})]}),s.jsx("div",{className:"overflow-x-auto -mx-4 px-4",children:s.jsxs("div",{className:"flex gap-1 p-1 bg-white/10 rounded-lg w-full sm:w-fit",children:[s.jsxs(W,{variant:w==="all"?"default":"ghost",onClick:()=>x("all"),className:`h-7 px-2 sm:px-3 text-xs rounded-md transition-all whitespace-nowrap flex-1 sm:flex-none sm:w-auto font-medium ${w==="all"?"bg-gold-400 text-white shadow-md border border-gold-400/20":"text-white/50 hover:text-foreground hover:bg-white/10 bg-transparent"}`,children:["All (",a.length,")"]}),s.jsxs(W,{variant:w==="published"?"default":"ghost",onClick:()=>x("published"),className:`h-7 px-2 sm:px-3 text-xs rounded-md transition-all whitespace-nowrap flex-1 sm:flex-none sm:w-auto font-medium ${w==="published"?"bg-gold-400 text-white shadow-md border border-gold-400/20":"text-white/50 hover:text-foreground hover:bg-white/10 bg-transparent"}`,children:["Published (",a.filter(C=>A(C)==="published").length,")"]}),s.jsxs(W,{variant:w==="draft"?"default":"ghost",onClick:()=>x("draft"),className:`h-7 px-2 sm:px-3 text-xs rounded-md transition-all whitespace-nowrap flex-1 sm:flex-none sm:w-auto font-medium ${w==="draft"?"bg-gold-400 text-white shadow-md border border-gold-400/20":"text-white/50 hover:text-foreground hover:bg-white/10 bg-transparent"}`,children:["Drafts (",a.filter(C=>A(C)==="draft").length,")"]}),s.jsxs(W,{variant:w==="past"?"default":"ghost",onClick:()=>x("past"),className:`h-7 px-2 sm:px-3 text-xs rounded-md transition-all whitespace-nowrap flex-1 sm:flex-none sm:w-auto font-medium ${w==="past"?"bg-gold-400 text-white shadow-md border border-gold-400/20":"text-white/50 hover:text-foreground hover:bg-white/10 bg-transparent"}`,children:["Past (",a.filter(C=>M(C)).length,")"]})]})}),(w!=="all"||b)&&s.jsx(W,{variant:"ghost",onClick:$,className:"h-7 px-3 text-xs text-white/40 hover:text-white/70",children:"Clear filters"})]})]})}),s.jsx(Ie,{className:"p-0",children:H().length===0?s.jsxs("div",{className:"text-center py-16 px-8",children:[s.jsx("div",{className:"w-20 h-20 bg-white/10 rounded-2xl flex items-center justify-center mx-auto mb-6",children:s.jsx(Dt,{className:"w-10 h-10 text-white/30"})}),s.jsx("h3",{className:"text-xl font-semibold text-white/70 mb-3",children:a.length===0?"Start Organizing Events":"No Events Match Filters"}),s.jsx("p",{className:"text-white/40 mb-6 max-w-lg mx-auto",children:a.length===0?"Create your first event and start coordinating volunteers":"Try adjusting your search or filters to find what you're looking for."}),a.length===0&&s.jsxs(W,{onClick:()=>e("/events/create"),className:"bg-gold-400 hover:bg-gold-300 text-navy-900 px-6 py-3 shadow-sm hover:shadow-md transition-all duration-200",children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),"Create Your First Event"]})]}):s.jsx(s.Fragment,{children:r?s.jsx("div",{className:"p-4 space-y-3",children:H().map(C=>{const k=O(C);return s.jsxs("div",{className:`rounded-xl p-4 border shadow-sm ${M(C)?"border-white/15 bg-white/10":"bg-white/5 border-white/10"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-semibold text-foreground text-sm mb-1 flex items-center gap-2",children:[C.title,i&&C.created_by!==(f==null?void 0:f.id)&&s.jsx(ve,{variant:"outline",className:"text-xs bg-blue-500/15 text-blue-300 border-blue-500/25",children:`By ${c[C.created_by]||"Other User"}`})]}),s.jsx("p",{className:"text-white/50 text-xs mb-1",children:C.location}),s.jsx("p",{className:"text-white/50 text-xs",children:new Date(C.start_datetime).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]}),s.jsx("div",{className:"flex flex-col gap-1",children:s.jsx(ve,{variant:"secondary",className:`text-[10px] px-1.5 py-0.5 ${A(C)==="published"?"bg-emerald-500/15 text-emerald-300 border-emerald-500/25":A(C)==="draft"?"bg-amber-500/15 text-amber-300 border-amber-500/25":"bg-white/10 text-white/60 border-white/15"}`,children:A(C)==="published"?"Live":A(C)==="draft"?"Draft":"Past"})})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs text-white/50",children:"Volunteers"}),s.jsxs("span",{className:"text-sm font-semibold text-foreground",children:[k.filledSlots," / ",k.totalSlots]})]}),s.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:s.jsx("div",{className:"bg-gold-400 h-2 rounded-full transition-all duration-300",style:{width:`${k.totalSlots>0?k.filledSlots/k.totalSlots*100:0}%`}})}),k.openSlots>0&&s.jsxs("div",{className:"text-white/50 text-xs mt-1",children:[k.openSlots," open spots"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(W,{size:"sm",onClick:()=>e(`/${N(C.title,C.id)}/checkin`),className:"flex-1 text-xs bg-gold-400 hover:bg-gold-300 text-navy-900 border-gold-400",children:[s.jsx(Np,{className:"w-3 h-3 mr-1"}),"Check In"]}),s.jsxs(W,{size:"sm",variant:"outline",onClick:()=>e(`/events/${C.id}/edit`),className:"flex-1 text-xs border-white/15 text-white/70 hover:bg-white/5",children:[s.jsx(Cu,{className:"w-3 h-3 mr-1 text-amber-400"}),"Edit"]})]}),A(C)==="published"&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(W,{size:"sm",variant:"ghost",onClick:()=>q(C),className:"flex-1 text-xs text-white/50 hover:text-foreground hover:bg-white/10",children:[s.jsx(na,{className:"w-3 h-3 mr-1"}),"Copy Link"]}),s.jsxs(W,{size:"sm",variant:"ghost",onClick:()=>I(C),className:"flex-1 text-xs text-white/50 hover:text-foreground hover:bg-white/10",children:[s.jsx(cy,{className:"w-3 h-3 mr-1"}),"Open Link"]})]}),A(C)==="past"&&s.jsx("div",{className:"flex space-x-2",children:s.jsxs(W,{size:"sm",variant:"ghost",onClick:()=>q(C),className:"flex-1 text-xs text-white/50 hover:text-foreground hover:bg-white/10",children:[s.jsx(na,{className:"w-3 h-3 mr-1"}),"Copy Link"]})}),s.jsxs("div",{className:`flex items-center ${M(C)?"justify-end":"justify-between"} space-x-2`,children:[!M(C)&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(fs,{checked:C.is_public??!0,onCheckedChange:async L=>{try{const{error:z}=await K.from("events").update({is_public:L}).eq("id",C.id);if(z){console.error("Error updating visibility:",z),t({title:"Error",description:"Failed to update event visibility",variant:"destructive"});return}l(G=>G.map(X=>X.id===C.id?{...X,is_public:L}:X)),t({title:"Visibility Updated",description:`Event is now ${L?"public":"private"}`})}catch(z){console.error("Error:",z),t({title:"Error",description:"Failed to update event visibility",variant:"destructive"})}},disabled:!u}),s.jsx("span",{className:"text-xs text-white/50",children:C.is_public?"Public":"Private"})]}),s.jsxs(W,{size:"sm",variant:"ghost",onClick:()=>S({isOpen:!0,event:C}),className:"px-4 text-xs text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[s.jsx(Gr,{className:"w-3 h-3 mr-1"}),"Delete"]})]})]})]},C.id)})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/10 bg-white/3",children:[s.jsx("th",{className:"text-left py-4 px-6 font-semibold text-foreground text-sm",children:"Event"}),s.jsx("th",{className:"text-left py-4 px-6 font-semibold text-foreground text-sm",children:"Date & Time"}),s.jsx("th",{className:"text-left py-4 px-6 font-semibold text-foreground text-sm",children:"Volunteers"}),s.jsx("th",{className:"text-left py-4 px-6 font-semibold text-foreground text-sm",children:"Status"}),s.jsx("th",{className:"text-left py-4 px-6 font-semibold text-foreground text-sm",children:"Actions"})]})}),s.jsx("tbody",{children:H().map((C,k)=>{const L=O(C);return s.jsxs("tr",{className:`border-b border-white/5 hover:bg-white/5 transition-colors duration-150 ${M(C)?"bg-white/10":""}`,children:[s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold text-foreground text-sm mb-1 flex items-center gap-2",children:[C.title,i&&C.created_by!==(f==null?void 0:f.id)&&s.jsx(ve,{variant:"outline",className:"text-xs bg-blue-500/15 text-blue-300 border-blue-500/25",children:`By ${c[C.created_by]||"Other User"}`})]}),s.jsx("div",{className:"text-white/50 text-xs",children:C.location})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-foreground font-medium text-sm",children:new Date(C.start_datetime).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),s.jsx("div",{className:"text-white/50 text-xs",children:gc(C.start_datetime)})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"text-sm font-semibold text-foreground",children:[L.filledSlots," / ",L.totalSlots]})}),s.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:s.jsx("div",{className:"bg-gold-400 h-2 rounded-full transition-all duration-300",style:{width:`${L.totalSlots>0?L.filledSlots/L.totalSlots*100:0}%`}})}),L.openSlots>0&&s.jsxs("div",{className:"text-white/50 text-xs",children:[L.openSlots," open spots"]})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx(ve,{variant:"secondary",className:`text-[10px] px-1.5 py-0.5 ${A(C)==="published"?"bg-emerald-500/15 text-emerald-300 border-emerald-500/25":A(C)==="draft"?"bg-amber-500/15 text-amber-300 border-amber-500/25":"bg-white/10 text-white/60 border-white/15"}`,children:A(C)==="published"?"Live":A(C)==="draft"?"Draft":"Past"})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsxs(W,{size:"sm",onClick:()=>e(`/${N(C.title,C.id)}/checkin`),title:"Check In",className:"h-8 px-3 bg-gold-400 hover:bg-gold-300 text-navy-900 border-gold-400",children:[s.jsx(Np,{className:"w-4 h-4 mr-1"}),"Check In"]}),s.jsxs(W,{size:"sm",variant:"outline",onClick:()=>e(`/events/${C.id}/edit`),title:"Edit Event",className:"h-8 px-3 border-white/15 text-white/70 hover:bg-white/5",children:[s.jsx(Cu,{className:"w-4 h-4 mr-1 text-amber-400"}),"Edit"]})]}),A(C)==="published"&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(W,{size:"sm",variant:"ghost",onClick:()=>q(C),title:"Copy Signup Link",className:"h-8 px-2 text-white/50 hover:text-foreground hover:bg-white/10",children:s.jsx(na,{className:"w-4 h-4"})}),s.jsx(W,{size:"sm",variant:"ghost",onClick:()=>I(C),title:"Open Signup Link",className:"h-8 px-2 text-white/50 hover:text-foreground hover:bg-white/10",children:s.jsx(cy,{className:"w-4 h-4"})})]}),A(C)==="past"&&s.jsx("div",{className:"flex items-center space-x-1",children:s.jsx(W,{size:"sm",variant:"ghost",onClick:()=>q(C),title:"Copy Signup Link",className:"h-8 px-2 text-white/50 hover:text-foreground hover:bg-white/10",children:s.jsx(na,{className:"w-4 h-4"})})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[!M(C)&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-px h-6 bg-white/10 mx-1"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(fs,{checked:C.is_public!==!1,onCheckedChange:async z=>{try{const{error:G}=await K.from("events").update({is_public:z}).eq("id",C.id);if(G){console.error("Error updating visibility:",G),t({title:"Error",description:"Failed to update event visibility",variant:"destructive"});return}l(X=>X.map(Q=>Q.id===C.id?{...Q,is_public:z}:Q)),t({title:"Visibility Updated",description:`Event is now ${z?"public":"private"}`})}catch(G){console.error("Error:",G),t({title:"Error",description:"Failed to update event visibility",variant:"destructive"})}},disabled:!u(C)}),s.jsx("span",{className:"text-xs text-white/50 whitespace-nowrap",children:C.is_public!==!1?"Public":"Private"})]})]}),s.jsx(W,{size:"sm",variant:"ghost",onClick:()=>S({isOpen:!0,event:C}),title:"Delete Event",className:"h-8 px-2 text-red-400 hover:text-red-300 hover:bg-red-500/10",children:s.jsx(Gr,{className:"w-4 h-4"})})]})]})})]},C.id)})})]})})})})]})]}),s.jsx(fr,{open:T.isOpen,onOpenChange:C=>S({isOpen:C,event:T.event}),children:s.jsxs(nr,{className:"max-w-md",children:[s.jsxs(sr,{children:[s.jsx(or,{className:"text-red-300",children:"Delete Event?"}),s.jsxs(ir,{className:"text-white/50",children:['This will move "',(Y=T.event)==null?void 0:Y.title,'" to recently deleted. You can recover it within 30 days, or it will be permanently removed.']}),T.event&&s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"text-sm text-white/50",children:"Event status: "}),s.jsx(ve,{variant:"secondary",className:T.event.status==="published"?"bg-emerald-500/15 text-emerald-300 border-emerald-500/25 ml-2":"bg-amber-500/15 text-amber-300 border-amber-500/25 ml-2",children:T.event.status==="published"?"Published":"Draft"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(W,{variant:"outline",onClick:()=>S({isOpen:!1,event:null}),className:"flex-1 border-white/15 text-white/70 hover:bg-white/5",children:"Cancel"}),s.jsx(W,{variant:"destructive",onClick:()=>T.event&&D(T.event),disabled:o,className:"flex-1",children:o?"Deleting...":"Delete Event"})]})]})})]})},YU="modulepreload",KU=function(e){return"/"+e},Qw={},CC=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));o=Promise.allSettled(r.map(c=>{if(c=KU(c),c in Qw)return;Qw[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":YU,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((p,f)=>{m.addEventListener("load",p),m.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return o.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Jw(e,[t,r]){return Math.min(r,Math.max(t,e))}var QU=h.createContext(void 0);function $c(e){const t=h.useContext(QU);return e||t||"ltr"}function JU(e){const t=XU(e),r=h.forwardRef((n,o)=>{const{children:i,...a}=n,l=h.Children.toArray(i),c=l.find(e6);if(c){const d=c.props.children,u=l.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...a,ref:o,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return s.jsx(t,{...a,ref:o,children:i})});return r.displayName=`${e}.Slot`,r}function XU(e){const t=h.forwardRef((r,n)=>{const{children:o,...i}=r;if(h.isValidElement(o)){const a=r6(o),l=t6(i,o.props);return o.type!==h.Fragment&&(l.ref=n?Ar(n,a):a),h.cloneElement(o,l)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ZU=Symbol("radix.slottable");function e6(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZU}function t6(e,t){const r={...t};for(const n in t){const o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...l)=>{const c=i(...l);return o(...l),c}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function r6(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var n6=[" ","Enter","ArrowUp","ArrowDown"],s6=[" ","Enter"],mi="Select",[$h,Lh,o6]=ch(mi),[tl]=Lr(mi,[o6,Eo]),Fh=Eo(),[i6,Ro]=tl(mi),[a6,l6]=tl(mi),EC=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:p,required:f,form:y}=e,g=Fh(t),[v,w]=h.useState(null),[x,b]=h.useState(null),[j,T]=h.useState(!1),S=$c(d),[N,E]=Qn({prop:n,defaultProp:o??!1,onChange:i,caller:mi}),[R,P]=Qn({prop:a,defaultProp:l,onChange:c,caller:mi}),_=h.useRef(null),O=v?y||!!v.closest("form"):!0,[M,A]=h.useState(new Set),H=Array.from(M).map(q=>q.props.value).join(";");return s.jsx(Tv,{...g,children:s.jsxs(i6,{required:f,scope:t,trigger:v,onTriggerChange:w,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:T,contentId:hr(),value:R,onValueChange:P,open:N,onOpenChange:E,dir:S,triggerPointerDownPosRef:_,disabled:p,children:[s.jsx($h.Provider,{scope:t,children:s.jsx(a6,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(q=>{A(I=>new Set(I).add(q))},[]),onNativeOptionRemove:h.useCallback(q=>{A(I=>{const D=new Set(I);return D.delete(q),D})},[]),children:r})}),O?s.jsxs(JC,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:m,value:R,onChange:q=>P(q.target.value),disabled:p,form:y,children:[R===void 0?s.jsx("option",{value:""}):null,Array.from(M)]},H):null]})})};EC.displayName=mi;var kC="SelectTrigger",TC=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,i=Fh(r),a=Ro(kC,r),l=a.disabled||n,c=We(t,a.onTriggerChange),d=Lh(r),u=h.useRef("touch"),[m,p,f]=ZC(g=>{const v=d().filter(b=>!b.disabled),w=v.find(b=>b.value===a.value),x=eE(v,g,w);x!==void 0&&a.onValueChange(x.value)}),y=g=>{l||(a.onOpenChange(!0),f()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(Pc,{asChild:!0,...i,children:s.jsx(ye.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":XC(a.value)?"":void 0,...o,ref:c,onClick:ie(o.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&y(g)}),onPointerDown:ie(o.onPointerDown,g=>{u.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:ie(o.onKeyDown,g=>{const v=m.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(v&&g.key===" ")&&n6.includes(g.key)&&(y(),g.preventDefault())})})})});TC.displayName=kC;var PC="SelectValue",RC=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:i,placeholder:a="",...l}=e,c=Ro(PC,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,m=We(t,c.onValueNodeChange);return Wt(()=>{d(u)},[d,u]),s.jsx(ye.span,{...l,ref:m,style:{pointerEvents:"none"},children:XC(c.value)?s.jsx(s.Fragment,{children:a}):i})});RC.displayName=PC;var c6="SelectIcon",OC=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return s.jsx(ye.span,{"aria-hidden":!0,...o,ref:t,children:n||""})});OC.displayName=c6;var d6="SelectPortal",DC=e=>s.jsx(Va,{asChild:!0,...e});DC.displayName=d6;var pi="SelectContent",AC=h.forwardRef((e,t)=>{const r=Ro(pi,e.__scopeSelect),[n,o]=h.useState();if(Wt(()=>{o(new DocumentFragment)},[]),!r.open){const i=n;return i?yi.createPortal(s.jsx(IC,{scope:e.__scopeSelect,children:s.jsx($h.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(MC,{...e,ref:t})});AC.displayName=pi;var Mn=10,[IC,Oo]=tl(pi),u6="SelectContentImpl",h6=JU("SelectContent.RemoveScroll"),MC=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:p,collisionPadding:f,sticky:y,hideWhenDetached:g,avoidCollisions:v,...w}=e,x=Ro(pi,r),[b,j]=h.useState(null),[T,S]=h.useState(null),N=We(t,Q=>j(Q)),[E,R]=h.useState(null),[P,_]=h.useState(null),O=Lh(r),[M,A]=h.useState(!1),H=h.useRef(!1);h.useEffect(()=>{if(b)return Ph(b)},[b]),kh();const q=h.useCallback(Q=>{const[ue,...fe]=O().map(Ne=>Ne.ref.current),[_e]=fe.slice(-1),B=document.activeElement;for(const Ne of Q)if(Ne===B||(Ne==null||Ne.scrollIntoView({block:"nearest"}),Ne===ue&&T&&(T.scrollTop=0),Ne===_e&&T&&(T.scrollTop=T.scrollHeight),Ne==null||Ne.focus(),document.activeElement!==B))return},[O,T]),I=h.useCallback(()=>q([E,b]),[q,E,b]);h.useEffect(()=>{M&&I()},[M,I]);const{onOpenChange:D,triggerPointerDownPosRef:$}=x;h.useEffect(()=>{if(b){let Q={x:0,y:0};const ue=_e=>{var B,Ne;Q={x:Math.abs(Math.round(_e.pageX)-(((B=$.current)==null?void 0:B.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((Ne=$.current)==null?void 0:Ne.y)??0))}},fe=_e=>{Q.x<=10&&Q.y<=10?_e.preventDefault():b.contains(_e.target)||D(!1),document.removeEventListener("pointermove",ue),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",fe,{capture:!0})}}},[b,D,$]),h.useEffect(()=>{const Q=()=>D(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[D]);const[Y,C]=ZC(Q=>{const ue=O().filter(B=>!B.disabled),fe=ue.find(B=>B.ref.current===document.activeElement),_e=eE(ue,Q,fe);_e&&setTimeout(()=>_e.ref.current.focus())}),k=h.useCallback((Q,ue,fe)=>{const _e=!H.current&&!fe;(x.value!==void 0&&x.value===ue||_e)&&(R(Q),_e&&(H.current=!0))},[x.value]),L=h.useCallback(()=>b==null?void 0:b.focus(),[b]),z=h.useCallback((Q,ue,fe)=>{const _e=!H.current&&!fe;(x.value!==void 0&&x.value===ue||_e)&&_(Q)},[x.value]),G=n==="popper"?sg:$C,X=G===sg?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:p,collisionPadding:f,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return s.jsx(IC,{scope:r,content:b,viewport:T,onViewportChange:S,itemRefCallback:k,selectedItem:E,onItemLeave:L,itemTextRefCallback:z,focusSelectedItem:I,selectedItemText:P,position:n,isPositioned:M,searchRef:Y,children:s.jsx(Dc,{as:h6,allowPinchZoom:!0,children:s.jsx(Oc,{asChild:!0,trapped:x.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:ie(o,Q=>{var ue;(ue=x.trigger)==null||ue.focus({preventScroll:!0}),Q.preventDefault()}),children:s.jsx(wi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(G,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Q=>Q.preventDefault(),...w,...X,onPlaced:()=>A(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ie(w.onKeyDown,Q=>{const ue=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!ue&&Q.key.length===1&&C(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let _e=O().filter(B=>!B.disabled).map(B=>B.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const B=Q.target,Ne=_e.indexOf(B);_e=_e.slice(Ne+1)}setTimeout(()=>q(_e)),Q.preventDefault()}})})})})})})});MC.displayName=u6;var f6="SelectItemAlignedPosition",$C=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,i=Ro(pi,r),a=Oo(pi,r),[l,c]=h.useState(null),[d,u]=h.useState(null),m=We(t,N=>u(N)),p=Lh(r),f=h.useRef(!1),y=h.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:w,focusSelectedItem:x}=a,b=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&v&&w){const N=i.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),P=w.getBoundingClientRect();if(i.dir!=="rtl"){const B=P.left-E.left,Ne=R.left-B,Ze=N.left-Ne,it=N.width+Ze,_r=Math.max(it,E.width),Ut=window.innerWidth-Mn,He=Jw(Ne,[Mn,Math.max(Mn,Ut-_r)]);l.style.minWidth=it+"px",l.style.left=He+"px"}else{const B=E.right-P.right,Ne=window.innerWidth-R.right-B,Ze=window.innerWidth-N.right-Ne,it=N.width+Ze,_r=Math.max(it,E.width),Ut=window.innerWidth-Mn,He=Jw(Ne,[Mn,Math.max(Mn,Ut-_r)]);l.style.minWidth=it+"px",l.style.right=He+"px"}const _=p(),O=window.innerHeight-Mn*2,M=g.scrollHeight,A=window.getComputedStyle(d),H=parseInt(A.borderTopWidth,10),q=parseInt(A.paddingTop,10),I=parseInt(A.borderBottomWidth,10),D=parseInt(A.paddingBottom,10),$=H+q+M+D+I,Y=Math.min(v.offsetHeight*5,$),C=window.getComputedStyle(g),k=parseInt(C.paddingTop,10),L=parseInt(C.paddingBottom,10),z=N.top+N.height/2-Mn,G=O-z,X=v.offsetHeight/2,Q=v.offsetTop+X,ue=H+q+Q,fe=$-ue;if(ue<=z){const B=_.length>0&&v===_[_.length-1].ref.current;l.style.bottom="0px";const Ne=d.clientHeight-g.offsetTop-g.offsetHeight,Ze=Math.max(G,X+(B?L:0)+Ne+I),it=ue+Ze;l.style.height=it+"px"}else{const B=_.length>0&&v===_[0].ref.current;l.style.top="0px";const Ze=Math.max(z,H+g.offsetTop+(B?k:0)+X)+fe;l.style.height=Ze+"px",g.scrollTop=ue-z+g.offsetTop}l.style.margin=`${Mn}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[p,i.trigger,i.valueNode,l,d,g,v,w,i.dir,n]);Wt(()=>b(),[b]);const[j,T]=h.useState();Wt(()=>{d&&T(window.getComputedStyle(d).zIndex)},[d]);const S=h.useCallback(N=>{N&&y.current===!0&&(b(),x==null||x(),y.current=!1)},[b,x]);return s.jsx(p6,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(ye.div,{...o,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});$C.displayName=f6;var m6="SelectPopperPosition",sg=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=Mn,...i}=e,a=Fh(r);return s.jsx(gh,{...a,...i,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sg.displayName=m6;var[p6,sx]=tl(pi,{}),og="SelectViewport",LC=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,i=Oo(og,r),a=sx(og,r),l=We(t,i.onViewportChange),c=h.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx($h.Slot,{scope:r,children:s.jsx(ye.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:ie(o.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&m){const f=Math.abs(c.current-u.scrollTop);if(f>0){const y=window.innerHeight-Mn*2,g=parseFloat(m.style.minHeight),v=parseFloat(m.style.height),w=Math.max(g,v);if(w<y){const x=w+f,b=Math.min(y,x),j=x-b;m.style.height=b+"px",m.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});LC.displayName=og;var FC="SelectGroup",[g6,v6]=tl(FC),x6=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=hr();return s.jsx(g6,{scope:r,id:o,children:s.jsx(ye.div,{role:"group","aria-labelledby":o,...n,ref:t})})});x6.displayName=FC;var UC="SelectLabel",BC=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=v6(UC,r);return s.jsx(ye.div,{id:o.id,...n,ref:t})});BC.displayName=UC;var Bu="SelectItem",[y6,zC]=tl(Bu),VC=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:i,...a}=e,l=Ro(Bu,r),c=Oo(Bu,r),d=l.value===n,[u,m]=h.useState(i??""),[p,f]=h.useState(!1),y=We(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,o)}),g=hr(),v=h.useRef("touch"),w=()=>{o||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(y6,{scope:r,value:n,disabled:o,textId:g,isSelected:d,onItemTextChange:h.useCallback(x=>{m(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx($h.ItemSlot,{scope:r,value:n,disabled:o,textValue:u,children:s.jsx(ye.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...a,ref:y,onFocus:ie(a.onFocus,()=>f(!0)),onBlur:ie(a.onBlur,()=>f(!1)),onClick:ie(a.onClick,()=>{v.current!=="mouse"&&w()}),onPointerUp:ie(a.onPointerUp,()=>{v.current==="mouse"&&w()}),onPointerDown:ie(a.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:ie(a.onPointerMove,x=>{var b;v.current=x.pointerType,o?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ie(a.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ie(a.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||(s6.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});VC.displayName=Bu;var Sl="SelectItemText",WC=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...i}=e,a=Ro(Sl,r),l=Oo(Sl,r),c=zC(Sl,r),d=l6(Sl,r),[u,m]=h.useState(null),p=We(t,w=>m(w),c.onItemTextChange,w=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,w,c.value,c.disabled)}),f=u==null?void 0:u.textContent,y=h.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=d;return Wt(()=>(g(y),()=>v(y)),[g,v,y]),s.jsxs(s.Fragment,{children:[s.jsx(ye.span,{id:c.textId,...i,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?yi.createPortal(i.children,a.valueNode):null]})});WC.displayName=Sl;var HC="SelectItemIndicator",qC=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return zC(HC,r).isSelected?s.jsx(ye.span,{"aria-hidden":!0,...n,ref:t}):null});qC.displayName=HC;var ig="SelectScrollUpButton",GC=h.forwardRef((e,t)=>{const r=Oo(ig,e.__scopeSelect),n=sx(ig,e.__scopeSelect),[o,i]=h.useState(!1),a=We(t,n.onScrollButtonChange);return Wt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?s.jsx(KC,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});GC.displayName=ig;var ag="SelectScrollDownButton",YC=h.forwardRef((e,t)=>{const r=Oo(ag,e.__scopeSelect),n=sx(ag,e.__scopeSelect),[o,i]=h.useState(!1),a=We(t,n.onScrollButtonChange);return Wt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?s.jsx(KC,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});YC.displayName=ag;var KC=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,i=Oo("SelectScrollButton",r),a=h.useRef(null),l=Lh(r),c=h.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Wt(()=>{var u;const d=l().find(m=>m.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(ye.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:ie(o.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:ie(o.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:ie(o.onPointerLeave,()=>{c()})})}),w6="SelectSeparator",QC=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(ye.div,{"aria-hidden":!0,...n,ref:t})});QC.displayName=w6;var lg="SelectArrow",b6=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Fh(r),i=Ro(lg,r),a=Oo(lg,r);return i.open&&a.position==="popper"?s.jsx(vh,{...o,...n,ref:t}):null});b6.displayName=lg;var j6="SelectBubbleInput",JC=h.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const o=h.useRef(null),i=We(n,o),a=rx(t);return h.useEffect(()=>{const l=o.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&u){const m=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(m)}},[a,t]),s.jsx(ye.select,{...r,style:{...HN,...r.style},ref:i,defaultValue:t})});JC.displayName=j6;function XC(e){return e===""||e===void 0}function ZC(e){const t=Ir(e),r=h.useRef(""),n=h.useRef(0),o=h.useCallback(a=>{const l=r.current+a;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,i]}function eE(e,t,r){const o=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=N6(e,Math.max(i,0));o.length===1&&(a=a.filter(d=>d!==r));const c=a.find(d=>d.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==r?c:void 0}function N6(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var _6=EC,tE=TC,S6=RC,C6=OC,E6=DC,rE=AC,k6=LC,nE=BC,sE=VC,T6=WC,P6=qC,oE=GC,iE=YC,aE=QC;const vs=_6,xs=S6,Gn=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(tE,{ref:n,className:te("flex h-11 w-full items-center justify-between rounded-xl border border-white/15 bg-white/5 px-4 py-3 text-sm ring-offset-background placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-gold-400/50 focus:ring-offset-2 focus:border-gold-400 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-all duration-200 hover:border-white/25 shadow-sm focus:shadow-md text-foreground",e),...r,children:[t,s.jsx(C6,{asChild:!0,children:s.jsx(Hr,{className:"h-4 w-4 opacity-50 text-white/50"})})]}));Gn.displayName=tE.displayName;const lE=h.forwardRef(({className:e,...t},r)=>s.jsx(oE,{ref:r,className:te("flex cursor-default items-center justify-center py-1 text-white/50",e),...t,children:s.jsx(Yo,{className:"h-4 w-4"})}));lE.displayName=oE.displayName;const cE=h.forwardRef(({className:e,...t},r)=>s.jsx(iE,{ref:r,className:te("flex cursor-default items-center justify-center py-1 text-white/50",e),...t,children:s.jsx(Hr,{className:"h-4 w-4"})}));cE.displayName=iE.displayName;const Yn=h.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>s.jsx(E6,{children:s.jsxs(rE,{ref:o,className:te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-xl border border-white/10 bg-navy-800/95 backdrop-blur-xl text-foreground shadow-xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(lE,{}),s.jsx(k6,{className:te("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(cE,{})]})}));Yn.displayName=rE.displayName;const R6=h.forwardRef(({className:e,...t},r)=>s.jsx(nE,{ref:r,className:te("py-1.5 pl-8 pr-2 text-sm font-semibold text-foreground",e),...t}));R6.displayName=nE.displayName;const br=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(sE,{ref:n,className:te("relative flex w-full cursor-default select-none items-center rounded-lg py-2 pl-8 pr-2 text-sm outline-none focus:bg-white/10 focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 text-white/70 hover:bg-white/5 transition-colors",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(P6,{children:s.jsx(kc,{className:"h-4 w-4 text-gold-400"})})}),s.jsx(T6,{children:t})]}));br.displayName=sE.displayName;const O6=h.forwardRef(({className:e,...t},r)=>s.jsx(aE,{ref:r,className:te("-mx-1 my-1 h-px bg-white/10",e),...t}));O6.displayName=aE.displayName;var D6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],A6=D6.reduce((e,t)=>{const r=Sh(`Primitive.${t}`),n=h.forwardRef((o,i)=>{const{asChild:a,...l}=o,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),I6="Label",dE=h.forwardRef((e,t)=>s.jsx(A6.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));dE.displayName=I6;var uE=dE;const M6=Wa("text-base sm:text-sm font-semibold leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-amber-800 mb-2 block"),re=h.forwardRef(({className:e,...t},r)=>s.jsx(uE,{ref:r,className:te(M6(),e),...t}));re.displayName=uE.displayName;const hE=["+1","+20","+33","+44","+61","+91","+92","+880","+963","+966","+967","+971"];function $6(e){const t=(e||"").replace(/\s|\(|\)|-/g,"");if(!t)return{code:"+1",national:""};if(t.startsWith("+")){const r=[...hE].sort((o,i)=>i.length-o.length);for(const o of r)if(t.startsWith(o))return{code:o,national:t.slice(o.length)};const n=t.match(/^(\+\d{1,4})(\d*)$/);return n?{code:n[1],national:n[2]}:{code:"+1",national:t.replace(/^\+/,"")}}return{code:"+1",national:t}}function Xw(e,t){const r=(e||"").replace(/\s|\(|\)|-/g,"");if(!r)return{code:t,national:""};if(r.startsWith("+"))return $6(e);const n=t.replace("+","");if(r.startsWith(n)){const o=r.slice(n.length);return{code:t,national:o}}return t==="+1"&&/^\d{10}$/.test(r)?{code:"+1",national:r}:t==="+1"&&/^1\d{10}$/.test(r)?{code:"+1",national:r.slice(1)}:{code:t,national:r}}function Zw(e,t){const r=(t||"").replace(/[^\d]/g,"");return r?`${e}${r}`:e}const $a=({id:e,value:t,onChange:r,placeholder:n,className:o,defaultCountryCode:i="+1",disabled:a})=>{const[l,c]=h.useState([]),[d,u]=h.useState(!1),[m,p]=h.useState(""),[f,y]=h.useState(""),g="__add_custom_country_code__",v=h.useMemo(()=>{const S=new Set([...hE,...l,i]);return Array.from(S).sort((N,E)=>parseInt(N.slice(1),10)-parseInt(E.slice(1),10))},[l,i]),{code:w,national:x}=h.useMemo(()=>{const S=Xw(t||i,i);return/^\+\d+$/.test(S.national),S},[t,i]),b=S=>{const N=Zw(S,x);r(N)},j=S=>{const N=S.target.value,E=Xw(N,w||i),R=Zw(E.code,E.national);r(R)},T=()=>{const S=m.trim();if(!S){y("Please enter a country code");return}const N=S.startsWith("+")?S:`+${S}`;if(!/^\+\d{1,4}$/.test(N)){y("Please enter a valid country code (e.g., +49, +86)");return}if(v.includes(N)){y("This country code is already available");return}c(E=>[...E,N]),p(""),y(""),u(!1),b(N)};return s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs(vs,{value:w||i,onValueChange:S=>{if(S===g){u(!0);return}b(S)},disabled:a,children:[s.jsx(Gn,{className:"w-40",children:s.jsx(xs,{})}),s.jsxs(Yn,{children:[v.map(S=>s.jsx(br,{value:S,children:S},S)),s.jsx(br,{value:g,children:"+ Add custom"})]})]}),s.jsx(fr,{open:d,onOpenChange:u,children:s.jsxs(nr,{className:"sm:max-w-md",children:[s.jsxs(sr,{children:[s.jsx(or,{children:"Add Custom Country Code"}),s.jsx(ir,{children:"Enter a country calling code to add it to your list."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"custom-code",children:"Country Code"}),s.jsx(he,{id:"custom-code",value:m,onChange:S=>{p(S.target.value),y("")},placeholder:"e.g., +49, +86",className:f?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}),f&&s.jsx("p",{className:"text-sm text-red-600",children:f})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(W,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),s.jsx(W,{onClick:T,children:"Add Code"})]})]})]})})]}),s.jsx(he,{id:e,inputMode:"tel",type:"tel",value:x,onChange:j,placeholder:n||"Phone number",className:o,disabled:a,autoComplete:"tel"})]})};function L6(e){if(!e||!/^\d{2}:\d{2}$/.test(e))return{hour12:"",minute:"",ampm:"AM"};const[t,r]=e.split(":"),n=Math.max(0,Math.min(23,Number(t))),o=r.padStart(2,"0"),i=n>=12?"PM":"AM",a=n%12===0?12:n%12;return{hour12:String(a).padStart(2,"0"),minute:o,ampm:i}}function fm(e,t,r){if(!e||!t)return"";const o=Math.max(1,Math.min(12,Number(e)))%12,i=r==="PM"?o+12:o;return`${String(i).padStart(2,"0")}:${String(Number(t)).padStart(2,"0")}`}function cs({value:e,onChange:t,disabled:r,className:n,id:o}){const{hour12:i,minute:a,ampm:l}=h.useMemo(()=>L6(e),[e]),c=h.useMemo(()=>Array.from({length:12},(f,y)=>String(y+1).padStart(2,"0")),[]),d=h.useMemo(()=>Array.from({length:60},(f,y)=>String(y).padStart(2,"0")),[]),u=f=>t(fm(f,a||"00",l)),m=f=>t(fm(i||"12",f,l)),p=f=>t(fm(i||"12",a||"00",f));return s.jsxs("div",{className:te("flex items-center gap-2 md:gap-1.5",n),id:o,children:[s.jsxs(vs,{value:i,onValueChange:u,disabled:r,children:[s.jsx(Gn,{className:"flex-1 md:w-20 h-14 md:h-11 text-base md:text-sm font-medium border md:border border-white/10 md:border-input rounded-2xl md:rounded-lg",children:s.jsx(xs,{placeholder:"HH"})}),s.jsx(Yn,{children:c.map(f=>s.jsx(br,{value:f,className:"text-base md:text-sm h-11 md:h-9",children:f},f))})]}),s.jsx("span",{className:"text-white/30 md:text-gold-400 text-xl md:text-base font-bold",children:":"}),s.jsxs(vs,{value:a,onValueChange:m,disabled:r,children:[s.jsx(Gn,{className:"flex-1 md:w-20 h-14 md:h-11 text-base md:text-sm font-medium border md:border border-white/10 md:border-input rounded-2xl md:rounded-lg",children:s.jsx(xs,{placeholder:"MM"})}),s.jsx(Yn,{children:d.map(f=>s.jsx(br,{value:f,className:"text-base md:text-sm h-11 md:h-9",children:f},f))})]}),s.jsxs(vs,{value:l,onValueChange:f=>p(f),disabled:r,children:[s.jsx(Gn,{className:"w-[72px] md:w-20 h-14 md:h-11 text-base md:text-sm font-semibold border md:border border-white/10 md:border-input rounded-2xl md:rounded-lg",children:s.jsx(xs,{placeholder:"AM"})}),s.jsxs(Yn,{children:[s.jsx(br,{value:"AM",className:"text-base md:text-sm h-11 md:h-9 font-medium",children:"AM"}),s.jsx(br,{value:"PM",className:"text-base md:text-sm h-11 md:h-9 font-medium",children:"PM"})]})]})]})}function F6(e){const t=U6(e),r=h.forwardRef((n,o)=>{const{children:i,...a}=n,l=h.Children.toArray(i),c=l.find(z6);if(c){const d=c.props.children,u=l.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...a,ref:o,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return s.jsx(t,{...a,ref:o,children:i})});return r.displayName=`${e}.Slot`,r}function U6(e){const t=h.forwardRef((r,n)=>{const{children:o,...i}=r;if(h.isValidElement(o)){const a=W6(o),l=V6(i,o.props);return o.type!==h.Fragment&&(l.ref=n?Ar(n,a):a),h.cloneElement(o,l)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var B6=Symbol("radix.slottable");function z6(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===B6}function V6(e,t){const r={...t};for(const n in t){const o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...l)=>{const c=i(...l);return o(...l),c}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function W6(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Uh="Popover",[fE]=Lr(Uh,[Eo]),Lc=Eo(),[H6,Do]=fE(Uh),mE=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:o,onOpenChange:i,modal:a=!1}=e,l=Lc(t),c=h.useRef(null),[d,u]=h.useState(!1),[m,p]=Qn({prop:n,defaultProp:o??!1,onChange:i,caller:Uh});return s.jsx(Tv,{...l,children:s.jsx(H6,{scope:t,contentId:hr(),triggerRef:c,open:m,onOpenChange:p,onOpenToggle:h.useCallback(()=>p(f=>!f),[p]),hasCustomAnchor:d,onCustomAnchorAdd:h.useCallback(()=>u(!0),[]),onCustomAnchorRemove:h.useCallback(()=>u(!1),[]),modal:a,children:r})})};mE.displayName=Uh;var pE="PopoverAnchor",q6=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=Do(pE,r),i=Lc(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=o;return h.useEffect(()=>(a(),()=>l()),[a,l]),s.jsx(Pc,{...i,...n,ref:t})});q6.displayName=pE;var gE="PopoverTrigger",vE=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=Do(gE,r),i=Lc(r),a=We(t,o.triggerRef),l=s.jsx(ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":jE(o.open),...n,ref:a,onClick:ie(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?l:s.jsx(Pc,{asChild:!0,...i,children:l})});vE.displayName=gE;var ox="PopoverPortal",[G6,Y6]=fE(ox,{forceMount:void 0}),xE=e=>{const{__scopePopover:t,forceMount:r,children:n,container:o}=e,i=Do(ox,t);return s.jsx(G6,{scope:t,forceMount:r,children:s.jsx(Zr,{present:r||i.open,children:s.jsx(Va,{asChild:!0,container:o,children:n})})})};xE.displayName=ox;var La="PopoverContent",yE=h.forwardRef((e,t)=>{const r=Y6(La,e.__scopePopover),{forceMount:n=r.forceMount,...o}=e,i=Do(La,e.__scopePopover);return s.jsx(Zr,{present:n||i.open,children:i.modal?s.jsx(Q6,{...o,ref:t}):s.jsx(J6,{...o,ref:t})})});yE.displayName=La;var K6=F6("PopoverContent.RemoveScroll"),Q6=h.forwardRef((e,t)=>{const r=Do(La,e.__scopePopover),n=h.useRef(null),o=We(t,n),i=h.useRef(!1);return h.useEffect(()=>{const a=n.current;if(a)return Ph(a)},[]),s.jsx(Dc,{as:K6,allowPinchZoom:!0,children:s.jsx(wE,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ie(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ie(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),J6=h.forwardRef((e,t)=>{const r=Do(La,e.__scopePopover),n=h.useRef(!1),o=h.useRef(!1);return s.jsx(wE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const a=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),wE=h.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...m}=e,p=Do(La,r),f=Lc(r);return kh(),s.jsx(Oc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:i,children:s.jsx(wi,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:s.jsx(gh,{"data-state":jE(p.open),role:"dialog",id:p.contentId,...f,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),bE="PopoverClose",X6=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=Do(bE,r);return s.jsx(ye.button,{type:"button",...n,ref:t,onClick:ie(e.onClick,()=>o.onOpenChange(!1))})});X6.displayName=bE;var Z6="PopoverArrow",e8=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=Lc(r);return s.jsx(vh,{...o,...n,ref:t})});e8.displayName=Z6;function jE(e){return e?"open":"closed"}var t8=mE,r8=vE,n8=xE,NE=yE;const _E=t8,SE=r8,ix=h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},o)=>s.jsx(n8,{children:s.jsx(NE,{ref:o,align:t,sideOffset:r,className:te("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ix.displayName=NE.displayName;var Ee=function(){return Ee=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ee.apply(this,arguments)};function s8(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function CE(e,t,r){for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Fc(e){return e.mode==="multiple"}function Uc(e){return e.mode==="range"}function Bh(e){return e.mode==="single"}var o8={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function i8(e,t){return Po(e,"LLLL y",t)}function a8(e,t){return Po(e,"d",t)}function l8(e,t){return Po(e,"LLLL",t)}function c8(e){return"".concat(e)}function d8(e,t){return Po(e,"cccccc",t)}function u8(e,t){return Po(e,"yyyy",t)}var h8=Object.freeze({__proto__:null,formatCaption:i8,formatDay:a8,formatMonthCaption:l8,formatWeekNumber:c8,formatWeekdayName:d8,formatYearCaption:u8}),f8=function(e,t,r){return Po(e,"do MMMM (EEEE)",r)},m8=function(){return"Month: "},p8=function(){return"Go to next month"},g8=function(){return"Go to previous month"},v8=function(e,t){return Po(e,"cccc",t)},x8=function(e){return"Week n. ".concat(e)},y8=function(){return"Year: "},w8=Object.freeze({__proto__:null,labelDay:f8,labelMonthDropdown:m8,labelNext:p8,labelPrevious:g8,labelWeekNumber:x8,labelWeekday:v8,labelYearDropdown:y8});function b8(){var e="buttons",t=o8,r=OS,n={},o={},i=1,a={},l=new Date;return{captionLayout:e,classNames:t,formatters:h8,labels:w8,locale:r,modifiersClassNames:n,modifiers:o,numberOfMonths:i,styles:a,today:l,mode:"default"}}function j8(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,o=e.toMonth,i=e.fromDate,a=e.toDate;return n?i=Xr(n):t&&(i=new Date(t,0,1)),o?a=Yv(o):r&&(a=new Date(r,11,31)),{fromDate:i?Ma(i):void 0,toDate:a?Ma(a):void 0}}var EE=h.createContext(void 0);function N8(e){var t,r=e.initialProps,n=b8(),o=j8(r),i=o.fromDate,a=o.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!a)&&(l="buttons");var c;(Bh(r)||Fc(r)||Uc(r))&&(c=r.onSelect);var d=Ee(Ee(Ee({},n),r),{captionLayout:l,classNames:Ee(Ee({},n.classNames),r.classNames),components:Ee({},r.components),formatters:Ee(Ee({},n.formatters),r.formatters),fromDate:i,labels:Ee(Ee({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ee(Ee({},n.modifiers),r.modifiers),modifiersClassNames:Ee(Ee({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Ee(Ee({},n.styles),r.styles),toDate:a});return s.jsx(EE.Provider,{value:d,children:e.children})}function gt(){var e=h.useContext(EE);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function kE(e){var t=gt(),r=t.locale,n=t.classNames,o=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function _8(e){return s.jsx("svg",Ee({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function TE(e){var t,r,n=e.onChange,o=e.value,i=e.children,a=e.caption,l=e.className,c=e.style,d=gt(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:_8;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:o,onChange:n,children:i}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[a,s.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function S8(e){var t,r=gt(),n=r.fromDate,o=r.toDate,i=r.styles,a=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!o)return s.jsx(s.Fragment,{});var m=[];if(zL(n,o))for(var p=Xr(n),f=n.getMonth();f<=o.getMonth();f++)m.push(Xf(p,f));else for(var p=Xr(new Date),f=0;f<=11;f++)m.push(Xf(p,f));var y=function(v){var w=Number(v.target.value),x=Xf(Xr(e.displayMonth),w);e.onChange(x)},g=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:TE;return s.jsx(g,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:y,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:a}),children:m.map(function(v){return s.jsx("option",{value:v.getMonth(),children:l(v,{locale:a})},v.getMonth())})})}function C8(e){var t,r=e.displayMonth,n=gt(),o=n.fromDate,i=n.toDate,a=n.locale,l=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,m=n.labels.labelYearDropdown,p=[];if(!o)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var f=o.getFullYear(),y=i.getFullYear(),g=f;g<=y;g++)p.push(kw(PS(new Date),g));var v=function(x){var b=kw(Xr(r),Number(x.target.value));e.onChange(b)},w=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:TE;return s.jsx(w,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:u(r,{locale:a}),children:p.map(function(x){return s.jsx("option",{value:x.getFullYear(),children:u(x,{locale:a})},x.getFullYear())})})}function E8(e,t){var r=h.useState(e),n=r[0],o=r[1],i=t===void 0?n:t;return[i,o]}function k8(e){var t=e.month,r=e.defaultMonth,n=e.today,o=t||r||n||new Date,i=e.toDate,a=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&pc(i,o)<0){var d=-1*(c-1);o=Zn(i,d)}return a&&pc(o,a)<0&&(o=a),Xr(o)}function T8(){var e=gt(),t=k8(e),r=E8(t,e.month),n=r[0],o=r[1],i=function(a){var l;if(!e.disableNavigation){var c=Xr(a);o(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function P8(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,o=Xr(e),i=Xr(Zn(o,n)),a=pc(i,o),l=[],c=0;c<a;c++){var d=Zn(o,c);l.push(d)}return r&&(l=l.reverse()),l}function R8(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,o=t.numberOfMonths,i=o===void 0?1:o,a=n?i:1,l=Xr(e);if(!r)return Zn(l,a);var c=pc(r,e);if(!(c<i))return Zn(l,a)}}function O8(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,o=t.numberOfMonths,i=o===void 0?1:o,a=n?i:1,l=Xr(e);if(!r)return Zn(l,-a);var c=pc(l,r);if(!(c<=0))return Zn(l,-a)}}var PE=h.createContext(void 0);function D8(e){var t=gt(),r=T8(),n=r[0],o=r[1],i=P8(n,t),a=R8(n,t),l=O8(n,t),c=function(m){return i.some(function(p){return Qv(m,p)})},d=function(m,p){c(m)||(p&&$S(m,p)?o(Zn(m,1+t.numberOfMonths*-1)):o(m))},u={currentMonth:n,displayMonths:i,goToMonth:o,goToDate:d,previousMonth:l,nextMonth:a,isDateDisplayed:c};return s.jsx(PE.Provider,{value:u,children:e.children})}function Bc(){var e=h.useContext(PE);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function eb(e){var t,r=gt(),n=r.classNames,o=r.styles,i=r.components,a=Bc().goToMonth,l=function(u){a(Zn(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:kE,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:o.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:d}),s.jsx(S8,{onChange:l,displayMonth:e.displayMonth}),s.jsx(C8,{onChange:l,displayMonth:e.displayMonth})]})}function A8(e){return s.jsx("svg",Ee({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function I8(e){return s.jsx("svg",Ee({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var zu=h.forwardRef(function(e,t){var r=gt(),n=r.classNames,o=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var a=i.join(" "),l=Ee(Ee({},o.button_reset),o.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Ee({},e,{ref:t,type:"button",className:a,style:l}))});function M8(e){var t,r,n=gt(),o=n.dir,i=n.locale,a=n.classNames,l=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,m=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var p=d(e.previousMonth,{locale:i}),f=[a.nav_button,a.nav_button_previous].join(" "),y=u(e.nextMonth,{locale:i}),g=[a.nav_button,a.nav_button_next].join(" "),v=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:I8,w=(r=m==null?void 0:m.IconLeft)!==null&&r!==void 0?r:A8;return s.jsxs("div",{className:a.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(zu,{name:"previous-month","aria-label":p,className:f,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?s.jsx(v,{className:a.nav_icon,style:l.nav_icon}):s.jsx(w,{className:a.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(zu,{name:"next-month","aria-label":y,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?s.jsx(w,{className:a.nav_icon,style:l.nav_icon}):s.jsx(v,{className:a.nav_icon,style:l.nav_icon})})]})}function tb(e){var t=gt().numberOfMonths,r=Bc(),n=r.previousMonth,o=r.nextMonth,i=r.goToMonth,a=r.displayMonths,l=a.findIndex(function(y){return Qv(e.displayMonth,y)}),c=l===0,d=l===a.length-1,u=t>1&&(c||!d),m=t>1&&(d||!c),p=function(){n&&i(n)},f=function(){o&&i(o)};return s.jsx(M8,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:m,nextMonth:o,previousMonth:n,onPreviousClick:p,onNextClick:f})}function $8(e){var t,r=gt(),n=r.classNames,o=r.disableNavigation,i=r.styles,a=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:kE,d;return o?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?d=s.jsx(eb,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(eb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(tb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(tb,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:d})}function L8(e){var t=gt(),r=t.footer,n=t.styles,o=t.classNames.tfoot;return r?s.jsx("tfoot",{className:o,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function F8(e,t,r){for(var n=r?hi(new Date):ws(new Date,{locale:e,weekStartsOn:t}),o=[],i=0;i<7;i++){var a=Tr(n,i);o.push(a)}return o}function U8(){var e=gt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,o=e.locale,i=e.weekStartsOn,a=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=F8(o,i,a);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,m){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:o}),children:l(u,{locale:o})},m)})]})}function B8(){var e,t=gt(),r=t.classNames,n=t.styles,o=t.components,i=(e=o==null?void 0:o.HeadRow)!==null&&e!==void 0?e:U8;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function z8(e){var t=gt(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var ax=h.createContext(void 0);function V8(e){if(!Fc(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(ax.Provider,{value:t,children:e.children})}return s.jsx(W8,{initialProps:e.initialProps,children:e.children})}function W8(e){var t=e.initialProps,r=e.children,n=t.selected,o=t.min,i=t.max,a=function(d,u,m){var p,f;(p=t.onDayClick)===null||p===void 0||p.call(t,d,u,m);var y=!!(u.selected&&o&&(n==null?void 0:n.length)===o);if(!y){var g=!!(!u.selected&&i&&(n==null?void 0:n.length)===i);if(!g){var v=n?CE([],n):[];if(u.selected){var w=v.findIndex(function(x){return Yr(d,x)});v.splice(w,1)}else v.push(d);(f=t.onSelect)===null||f===void 0||f.call(t,v,d,u,m)}}},l={disabled:[]};n&&l.disabled.push(function(d){var u=i&&n.length>i-1,m=n.some(function(p){return Yr(p,d)});return!!(u&&!m)});var c={selected:n,onDayClick:a,modifiers:l};return s.jsx(ax.Provider,{value:c,children:r})}function lx(){var e=h.useContext(ax);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function H8(e,t){var r=t||{},n=r.from,o=r.to;return n&&o?Yr(o,e)&&Yr(n,e)?void 0:Yr(o,e)?{from:o,to:void 0}:Yr(n,e)?void 0:eg(n,e)?{from:e,to:o}:{from:n,to:e}:o?eg(e,o)?{from:o,to:e}:{from:e,to:o}:n?$S(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var cx=h.createContext(void 0);function q8(e){if(!Uc(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(cx.Provider,{value:t,children:e.children})}return s.jsx(G8,{initialProps:e.initialProps,children:e.children})}function G8(e){var t=e.initialProps,r=e.children,n=t.selected,o=n||{},i=o.from,a=o.to,l=t.min,c=t.max,d=function(f,y,g){var v,w;(v=t.onDayClick)===null||v===void 0||v.call(t,f,y,g);var x=H8(f,n);(w=t.onSelect)===null||w===void 0||w.call(t,x,f,y,g)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],a?(u.range_end=[a],Yr(i,a)||(u.range_middle=[{after:i,before:a}])):u.range_end=[i]):a&&(u.range_start=[a],u.range_end=[a]),l&&(i&&!a&&u.disabled.push({after:Qf(i,l-1),before:Tr(i,l-1)}),i&&a&&u.disabled.push({after:i,before:Tr(i,l-1)}),!i&&a&&u.disabled.push({after:Qf(a,l-1),before:Tr(a,l-1)})),c){if(i&&!a&&(u.disabled.push({before:Tr(i,-c+1)}),u.disabled.push({after:Tr(i,c-1)})),i&&a){var m=hs(a,i)+1,p=c-m;u.disabled.push({before:Qf(i,p)}),u.disabled.push({after:Tr(a,p)})}!i&&a&&(u.disabled.push({before:Tr(a,-c+1)}),u.disabled.push({after:Tr(a,c-1)}))}return s.jsx(cx.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:r})}function dx(){var e=h.useContext(cx);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Jd(e){return Array.isArray(e)?CE([],e):e!==void 0?[e]:[]}function Y8(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],o=r[1];t[n]=Jd(o)}),t}var es;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(es||(es={}));var K8=es.Selected,_s=es.Disabled,Q8=es.Hidden,J8=es.Today,mm=es.RangeEnd,pm=es.RangeMiddle,gm=es.RangeStart,X8=es.Outside;function Z8(e,t,r){var n,o=(n={},n[K8]=Jd(e.selected),n[_s]=Jd(e.disabled),n[Q8]=Jd(e.hidden),n[J8]=[e.today],n[mm]=[],n[pm]=[],n[gm]=[],n[X8]=[],n);return e.fromDate&&o[_s].push({before:e.fromDate}),e.toDate&&o[_s].push({after:e.toDate}),Fc(e)?o[_s]=o[_s].concat(t.modifiers[_s]):Uc(e)&&(o[_s]=o[_s].concat(r.modifiers[_s]),o[gm]=r.modifiers[gm],o[pm]=r.modifiers[pm],o[mm]=r.modifiers[mm]),o}var RE=h.createContext(void 0);function eB(e){var t=gt(),r=lx(),n=dx(),o=Z8(t,r,n),i=Y8(t.modifiers),a=Ee(Ee({},o),i);return s.jsx(RE.Provider,{value:a,children:e.children})}function OE(){var e=h.useContext(RE);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function tB(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function rB(e){return!!(e&&typeof e=="object"&&"from"in e)}function nB(e){return!!(e&&typeof e=="object"&&"after"in e)}function sB(e){return!!(e&&typeof e=="object"&&"before"in e)}function oB(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function iB(e,t){var r,n=t.from,o=t.to;if(n&&o){var i=hs(o,n)<0;i&&(r=[o,n],n=r[0],o=r[1]);var a=hs(e,n)>=0&&hs(o,e)>=0;return a}return o?Yr(o,e):n?Yr(n,e):!1}function aB(e){return Gv(e)}function lB(e){return Array.isArray(e)&&e.every(Gv)}function cB(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(aB(r))return Yr(e,r);if(lB(r))return r.includes(e);if(rB(r))return iB(e,r);if(oB(r))return r.dayOfWeek.includes(e.getDay());if(tB(r)){var n=hs(r.before,e),o=hs(r.after,e),i=n>0,a=o<0,l=eg(r.before,r.after);return l?a&&i:i||a}return nB(r)?hs(e,r.after)>0:sB(r)?hs(r.before,e)>0:typeof r=="function"?r(e):!1})}function ux(e,t,r){var n=Object.keys(t).reduce(function(i,a){var l=t[a];return cB(e,l)&&i.push(a),i},[]),o={};return n.forEach(function(i){return o[i]=!0}),r&&!Qv(e,r)&&(o.outside=!0),o}function dB(e,t){for(var r=Xr(e[0]),n=Yv(e[e.length-1]),o,i,a=r;a<=n;){var l=ux(a,t),c=!l.disabled&&!l.hidden;if(!c){a=Tr(a,1);continue}if(l.selected)return a;l.today&&!i&&(i=a),o||(o=a),a=Tr(a,1)}return i||o}var uB=365;function DE(e,t){var r=t.moveBy,n=t.direction,o=t.context,i=t.modifiers,a=t.retry,l=a===void 0?{count:0,lastFocused:e}:a,c=o.weekStartsOn,d=o.fromDate,u=o.toDate,m=o.locale,p={day:Tr,week:Zp,month:Zn,year:$$,startOfWeek:function(v){return o.ISOWeek?hi(v):ws(v,{locale:m,weekStartsOn:c})},endOfWeek:function(v){return o.ISOWeek?RS(v):Kv(v,{locale:m,weekStartsOn:c})}},f=p[r](e,n==="after"?1:-1);n==="before"&&d?f=L$([d,f]):n==="after"&&u&&(f=F$([u,f]));var y=!0;if(i){var g=ux(f,i);y=!g.disabled&&!g.hidden}return y?f:l.count>uB?l.lastFocused:DE(f,{moveBy:r,direction:n,context:o,modifiers:i,retry:Ee(Ee({},l),{count:l.count+1})})}var AE=h.createContext(void 0);function hB(e){var t=Bc(),r=OE(),n=h.useState(),o=n[0],i=n[1],a=h.useState(),l=a[0],c=a[1],d=dB(t.displayMonths,r),u=o??(l&&t.isDateDisplayed(l))?l:d,m=function(){c(o),i(void 0)},p=function(v){i(v)},f=gt(),y=function(v,w){if(o){var x=DE(o,{moveBy:v,direction:w,context:f,modifiers:r});Yr(o,x)||(t.goToDate(x,o),p(x))}},g={focusedDay:o,focusTarget:u,blur:m,focus:p,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return s.jsx(AE.Provider,{value:g,children:e.children})}function hx(){var e=h.useContext(AE);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function fB(e,t){var r=OE(),n=ux(e,r,t);return n}var fx=h.createContext(void 0);function mB(e){if(!Bh(e.initialProps)){var t={selected:void 0};return s.jsx(fx.Provider,{value:t,children:e.children})}return s.jsx(pB,{initialProps:e.initialProps,children:e.children})}function pB(e){var t=e.initialProps,r=e.children,n=function(i,a,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,a,l),a.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,a,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,a,l)},o={selected:t.selected,onDayClick:n};return s.jsx(fx.Provider,{value:o,children:r})}function IE(){var e=h.useContext(fx);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function gB(e,t){var r=gt(),n=IE(),o=lx(),i=dx(),a=hx(),l=a.focusDayAfter,c=a.focusDayBefore,d=a.focusWeekAfter,u=a.focusWeekBefore,m=a.blur,p=a.focus,f=a.focusMonthBefore,y=a.focusMonthAfter,g=a.focusYearBefore,v=a.focusYearAfter,w=a.focusStartOfWeek,x=a.focusEndOfWeek,b=function(I){var D,$,Y,C;Bh(r)?(D=n.onDayClick)===null||D===void 0||D.call(n,e,t,I):Fc(r)?($=o.onDayClick)===null||$===void 0||$.call(o,e,t,I):Uc(r)?(Y=i.onDayClick)===null||Y===void 0||Y.call(i,e,t,I):(C=r.onDayClick)===null||C===void 0||C.call(r,e,t,I)},j=function(I){var D;p(e),(D=r.onDayFocus)===null||D===void 0||D.call(r,e,t,I)},T=function(I){var D;m(),(D=r.onDayBlur)===null||D===void 0||D.call(r,e,t,I)},S=function(I){var D;(D=r.onDayMouseEnter)===null||D===void 0||D.call(r,e,t,I)},N=function(I){var D;(D=r.onDayMouseLeave)===null||D===void 0||D.call(r,e,t,I)},E=function(I){var D;(D=r.onDayPointerEnter)===null||D===void 0||D.call(r,e,t,I)},R=function(I){var D;(D=r.onDayPointerLeave)===null||D===void 0||D.call(r,e,t,I)},P=function(I){var D;(D=r.onDayTouchCancel)===null||D===void 0||D.call(r,e,t,I)},_=function(I){var D;(D=r.onDayTouchEnd)===null||D===void 0||D.call(r,e,t,I)},O=function(I){var D;(D=r.onDayTouchMove)===null||D===void 0||D.call(r,e,t,I)},M=function(I){var D;(D=r.onDayTouchStart)===null||D===void 0||D.call(r,e,t,I)},A=function(I){var D;(D=r.onDayKeyUp)===null||D===void 0||D.call(r,e,t,I)},H=function(I){var D;switch(I.key){case"ArrowLeft":I.preventDefault(),I.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":I.preventDefault(),I.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":I.preventDefault(),I.stopPropagation(),d();break;case"ArrowUp":I.preventDefault(),I.stopPropagation(),u();break;case"PageUp":I.preventDefault(),I.stopPropagation(),I.shiftKey?g():f();break;case"PageDown":I.preventDefault(),I.stopPropagation(),I.shiftKey?v():y();break;case"Home":I.preventDefault(),I.stopPropagation(),w();break;case"End":I.preventDefault(),I.stopPropagation(),x();break}(D=r.onDayKeyDown)===null||D===void 0||D.call(r,e,t,I)},q={onClick:b,onFocus:j,onBlur:T,onKeyDown:H,onKeyUp:A,onMouseEnter:S,onMouseLeave:N,onPointerEnter:E,onPointerLeave:R,onTouchCancel:P,onTouchEnd:_,onTouchMove:O,onTouchStart:M};return q}function vB(){var e=gt(),t=IE(),r=lx(),n=dx(),o=Bh(e)?t.selected:Fc(e)?r.selected:Uc(e)?n.selected:void 0;return o}function xB(e){return Object.values(es).includes(e)}function yB(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var o=e.modifiersClassNames[n];if(o)r.push(o);else if(xB(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function wB(e,t){var r=Ee({},e.styles.day);return Object.keys(t).forEach(function(n){var o;r=Ee(Ee({},r),(o=e.modifiersStyles)===null||o===void 0?void 0:o[n])}),r}function bB(e,t,r){var n,o,i,a=gt(),l=hx(),c=fB(e,t),d=gB(e,c),u=vB(),m=!!(a.onDayClick||a.mode!=="default");h.useEffect(function(){var S;c.outside||l.focusedDay&&m&&Yr(l.focusedDay,e)&&((S=r.current)===null||S===void 0||S.focus())},[l.focusedDay,e,r,m,c.outside]);var p=yB(a,c).join(" "),f=wB(a,c),y=!!(c.outside&&!a.showOutsideDays||c.hidden),g=(i=(o=a.components)===null||o===void 0?void 0:o.DayContent)!==null&&i!==void 0?i:z8,v=s.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),w={style:f,className:p,children:v,role:"gridcell"},x=l.focusTarget&&Yr(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&Yr(l.focusedDay,e),j=Ee(Ee(Ee({},w),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=b||x?0:-1,n)),d),T={isButton:m,isHidden:y,activeModifiers:c,selectedDays:u,buttonProps:j,divProps:w};return T}function jB(e){var t=h.useRef(null),r=bB(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(zu,Ee({name:"day",ref:t},r.buttonProps)):s.jsx("div",Ee({},r.divProps))}function NB(e){var t=e.number,r=e.dates,n=gt(),o=n.onWeekNumberClick,i=n.styles,a=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!o)return s.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:u});var m=c(Number(t),{locale:l}),p=function(f){o(t,r,f)};return s.jsx(zu,{name:"week-number","aria-label":m,className:a.weeknumber,style:i.weeknumber,onClick:p,children:u})}function _B(e){var t,r,n=gt(),o=n.styles,i=n.classNames,a=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:jB,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:NB,u;return a&&(u=s.jsx("td",{className:i.cell,style:o.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:o.row,children:[u,e.dates.map(function(m){return s.jsx("td",{className:i.cell,style:o.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:m})},FL(m))})]})}function rb(e,t,r){for(var n=r!=null&&r.ISOWeek?RS(t):Kv(t,r),o=r!=null&&r.ISOWeek?hi(e):ws(e,r),i=hs(n,o),a=[],l=0;l<=i;l++)a.push(Tr(o,l));var c=a.reduce(function(d,u){var m=r!=null&&r.ISOWeek?DS(u):IS(u,r),p=d.find(function(f){return f.weekNumber===m});return p?(p.dates.push(u),d):(d.push({weekNumber:m,dates:[u]}),d)},[]);return c}function SB(e,t){var r=rb(Xr(e),Yv(e),t);if(t!=null&&t.useFixedWeeks){var n=BL(e,t);if(n<6){var o=r[r.length-1],i=o.dates[o.dates.length-1],a=Zp(i,6-n),l=rb(Zp(i,1),a,t);r.push.apply(r,l)}}return r}function CB(e){var t,r,n,o=gt(),i=o.locale,a=o.classNames,l=o.styles,c=o.hideHead,d=o.fixedWeeks,u=o.components,m=o.weekStartsOn,p=o.firstWeekContainsDate,f=o.ISOWeek,y=SB(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:f,locale:i,weekStartsOn:m,firstWeekContainsDate:p}),g=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:B8,v=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:_B,w=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:L8;return s.jsxs("table",{id:e.id,className:a.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(g,{}),s.jsx("tbody",{className:a.tbody,style:l.tbody,children:y.map(function(x){return s.jsx(v,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),s.jsx(w,{displayMonth:e.displayMonth})]})}function EB(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var kB=EB()?h.useLayoutEffect:h.useEffect,vm=!1,TB=0;function nb(){return"react-day-picker-".concat(++TB)}function PB(e){var t,r=e??(vm?nb():null),n=h.useState(r),o=n[0],i=n[1];return kB(function(){o===null&&i(nb())},[]),h.useEffect(function(){vm===!1&&(vm=!0)},[]),(t=e??o)!==null&&t!==void 0?t:void 0}function RB(e){var t,r,n=gt(),o=n.dir,i=n.classNames,a=n.styles,l=n.components,c=Bc().displayMonths,d=PB(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,m=[i.month],p=a.month,f=e.displayIndex===0,y=e.displayIndex===c.length-1,g=!f&&!y;o==="rtl"&&(t=[f,y],y=t[0],f=t[1]),f&&(m.push(i.caption_start),p=Ee(Ee({},p),a.caption_start)),y&&(m.push(i.caption_end),p=Ee(Ee({},p),a.caption_end)),g&&(m.push(i.caption_between),p=Ee(Ee({},p),a.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:$8;return s.jsxs("div",{className:m.join(" "),style:p,children:[s.jsx(v,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(CB,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function OB(e){var t=gt(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function DB(e){var t,r,n=e.initialProps,o=gt(),i=hx(),a=Bc(),l=h.useState(!1),c=l[0],d=l[1];h.useEffect(function(){o.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[o.initialFocus,c,i.focus,i.focusTarget,i]);var u=[o.classNames.root,o.className];o.numberOfMonths>1&&u.push(o.classNames.multiple_months),o.showWeekNumber&&u.push(o.classNames.with_weeknumber);var m=Ee(Ee({},o.styles.root),o.style),p=Object.keys(n).filter(function(y){return y.startsWith("data-")}).reduce(function(y,g){var v;return Ee(Ee({},y),(v={},v[g]=n[g],v))},{}),f=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:OB;return s.jsx("div",Ee({className:u.join(" "),style:m,dir:o.dir,id:o.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:s.jsx(f,{children:a.displayMonths.map(function(y,g){return s.jsx(RB,{displayIndex:g,displayMonth:y},g)})})}))}function AB(e){var t=e.children,r=s8(e,["children"]);return s.jsx(N8,{initialProps:r,children:s.jsx(D8,{children:s.jsx(mB,{initialProps:r,children:s.jsx(V8,{initialProps:r,children:s.jsx(q8,{initialProps:r,children:s.jsx(eB,{children:s.jsx(hB,{children:t})})})})})})})}function IB(e){return s.jsx(AB,Ee({},e,{children:s.jsx(DB,{initialProps:e})}))}function ME({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(IB,{showOutsideDays:r,className:te("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:te(uc({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:te(uc({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...o})=>s.jsx(p1,{className:"h-4 w-4"}),IconRight:({...o})=>s.jsx(gv,{className:"h-4 w-4"})},...n})}ME.displayName="Calendar";const un=h.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:te("flex min-h-[80px] w-full rounded-2xl border border-white/15 bg-white/5 px-4 py-3 text-base text-foreground ring-offset-background placeholder:text-white/30 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gold-400/50 focus-visible:ring-offset-2 focus-visible:border-gold-400 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm transition-all duration-200 hover:border-white/25 shadow-sm focus:shadow-md",e),ref:r,...t}));un.displayName="Textarea";var $E="Toggle",LE=h.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n,onPressedChange:o,...i}=e,[a,l]=Qn({prop:r,onChange:o,defaultProp:n??!1,caller:$E});return s.jsx(ye.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:ie(e.onClick,()=>{e.disabled||l(!a)})})});LE.displayName=$E;var FE=LE;const MB=Wa("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),UE=h.forwardRef(({className:e,variant:t,size:r,...n},o)=>s.jsx(FE,{ref:o,className:te(MB({variant:t,size:r,className:e})),...n}));UE.displayName=FE.displayName;const $B=Oh,LB=Dh,BE=h.forwardRef(({className:e,...t},r)=>s.jsx(Za,{className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));BE.displayName=Za.displayName;const FB=Wa("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),zE=h.forwardRef(({side:e="right",className:t,children:r,...n},o)=>s.jsxs(LB,{children:[s.jsx(BE,{}),s.jsxs(el,{ref:o,className:te(FB({side:e}),t),...n,children:[r,s.jsxs(Ah,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Oa,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zE.displayName=el.displayName;const VE=({className:e,...t})=>s.jsx("div",{className:te("flex flex-col space-y-2 text-center sm:text-left",e),...t});VE.displayName="SheetHeader";const WE=h.forwardRef(({className:e,...t},r)=>s.jsx(Ac,{ref:r,className:te("text-lg font-semibold text-foreground",e),...t}));WE.displayName=Ac.displayName;const HE=h.forwardRef(({className:e,...t},r)=>s.jsx(Ic,{ref:r,className:te("text-sm text-muted-foreground",e),...t}));HE.displayName=Ic.displayName;function xm({value:e,onChange:t,min:r=0,max:n,step:o=1,className:i,disabled:a=!1,width:l="auto"}){const c=()=>{a||r!==void 0&&e<=r||t(e-o)},d=()=>{a||n!==void 0&&e>=n||t(e+o)};return s.jsxs("div",{className:te("flex items-center gap-3",i),style:{width:l},children:[s.jsxs(W,{variant:"outline",size:"icon",className:"h-10 w-10 md:h-9 md:w-9 rounded-full shrink-0 border-white/10 text-white/50 hover:bg-white/10 hover:text-foreground touch-manipulation",onClick:c,disabled:a||r!==void 0&&e<=r,type:"button",children:[s.jsx(_p,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Decrease"})]}),s.jsx("div",{className:"flex-1 text-center font-semibold text-lg md:text-base min-w-[2ch]",children:e}),s.jsxs(W,{variant:"outline",size:"icon",className:"h-10 w-10 md:h-9 md:w-9 rounded-full shrink-0 border-white/10 text-white/50 hover:bg-white/10 hover:text-foreground touch-manipulation",onClick:d,disabled:a||n!==void 0&&e>=n,type:"button",children:[s.jsx(jr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Increase"})]})]})}const sb=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Date.now().toString(36)+Math.random().toString(36).substring(2),UB=({itinerary:e,onItineraryChange:t,startTime:r,endTime:n,isGenerated:o=!1,disabled:i=!1,onGenerateItinerary:a,isGenerating:l=!1,eventTitle:c,eventDescription:d,contacts:u=[],onAddContact:m,showValidation:p=!1})=>{const[f,y]=h.useState(null),g=_=>{if(!_||!/^\d{2}:\d{2}$/.test(_))return null;const[O,M]=_.split(":").map(Number);return O*60+M},v=h.useMemo(()=>e.flatMap(_=>_.volunteerRoles.map(O=>({...O,_itemId:_.id,_groupLabel:_.title||""}))),[e]),w=_=>{for(const O of e){const M=O.volunteerRoles.find(A=>A.id===_);if(M)return{item:O,role:M}}return null},x=_=>null,b=_=>{const O=_.map(A=>({id:A.id,s:g(A.shiftStartTime),e:g(A.shiftEndTime)})).filter(A=>A.s!==null&&A.e!==null&&A.e>A.s).sort((A,H)=>A.s-H.s),M=new Set;for(let A=1;A<O.length;A++){const H=O[A-1],q=O[A];q.s<H.e&&(M.add(H.id),M.add(q.id))}return M},j=h.useMemo(()=>{const _=e.flatMap(O=>O.volunteerRoles);return b(_)},[e]),T=()=>{const[_,O]=r.split(":").map(Number),A=_*60+O+60,H=Math.floor(A/60),q=A%60,I=`${H.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}`,D={id:sb(),roleLabel:"",slotsBrother:0,slotsSister:0,slotsFlexible:0,shiftStartTime:r,shiftEndTime:I,notes:"",suggestedPOC:[]};if(e.length===0){const $={id:sb(),time:r,title:"",description:"",volunteerRoles:[D]};t([$])}else{const $=[...e];$[0]={...$[0],volunteerRoles:[...$[0].volunteerRoles,D]},t($)}return D.id},S=(_,O,M)=>{const A=e.map(H=>({...H,volunteerRoles:H.volunteerRoles.map(q=>q.id===_?{...q,[O]:M}:q)}));t(A)},N=_=>{const O=e.map(M=>({...M,volunteerRoles:M.volunteerRoles.filter(A=>A.id!==_)}));t(O.filter(M=>M.volunteerRoles.length>0))},E=c&&d&&r&&n&&a,R=()=>v.reduce((_,O)=>_+O.slotsBrother+O.slotsSister+O.slotsFlexible,0),P=f?w(f):null;return s.jsxs(Te,{className:"border-white/10 bg-white/5 shadow-sm",children:[s.jsxs(Lt,{className:"pb-3 md:pb-2 px-3 md:px-6",children:[s.jsxs(Ft,{className:"flex items-center space-x-2 text-foreground text-lg md:text-base",children:[s.jsx(At,{className:"w-5 h-5"}),s.jsx("span",{children:"Volunteer Roles"})]}),s.jsx("p",{className:"text-sm md:text-xs text-white/40 mt-1",children:"Add the volunteer roles needed for your event."})]}),s.jsx(Ie,{className:"space-y-4 px-3 md:px-6",children:v.length===0?s.jsxs("div",{className:"text-center py-10 md:py-8 bg-white/5 rounded-3xl md:rounded-xl border border-white/10",children:[s.jsx("div",{className:"w-16 h-16 md:w-12 md:h-12 rounded-full bg-white/10 mx-auto mb-4 flex items-center justify-center",children:s.jsx(At,{className:"w-8 h-8 md:w-6 md:h-6 text-white/30"})}),s.jsx("h3",{className:"text-lg md:text-base font-semibold text-white/70 mb-2",children:"No roles yet"}),s.jsx("p",{className:"text-white/40 mb-6 text-sm px-4",children:"Add volunteer roles for your event"}),s.jsxs("div",{className:"flex flex-col gap-3 px-6 md:px-0 md:flex-row md:justify-center",children:[s.jsxs(W,{onClick:()=>{T()},variant:"default",className:"h-14 md:h-11 text-base md:text-sm font-semibold bg-gold-400 hover:bg-gold-300 text-navy-800 shadow-lg hover:shadow-xl transition-all duration-300 rounded-3xl md:rounded-lg touch-manipulation",disabled:i,children:[s.jsx(jr,{className:"w-5 h-5 md:w-4 md:h-4 mr-2"}),"Add Role"]}),a&&s.jsxs(W,{onClick:a,variant:"outline",className:"h-14 md:h-11 text-base md:text-sm font-medium border border-white/10 text-white/70 hover:bg-white/5 rounded-3xl md:rounded-lg touch-manipulation",disabled:!E||l||i,children:[s.jsx(sc,{className:"w-5 h-5 md:w-4 md:h-4 mr-2"}),l?"Generating...":"AI Suggestions"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex items-center justify-between px-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ve,{variant:"secondary",className:"text-xs bg-gold-400/10 text-gold-300 border-0",children:[v.length," ",v.length===1?"role":"roles"]}),s.jsxs(ve,{variant:"secondary",className:"text-xs bg-white/5 text-white/50 border-0",children:[R()," volunteers needed"]})]})}),s.jsx("div",{className:"space-y-3",children:v.map(_=>{const O=x();return j.has(_.id),s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-3",children:[s.jsxs("div",{className:"hidden md:block",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-3 overflow-visible",children:[s.jsxs("div",{className:"space-y-1 col-span-2 lg:col-span-1",children:[s.jsx(re,{className:"text-xs text-white/60 font-semibold",children:"Role Name"}),s.jsx(he,{value:_.roleLabel,onChange:M=>S(_.id,"roleLabel",M.target.value),placeholder:"e.g., Greeter",className:"text-sm h-11 border-white/10 focus-visible:ring-gold-400",disabled:i})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{className:"text-xs text-white/60 font-semibold",children:"Brother Slots"}),s.jsx(he,{type:"number",min:"0",step:"1",inputMode:"numeric",value:_.slotsBrother===0?"":_.slotsBrother,onChange:M=>{const A=M.target.value===""?0:parseInt(M.target.value)||0;S(_.id,"slotsBrother",A)},onBlur:M=>{const A=M.target.value===""?0:parseInt(M.target.value)||0;A!==_.slotsBrother&&S(_.id,"slotsBrother",A)},className:"text-sm h-11 border-white/10 focus-visible:ring-gold-400",disabled:i})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{className:"text-xs text-white/60 font-semibold",children:"Sister Slots"}),s.jsx(he,{type:"number",min:"0",step:"1",inputMode:"numeric",value:_.slotsSister===0?"":_.slotsSister,onChange:M=>{const A=M.target.value===""?0:parseInt(M.target.value)||0;A!==_.slotsSister&&S(_.id,"slotsSister",A)},onBlur:M=>{const A=M.target.value===""?0:parseInt(M.target.value)||0;A!==_.slotsSister&&S(_.id,"slotsSister",A)},className:"text-sm h-11 border-white/10 focus-visible:ring-gold-400",disabled:i})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{className:"text-xs text-white/60 font-semibold",children:"Either Gender"}),s.jsx(he,{type:"number",min:"0",step:"1",inputMode:"numeric",value:_.slotsFlexible===0?"":_.slotsFlexible,onChange:M=>{const A=M.target.value===""?0:parseInt(M.target.value)||0;S(_.id,"slotsFlexible",A)},onBlur:M=>{const A=M.target.value===""?0:parseInt(M.target.value)||0;A!==_.slotsFlexible&&S(_.id,"slotsFlexible",A)},className:"text-sm h-11 border-white/10 focus-visible:ring-gold-400",disabled:i}),s.jsx("div",{className:"text-xs text-white/40 font-medium",children:"Can be filled by either brothers or sisters"})]})]}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{className:"text-xs text-white/60 font-semibold",children:"Points of Contact"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex flex-wrap gap-1",children:(_.suggestedPOC||[]).map((M,A)=>{const H=u.find(q=>q.id===M);return H?s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gold-400/10 text-gold-300 rounded-md text-xs",children:[s.jsx("span",{children:H.name}),s.jsx("button",{type:"button",onClick:()=>{const q=(_.suggestedPOC||[]).filter((I,D)=>D!==A);S(_.id,"suggestedPOC",q)},className:"text-white/40 hover:text-white/60",disabled:i,children:s.jsx(Oa,{className:"w-3 h-3"})})]},M):null})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(vs,{onValueChange:M=>{if(M&&!(_.suggestedPOC||[]).includes(M)){const A=[..._.suggestedPOC||[],M];S(_.id,"suggestedPOC",A)}},disabled:i,children:[s.jsx(Gn,{className:"text-sm border-white/10 h-11 px-3 focus-visible:ring-gold-400 flex-1",children:s.jsx(xs,{placeholder:"Add coordinator"})}),s.jsx(Yn,{children:u.filter(M=>{const A=M.role,H=M.source,q=A==="poc"||!A&&(H==="manual"||H==="account_signup"),I=!(_.suggestedPOC||[]).includes(M.id);return q&&I}).map(M=>s.jsxs(br,{value:M.id,children:[M.name," - ",M.phone]},M.id))})]}),m&&s.jsx(W,{size:"sm",variant:"outline",onClick:m,className:"h-11 w-12 p-0 border-white/10 text-white/60 hover:bg-white/10 focus-visible:ring-gold-400 flex-shrink-0",disabled:i,children:s.jsx(jr,{className:"w-4 h-4"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{className:"text-xs text-white/60 font-semibold",children:"Start Time"}),s.jsx(cs,{value:_.shiftStartTime,onChange:M=>S(_.id,"shiftStartTime",M),className:"text-sm border-white/10 focus-visible:ring-gold-400",disabled:i})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{className:"text-xs text-white/60 font-semibold",children:"End Time"}),s.jsx(cs,{value:_.shiftEndTime,onChange:M=>S(_.id,"shiftEndTime",M),className:"text-sm border-white/10 focus-visible:ring-gold-400",disabled:i}),p&&O]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{className:"text-xs text-white/60 font-semibold",children:"Notes"}),s.jsx(he,{value:_.notes||"",onChange:M=>S(_.id,"notes",M.target.value),placeholder:"Special instructions or requirements",className:"text-sm h-11 border-white/10 focus-visible:ring-gold-400",disabled:i})]}),s.jsx("div",{className:"flex justify-end pt-1",children:s.jsxs(W,{size:"sm",variant:"ghost",onClick:()=>N(_.id),className:"h-6 px-2 text-xs text-red-400 hover:text-red-300 hover:bg-red-400/10",disabled:i,children:[s.jsx(Oa,{className:"w-3 h-3 mr-1"}),"Remove Role"]})})]})]}),s.jsxs("div",{className:"md:hidden flex items-center justify-between cursor-pointer active:scale-[0.98] -mx-1 -my-1 p-2.5 rounded-2xl transition-all bg-white/5 border border-white/10 shadow-sm touch-manipulation",onClick:()=>y(_.id),children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-semibold text-foreground text-base truncate",children:_.roleLabel||s.jsx("span",{className:"text-white/30 font-normal italic",children:"Untitled Role"})}),s.jsxs("div",{className:"text-sm text-white/40 flex items-center flex-wrap gap-x-4 gap-y-1 mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1.5 font-medium",children:[s.jsx(At,{className:"w-4 h-4 text-gold-400"}),s.jsx("span",{className:"text-white/70",children:_.slotsBrother+_.slotsSister+_.slotsFlexible}),s.jsx("span",{className:"text-white/30",children:"needed"})]}),s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(wr,{className:"w-4 h-4 text-white/30"}),ct(_.shiftStartTime)," - ",ct(_.shiftEndTime)]})]})]}),s.jsx(gv,{className:"w-5 h-5 text-white/20 ml-2 flex-shrink-0"})]})]},_.id)})}),s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row",children:[s.jsxs(W,{onClick:()=>{T()},variant:"outline",className:"flex-1 h-14 md:h-11 text-base md:text-sm font-semibold border border-white/10 text-white/70 hover:bg-white/5 rounded-3xl md:rounded-lg touch-manipulation",disabled:i,children:[s.jsx(jr,{className:"w-5 h-5 md:w-4 md:h-4 mr-2"}),"Add Another Role"]}),a&&s.jsxs(W,{onClick:a,variant:"outline",className:"flex-1 h-14 md:h-11 text-base md:text-sm font-medium border border-white/10 text-white/70 hover:bg-white/5 rounded-3xl md:rounded-lg touch-manipulation",disabled:!E||l||i,children:[s.jsx(sc,{className:"w-5 h-5 md:w-4 md:h-4 mr-2"}),l?"Generating...":"AI Suggestions"]})]})]})}),s.jsx($B,{open:!!f,onOpenChange:_=>!_&&y(null),children:s.jsxs(zE,{side:"bottom",className:"h-auto max-h-[85vh] sm:max-w-md overflow-y-auto rounded-t-3xl px-0 pb-0 flex flex-col",children:[s.jsx(VE,{className:"px-5 py-4 border-b border-white/5 sticky top-0 bg-white/5 z-10",children:s.jsxs("div",{className:"text-left",children:[s.jsx(WE,{className:"text-xl font-bold text-foreground text-left",children:"Edit Role"}),s.jsx(HE,{className:"text-sm text-white/40 mt-0.5 text-left",children:"Configure volunteer requirements"})]})}),s.jsx("div",{className:"px-5 py-5 space-y-6 pb-4 flex-1 overflow-y-auto min-h-0",children:P&&(()=>{const _=P.role;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(re,{className:"text-sm font-semibold text-white/40 uppercase tracking-wider",children:"Role Name"}),s.jsx(he,{value:_.roleLabel,onChange:O=>S(_.id,"roleLabel",O.target.value),placeholder:"e.g., Greeter, Setup Crew...",className:"text-xl font-semibold h-14 border border-white/10 focus-visible:ring-gold-400 rounded-2xl placeholder:font-normal placeholder:text-white/30"})]}),s.jsxs("div",{className:"space-y-4 bg-white/5 rounded-2xl p-4",children:[s.jsx(re,{className:"text-sm font-semibold text-white/40 uppercase tracking-wider",children:"Volunteers Needed"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"font-semibold text-foreground text-base",children:"Brothers"}),s.jsx("div",{className:"text-xs text-white/40",children:"Male volunteers"})]}),s.jsx(xm,{value:_.slotsBrother,onChange:O=>S(_.id,"slotsBrother",O),min:0})]}),s.jsx("div",{className:"border-t border-white/10"}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"font-semibold text-foreground text-base",children:"Sisters"}),s.jsx("div",{className:"text-xs text-white/40",children:"Female volunteers"})]}),s.jsx(xm,{value:_.slotsSister,onChange:O=>S(_.id,"slotsSister",O),min:0})]}),s.jsx("div",{className:"border-t border-white/10"}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"font-semibold text-foreground text-base",children:"Either Gender"}),s.jsx("div",{className:"text-xs text-white/40",children:"Flexible assignment"})]}),s.jsx(xm,{value:_.slotsFlexible,onChange:O=>S(_.id,"slotsFlexible",O),min:0})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/10",children:[s.jsx("span",{className:"text-sm font-semibold text-white/50",children:"Total volunteers"}),s.jsx("span",{className:"text-lg font-bold text-gold-400",children:_.slotsBrother+_.slotsSister+_.slotsFlexible})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(re,{className:"text-sm font-semibold text-white/40 uppercase tracking-wider",children:"Shift Time"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{className:"text-sm text-white/50 font-medium",children:"Start"}),s.jsx(he,{type:"time",value:_.shiftStartTime,onChange:O=>S(_.id,"shiftStartTime",O.target.value),className:"h-14 border-2 border-white/10 rounded-xl text-base font-semibold text-center"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{className:"text-sm text-white/50 font-medium",children:"End"}),s.jsx(he,{type:"time",value:_.shiftEndTime,onChange:O=>S(_.id,"shiftEndTime",O.target.value),className:"h-14 border-2 border-white/10 rounded-xl text-base font-semibold text-center"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(re,{className:"text-sm font-semibold text-white/40 uppercase tracking-wider",children:"Notes (Optional)"}),s.jsx(un,{value:_.notes||"",onChange:O=>S(_.id,"notes",O.target.value),placeholder:"Special instructions, requirements, or details for this role...",rows:3,className:"text-base resize-none border-2 border-white/10 rounded-xl"})]}),s.jsx("div",{className:"pt-2",children:s.jsxs(W,{variant:"ghost",className:"w-full h-12 text-base text-red-400 hover:text-red-300 hover:bg-red-400/10 font-medium",onClick:()=>{N(_.id),y(null)},children:[s.jsx(Gr,{className:"w-4 h-4 mr-2"}),"Remove Role"]})})]})})()}),s.jsx("div",{className:"mt-auto p-4 pt-3 bg-white/5 border-t border-white/10 shadow-[0_-4px_20px_rgba(0,0,0,0.1)] shrink-0",style:{paddingBottom:"max(1rem, env(safe-area-inset-bottom))"},children:s.jsx(W,{className:"w-full h-14 text-lg font-bold bg-gold-400 hover:bg-gold-300 text-navy-800 shadow-xl rounded-xl touch-manipulation",onClick:()=>y(null),children:"Done"})})]})})]})},BB=`You are an event planning assistant for a volunteer management system. Parse the following text into a structured event format.

Extract as much information as possible:
- Event title (a concise name for the event)
- Date (in YYYY-MM-DD format)
- Start time and end time (in HH:MM 24-hour format)
- Location
- Description (a brief summary of the event)
- Volunteer roles needed

For each volunteer role, extract:
- roleLabel: the name of the role (e.g., "Greeter", "Food Server", "Parking Attendant")
- slotsBrother: number of male volunteers needed (0 if not specified by gender)
- slotsSister: number of female volunteers needed (0 if not specified by gender)
- slotsFlexible: number of volunteers needed if gender is not specified (put the count here)
- shiftStartTime: when this role starts (HH:MM 24h format, defaults to event start time)
- shiftEndTime: when this role ends (HH:MM 24h format, defaults to event end time)
- notes: any special instructions for this role

If a number of volunteers is mentioned without specifying gender (e.g., "5 greeters"), put the count in slotsFlexible and set slotsBrother and slotsSister to 0.
If gender is specified (e.g., "3 brothers for parking"), use the appropriate field.

Return valid JSON matching this exact schema:
{
  "title": "string or null",
  "description": "string or null",
  "date": "YYYY-MM-DD or null",
  "startTime": "HH:MM or null",
  "endTime": "HH:MM or null",
  "location": "string or null",
  "roles": [
    {
      "roleLabel": "string",
      "slotsBrother": 0,
      "slotsSister": 0,
      "slotsFlexible": 0,
      "shiftStartTime": "HH:MM or null",
      "shiftEndTime": "HH:MM or null",
      "notes": "string or null"
    }
  ]
}

If a field cannot be determined from the text, set it to null. Always return at least an empty roles array.`;function qE(){try{const e=localStorage.getItem("settings");return e&&JSON.parse(e).openaiKey||null}catch{return null}}function zB(){return!!qE()}async function VB(e){var a,l,c,d;const t=qE();if(!t)throw new Error("No OpenAI API key configured. Go to Settings > Integrations to add your key.");const r=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({model:"gpt-4o-mini",response_format:{type:"json_object"},messages:[{role:"system",content:BB},{role:"user",content:e}],temperature:.3,max_tokens:2e3})});if(!r.ok){const u=await r.json().catch(()=>({})),m=((a=u==null?void 0:u.error)==null?void 0:a.message)||`OpenAI API error: ${r.status}`;throw new Error(m)}const o=(d=(c=(l=(await r.json()).choices)==null?void 0:l[0])==null?void 0:c.message)==null?void 0:d.content;if(!o)throw new Error("No response from OpenAI");const i=JSON.parse(o);return{title:i.title||void 0,description:i.description||void 0,date:i.date||void 0,startTime:i.startTime||void 0,endTime:i.endTime||void 0,location:i.location||void 0,roles:(i.roles||[]).map(u=>({roleLabel:u.roleLabel||"Untitled Role",slotsBrother:Math.max(0,parseInt(u.slotsBrother)||0),slotsSister:Math.max(0,parseInt(u.slotsSister)||0),slotsFlexible:Math.max(0,parseInt(u.slotsFlexible)||0),shiftStartTime:u.shiftStartTime||void 0,shiftEndTime:u.shiftEndTime||void 0,notes:u.notes||void 0}))}}const WB=({onEventParsed:e,disabled:t=!1})=>{const r=Fr(),[n,o]=h.useState(!1),[i,a]=h.useState(""),[l,c]=h.useState(!1),[d,u]=h.useState(null),[m,p]=h.useState(null),f=async()=>{if(i.trim()){p(null),u(null),c(!0);try{const v=await VB(i.trim());u(v)}catch(v){p(v.message||"Failed to parse event details")}finally{c(!1)}}},y=()=>{d&&(e(d),u(null),a(""),o(!1),Oe({title:"Event details applied!",description:`Filled in ${d.title?"event info":"details"}${d.roles.length>0?` and ${d.roles.length} volunteer roles`:""}.`}))},g=zB();return s.jsxs(Te,{className:"border-white/10 bg-white/5 overflow-hidden",children:[s.jsxs("button",{onClick:()=>o(!n),className:"w-full flex items-center justify-between px-4 py-3 hover:bg-white/5 transition-colors",disabled:t,children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gold-400/10 flex items-center justify-center",children:s.jsx(kO,{className:"w-4 h-4 text-gold-400"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-sm font-semibold text-foreground",children:"Generate from text"}),s.jsx("div",{className:"text-xs text-white/40",children:"Paste event details and let AI fill the form"})]})]}),n?s.jsx(Yo,{className:"w-4 h-4 text-white/30"}):s.jsx(Hr,{className:"w-4 h-4 text-white/30"})]}),n&&s.jsx(Ie,{className:"pt-0 pb-4 px-4 space-y-4",children:g?s.jsxs(s.Fragment,{children:[s.jsx(un,{value:i,onChange:v=>{a(v.target.value),u(null),p(null)},placeholder:`Paste or type your event details here...

Example: "Iftar dinner on March 15 from 6-9pm at the community center. Need 5 greeters, 3 food servers, 2 parking attendants"`,rows:4,className:"text-sm resize-none border-white/10 focus-visible:ring-gold-400 rounded-xl",disabled:l}),m&&s.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-3 flex items-start gap-2",children:[s.jsx(di,{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-300",children:m})]}),d&&s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 space-y-3",children:[s.jsx("div",{className:"text-xs font-semibold text-white/40 uppercase tracking-wider",children:"Preview"}),d.title&&s.jsx("div",{className:"text-base font-semibold text-foreground",children:d.title}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.date&&s.jsxs(ve,{variant:"secondary",className:"bg-white/5 text-white/60 border-0 gap-1.5",children:[s.jsx(Dt,{className:"w-3 h-3"}),d.date]}),(d.startTime||d.endTime)&&s.jsxs(ve,{variant:"secondary",className:"bg-white/5 text-white/60 border-0 gap-1.5",children:[s.jsx(wr,{className:"w-3 h-3"}),d.startTime||"?"," - ",d.endTime||"?"]}),d.location&&s.jsxs(ve,{variant:"secondary",className:"bg-white/5 text-white/60 border-0 gap-1.5",children:[s.jsx(qn,{className:"w-3 h-3"}),d.location]})]}),d.description&&s.jsx("p",{className:"text-sm text-white/50",children:d.description}),d.roles.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-semibold text-white/40 uppercase tracking-wider",children:[s.jsx(At,{className:"w-3 h-3"}),d.roles.length," ",d.roles.length===1?"Role":"Roles"]}),s.jsx("div",{className:"space-y-1.5",children:d.roles.map((v,w)=>s.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg px-3 py-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:v.roleLabel}),s.jsxs("span",{className:"text-xs text-white/40",children:[v.slotsBrother+v.slotsSister+v.slotsFlexible," needed"]})]},w))})]}),s.jsxs(W,{onClick:y,className:"w-full h-11 bg-gold-400 hover:bg-gold-300 text-navy-800 font-semibold rounded-xl",children:[s.jsx(sc,{className:"w-4 h-4 mr-2"}),"Apply to Event"]})]}),!d&&s.jsx(W,{onClick:f,disabled:!i.trim()||l,className:"w-full h-11 bg-gold-400 hover:bg-gold-300 text-navy-800 font-semibold rounded-xl disabled:opacity-50",children:l?s.jsxs(s.Fragment,{children:[s.jsx(x1,{className:"w-4 h-4 mr-2 animate-spin"}),"Analyzing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(sc,{className:"w-4 h-4 mr-2"}),"Generate Event"]})})]}):s.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-3 flex items-start gap-3",children:[s.jsx(di,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-amber-300",children:"OpenAI API key required. Add your key in Settings to enable AI features."}),s.jsx(W,{size:"sm",variant:"outline",onClick:()=>r("/settings"),className:"border-amber-500/20 text-amber-300 hover:bg-amber-500/10 text-xs",children:"Go to Settings"})]})]})})]})},HB=({details:e,onDetailsChange:t,isExpanded:r,onToggleExpand:n,disabled:o=!1})=>r?s.jsxs(Te,{className:"border-white/10",children:[s.jsxs(Lt,{children:[s.jsxs(Ft,{className:"flex items-center justify-between text-foreground",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Af,{className:"w-5 h-5"}),s.jsx("span",{children:"Enhanced Event Details"})]}),s.jsx(W,{onClick:()=>n(!1),variant:"ghost",size:"sm",className:"text-gold-400",disabled:o,children:"Skip for now"})]}),s.jsx("p",{className:"text-sm text-gold-400",children:"These optional details help provide better suggestions for volunteer roles and event planning."})]}),s.jsx(Ie,{className:"space-y-6",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Af,{className:"w-8 h-8 text-white/30"})}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Enhanced Details Not Available"}),s.jsx("p",{className:"text-white/50",children:"Marketing level, age groups, tone, and expected attendance are not available for templates. These fields can be configured when creating individual events."})]})})]}):s.jsx(Te,{className:"border-white/10 bg-gold-400/10",children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gold-400/15 rounded-lg flex items-center justify-center",children:s.jsx(Af,{className:"w-5 h-5 text-gold-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-foreground",children:"Enhanced Event Details"}),s.jsx("p",{className:"text-sm text-gold-400",children:"Not available for templates"})]})]})})}),qB=({className:e="",size:t=16})=>s.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[s.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z",fill:"currentColor"}),s.jsx("path",{d:"M19 15L19.74 18.26L23 19L19.74 19.74L19 23L18.26 19.74L15 19L18.26 18.26L19 15Z",fill:"currentColor"}),s.jsx("path",{d:"M5 15L5.74 18.26L9 19L5.74 19.74L5 23L4.26 19.74L1 19L4.26 18.26L5 15Z",fill:"currentColor"})]}),GB=({tasks:e,onTasksChange:t,contacts:r,eventDate:n,eventDescription:o,disabled:i=!1})=>{const[a,l]=h.useState(!1),c=[{value:"marketing",label:"Marketing",icon:jO},{value:"supplies",label:"Supplies & Equipment",icon:_O},{value:"sponsors",label:"Sponsorships",icon:vO},{value:"logistics",label:"Logistics",icon:mO},{value:"other",label:"Other",icon:At}],d=async()=>{if(!o||!n)return;l(!0),await new Promise(T=>setTimeout(T,1500));const g=o.toLowerCase(),v=new Date(n),w=new Date(v.getTime()-7*24*60*60*1e3),x=new Date(v.getTime()-3*24*60*60*1e3),b=new Date(v.getTime()-1*24*60*60*1e3),j=[];j.push({id:crypto.randomUUID(),title:"Social Media Announcement",description:"Create and post event announcement on social media platforms",category:"marketing",dueDate:w.toISOString().split("T")[0],priority:"medium",status:"todo"}),(g.includes("food")||g.includes("meal")||g.includes("dinner")||g.includes("lunch")||g.includes("iftar")||g.includes("breakfast"))&&(j.push({id:crypto.randomUUID(),title:"Food Quantity Planning",description:"Calculate food quantities based on expected attendance",category:"logistics",dueDate:w.toISOString().split("T")[0],priority:"high",status:"todo"}),j.push({id:crypto.randomUUID(),title:"Catering/Food Procurement",description:"Arrange catering or purchase ingredients for meal preparation",category:"supplies",dueDate:x.toISOString().split("T")[0],priority:"high",status:"todo"})),j.push({id:crypto.randomUUID(),title:"Venue Setup Planning",description:"Plan table arrangements, decorations, and equipment placement",category:"logistics",dueDate:x.toISOString().split("T")[0],priority:"medium",status:"todo"}),j.push({id:crypto.randomUUID(),title:"Equipment Check",description:"Verify all needed equipment is available (microphones, projectors, etc.)",category:"supplies",dueDate:b.toISOString().split("T")[0],priority:"medium",status:"todo"}),(g.includes("prayer")||g.includes("maghrib")||g.includes("islamic")||g.includes("quran"))&&j.push({id:crypto.randomUUID(),title:"Prayer Time Coordination",description:"Confirm prayer times and arrange prayer space setup",category:"logistics",dueDate:b.toISOString().split("T")[0],priority:"high",status:"todo"}),(g.includes("family")||g.includes("children")||g.includes("kids"))&&j.push({id:crypto.randomUUID(),title:"Children's Activity Preparation",description:"Prepare games, activities, and supervision plan for children",category:"supplies",dueDate:x.toISOString().split("T")[0],priority:"medium",status:"todo"}),(g.includes("fundraising")||g.includes("sponsor"))&&j.push({id:crypto.randomUUID(),title:"Sponsor Outreach",description:"Contact potential sponsors and arrange sponsorship agreements",category:"sponsors",dueDate:w.toISOString().split("T")[0],priority:"low",status:"todo"}),t([...e,...j]),l(!1)},u=()=>{const g={id:crypto.randomUUID(),title:"",description:"",category:"other",dueDate:n,priority:"medium",status:"todo"};t([...e,g])},m=(g,v)=>{t(e.map(w=>w.id===g?{...w,...v}:w))},p=g=>{t(e.filter(v=>v.id!==g))},f=g=>{const v=c.find(x=>x.value===g),w=(v==null?void 0:v.icon)||At;return s.jsx(w,{className:"w-4 h-4"})},y=g=>{switch(g){case"high":return"bg-red-500/15 text-red-400";case"medium":return"bg-gold-400/15 text-foreground";case"low":return"bg-emerald-500/15 text-emerald-300";default:return"bg-white/10 text-foreground"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Pre-Event Task Planning"}),s.jsx("p",{className:"text-gold-400 text-sm",children:"Create and assign tasks needed before your event. Add tasks manually or use AI suggestions."})]}),e.length===0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gold-400",children:[s.jsx(At,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Pre-Event Tasks"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs(W,{onClick:u,variant:"default",className:"bg-gold-500 hover:bg-gold-200 text-white",disabled:i,children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),"Add Task Manually"]}),s.jsxs(W,{onClick:d,variant:"outline",className:"border-gold-400 text-gold-300 hover:bg-gold-400/10",disabled:!o||!n||a||i,children:[s.jsx(qB,{className:"w-4 h-4 mr-2"}),a?"Generating...":"Get AI Suggestions"]})]})]})]}),a&&s.jsxs("div",{className:"text-center py-6",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-gold-500 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-gold-300",children:"Generating recommended tasks based on your event..."})]}),e.length>0&&s.jsx("div",{className:"space-y-4",children:e.map(g=>s.jsx(Te,{className:"overflow-hidden bg-white/5 border-white/10",children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{className:"text-gold-300",children:"Task Title"}),s.jsx(he,{value:g.title,onChange:v=>m(g.id,{title:v.target.value}),placeholder:"Task title",className:"w-full border-white/10 focus-visible:ring-gold-400/50",disabled:i})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{className:"text-gold-300",children:"Category"}),s.jsxs(vs,{value:g.category,onValueChange:v=>m(g.id,{category:v}),disabled:i,children:[s.jsx(Gn,{className:"border-white/10",children:s.jsx(xs,{})}),s.jsx(Yn,{children:c.map(v=>s.jsx(br,{value:v.value,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(v.icon,{className:"w-4 h-4"}),s.jsx("span",{children:v.label})]})},v.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{className:"text-gold-300",children:"Due Date"}),s.jsx(he,{type:"date",value:g.dueDate,onChange:v=>m(g.id,{dueDate:v.target.value}),className:"border-white/10 focus-visible:ring-gold-400/50",disabled:i})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{className:"text-gold-300",children:"Priority"}),s.jsxs(vs,{value:g.priority,onValueChange:v=>m(g.id,{priority:v}),disabled:i,children:[s.jsx(Gn,{className:"border-white/10",children:s.jsx(xs,{})}),s.jsxs(Yn,{children:[s.jsx(br,{value:"high",children:"High"}),s.jsx(br,{value:"medium",children:"Medium"}),s.jsx(br,{value:"low",children:"Low"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{className:"text-gold-300",children:"Assignee (Optional)"}),s.jsxs(vs,{value:g.assigneeId||"",onValueChange:v=>m(g.id,{assigneeId:v}),disabled:i,children:[s.jsx(Gn,{className:"border-white/10",children:s.jsx(xs,{placeholder:"Select assignee"})}),s.jsx(Yn,{children:r.map(v=>s.jsx(br,{value:v.id,children:v.name},v.id))})]})]}),s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[f(g.category),s.jsx(ve,{className:y(g.priority),children:g.priority})]}),s.jsx(W,{size:"sm",variant:"outline",onClick:()=>p(g.id),className:"border-white/10 hover:border-white/15 hover:bg-red-500/10 text-red-400",disabled:i,children:s.jsx(Gr,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{className:"text-gold-300",children:"Description"}),s.jsx(un,{value:g.description,onChange:v=>m(g.id,{description:v.target.value}),placeholder:"Task description and requirements",rows:2,className:"border-white/10 focus-visible:ring-gold-400/50",disabled:i})]})]})})},g.id))}),s.jsxs(W,{variant:"outline",onClick:u,className:"w-full border-white/10 text-foreground hover:bg-gold-400/10",disabled:i,children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),"Add Custom Task"]}),e.length>0&&s.jsx(Te,{className:"bg-gold-400/10 border-white/10",children:s.jsxs(Ie,{className:"p-4",children:[s.jsx("h4",{className:"font-medium mb-2 text-foreground",children:"Task Summary"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gold-400",children:"Total Tasks:"}),s.jsx("div",{className:"font-semibold text-foreground",children:e.length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gold-400",children:"High Priority:"}),s.jsx("div",{className:"font-semibold text-red-400",children:e.filter(g=>g.priority==="high").length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gold-400",children:"Assigned:"}),s.jsx("div",{className:"font-semibold text-emerald-400",children:e.filter(g=>g.assigneeId).length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gold-400",children:"Categories:"}),s.jsx("div",{className:"font-semibold text-foreground",children:new Set(e.map(g=>g.category)).size})]})]})]})})]})},zh=()=>{const[e,t]=h.useState([]),[r,n]=h.useState(!1),[o,i]=h.useState(null);h.useEffect(()=>{(async()=>{const{data:{user:v}}=await K.auth.getUser();console.log("useEventTemplates: Got user:",v?{id:v.id,email:v.email}:null),i(v)})()},[]);const a=h.useCallback(async()=>{if(o){n(!0);try{const{data:g,error:v}=await K.from("event_templates").select("*").or(`user_id.eq.${o.id},is_public.eq.true`).is("deleted_at",null).order("created_at",{ascending:!1});if(v)throw v;t(g||[])}catch(g){console.error("Error loading templates:",g),Oe({title:"Error",description:"Failed to load templates.",variant:"destructive"})}finally{n(!1)}}},[o]),l=h.useCallback(async g=>{try{const{data:v,error:w}=await K.from("event_template_details").select("*").eq("template_id",g).single();if(w&&w.code!=="PGRST116")throw w;const{data:x,error:b}=await K.from("event_template_itineraries").select("*").eq("template_id",g).order("time_slot");if(b)throw b;const{data:j,error:T}=await K.from("event_template_volunteer_roles").select("*").eq("template_id",g);if(T)throw T;const{data:S,error:N}=await K.from("event_template_pre_event_tasks").select("*").eq("template_id",g).order("due_date_offset_days",{ascending:!1});if(N)throw N;const{data:E,error:R}=await K.from("event_templates").select("*").eq("id",g).single();if(R)throw R;return{...E,details:v||void 0,itineraries:x||[],volunteer_roles:j||[],pre_event_tasks:S||[]}}catch(v){return console.error("Error loading template details:",v),Oe({title:"Error",description:"Failed to load template details.",variant:"destructive"}),null}},[]),c=h.useCallback(async g=>{if(!o)return null;try{const{data:v,error:w}=await K.from("event_templates").insert({name:g.name,description:g.description,user_id:o.id,is_public:g.is_public}).select().single();if(w)throw w;const x=v.id;if(g.details){const{error:b}=await K.from("event_template_details").insert({...g.details,template_id:x});if(b)throw b}if(g.itineraries.length>0){const{error:b}=await K.from("event_template_itineraries").insert(g.itineraries.map(j=>({...j,template_id:x})));if(b)throw b}if(g.volunteer_roles.length>0){const{error:b}=await K.from("event_template_volunteer_roles").insert(g.volunteer_roles.map(j=>({...j,template_id:x})));if(b)throw b}if(g.pre_event_tasks.length>0){const{error:b}=await K.from("event_template_pre_event_tasks").insert(g.pre_event_tasks.map(j=>({...j,template_id:x})));if(b)throw b}return Oe({title:"Success",description:"Template created successfully."}),await a(),x}catch(v){return console.error("Error creating template:",v),Oe({title:"Error",description:"Failed to create template.",variant:"destructive"}),null}},[o,a]),d=h.useCallback(async(g,v)=>{if(!o)return!1;try{const{error:w}=await K.from("event_templates").update({name:v.name,description:v.description,is_public:v.is_public}).eq("id",g);if(w)throw console.error("Template update error:",w),w;if(await K.from("event_template_details").delete().eq("template_id",g),await K.from("event_template_itineraries").delete().eq("template_id",g),await K.from("event_template_volunteer_roles").delete().eq("template_id",g),await K.from("event_template_pre_event_tasks").delete().eq("template_id",g),v.details){const{error:x}=await K.from("event_template_details").insert({...v.details,template_id:g});if(x)throw x}if(v.itineraries.length>0){const{error:x}=await K.from("event_template_itineraries").insert(v.itineraries.map(b=>({...b,template_id:g})));if(x)throw x}if(v.volunteer_roles.length>0){const{error:x}=await K.from("event_template_volunteer_roles").insert(v.volunteer_roles.map(b=>({...b,template_id:g})));if(x)throw x}if(v.pre_event_tasks.length>0){const{error:x}=await K.from("event_template_pre_event_tasks").insert(v.pre_event_tasks.map(b=>({...b,template_id:g})));if(x)throw x}return Oe({title:"Success",description:"Template updated successfully."}),await a(),!0}catch(w){return console.error("Error updating template:",w),Oe({title:"Error",description:"Failed to update template.",variant:"destructive"}),!1}},[o,a]),u=h.useCallback(async g=>{try{const{error:v}=await K.from("event_templates").delete().eq("id",g);if(v)throw v;Oe({title:"Success",description:"Template deleted successfully."}),await a()}catch(v){console.error("Error deleting template:",v),Oe({title:"Error",description:"Failed to delete template.",variant:"destructive"})}},[a]),m=h.useCallback(async()=>{if(!o)return[];try{const{data:g,error:v}=await K.from("event_templates").select("*").eq("user_id",o.id).not("deleted_at","is",null).order("deleted_at",{ascending:!1});if(v)throw v;return g||[]}catch(g){return console.error("Error loading deleted templates:",g),Oe({title:"Error",description:"Failed to load deleted templates.",variant:"destructive"}),[]}},[o]),p=h.useCallback(async g=>{if(!o)return!1;try{const{error:v}=await K.rpc("soft_delete_event_template",{template_id:g,user_uuid:o.id});if(v)throw console.error("Supabase RPC error:",v),v;return Oe({title:"Success",description:"Template moved to recently deleted."}),await a(),!0}catch(v){return console.error("Error soft deleting template:",v),Oe({title:"Error",description:"Failed to move template to recently deleted.",variant:"destructive"}),!1}},[o,a]),f=h.useCallback(async g=>{if(!o)return!1;try{const{error:v}=await K.rpc("restore_event_template",{template_id:g,user_uuid:o.id});if(v)throw v;return Oe({title:"Success",description:"Template restored successfully."}),await a(),!0}catch(v){return console.error("Error restoring template:",v),Oe({title:"Error",description:"Failed to restore template.",variant:"destructive"}),!1}},[o,a]),y=h.useCallback(async g=>{try{const{error:v}=await K.from("event_templates").delete().eq("id",g);if(v)throw v;return Oe({title:"Success",description:"Template permanently deleted."}),!0}catch(v){return console.error("Error permanently deleting template:",v),Oe({title:"Error",description:"Failed to permanently delete template.",variant:"destructive"}),!1}},[]);return h.useEffect(()=>{o&&a()},[o,a]),{templates:e,isLoading:r,loadTemplates:a,loadTemplateDetails:l,createTemplate:c,updateTemplate:d,deleteTemplate:u,softDeleteTemplate:p,restoreTemplate:f,permanentlyDeleteTemplate:y,loadDeletedTemplates:m,currentUser:o}};function ob({onTemplateSelect:e,disabled:t=!1,compact:r=!1}){var E,R,P;const{templates:n,isLoading:o,loadTemplateDetails:i}=zh(),[a,l]=h.useState(null),[c,d]=h.useState(!1),[u,m]=h.useState("all"),[p,f]=h.useState(null),[y,g]=h.useState(null),v=async _=>{l(_),d(!1),e(_)},w=async _=>{f(_);const O=await i(_);O&&v(O),f(null)},x=async _=>{const O=await i(_);O&&l(O)},b=_=>{const O=_.toLowerCase(),M="h-5 w-5 text-gold-400";return O.includes("jummah")||O.includes("friday")?s.jsx(Dt,{className:M}):O.includes("workshop")||O.includes("educational")||O.includes("class")?s.jsx(fO,{className:M}):O.includes("social")||O.includes("gathering")||O.includes("community")?s.jsx(At,{className:M}):O.includes("fundrais")||O.includes("charity")?s.jsx(v1,{className:M}):O.includes("reviv")||O.includes("spiritual")||O.includes("ruh")?s.jsx(sc,{className:M}):O.includes("meeting")?s.jsx(y1,{className:M}):s.jsx(fy,{className:M})},j=_=>_.is_public?{icon:s.jsx(vv,{className:"h-3 w-3"}),label:"Public"}:_.user_id==="00000000-0000-0000-0000-000000000000"?{icon:s.jsx(Su,{className:"h-3 w-3"}),label:"System"}:{icon:s.jsx(TO,{className:"h-3 w-3"}),label:"Custom"},T=n.filter(_=>u==="all"?!0:u==="public"?_.is_public:u==="system"?_.user_id==="00000000-0000-0000-0000-000000000000":u==="custom"?!_.is_public&&_.user_id!=="00000000-0000-0000-0000-000000000000":!0),S=_=>{if(!_)return"";const[O,M]=_.split(":"),A=parseInt(O),H=A>=12?"PM":"AM";return`${A>12?A-12:A===0?12:A}:${M} ${H}`},N=[{key:"all",label:"All"},{key:"public",label:"Public"},{key:"custom",label:"Custom"},{key:"system",label:"System"}];return s.jsxs("div",{className:r?"":"space-y-4",children:[s.jsxs("div",{className:te("flex items-center justify-between gap-4",""),children:[!r&&s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Event Templates"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose a template to quickly set up your event"})]}),s.jsxs(fr,{open:c,onOpenChange:d,children:[s.jsx(tx,{asChild:!0,children:s.jsxs(W,{variant:"outline",disabled:t||o,className:te("flex items-center gap-2 whitespace-nowrap flex-shrink-0",r?"h-9 border-white/15 text-white/70 bg-white/5 shadow-sm":""),children:[s.jsx(En,{className:"h-4 w-4"}),"Browse Templates"]})}),s.jsxs(nr,{className:"max-w-lg w-[92vw] sm:w-full max-h-[85vh] overflow-hidden flex flex-col p-0 rounded-3xl gap-0 border-white/10",children:[s.jsxs(sr,{className:"border-b border-white/10 px-4 py-4 flex-shrink-0",children:[s.jsx(or,{className:"text-xl font-bold text-gold-300",children:"Select Event Template"}),s.jsx(ir,{className:"text-xs text-gold-400 mt-1",children:"Choose a template to get started quickly"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 min-w-0",children:[s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-4 -mx-1 px-1 scrollbar-hide",children:N.map(_=>s.jsx("button",{onClick:()=>m(_.key),className:te("flex-shrink-0 px-3.5 py-1.5 rounded-full text-sm font-medium transition-all duration-200",u===_.key?"bg-gold-400 text-navy-800 shadow-sm":"bg-white/5 text-white/60 hover:bg-gold-400/10"),children:_.label},_.key))}),s.jsxs("div",{className:"grid gap-3",children:[T.map(_=>{var q;const O=j(_),M=y===_.id,H=(((q=_.description)==null?void 0:q.length)||0)>80;return s.jsxs(Te,{className:"group relative cursor-pointer transition-all duration-200 active:scale-[0.98] hover:shadow-md border-0 bg-white/5/50 shadow-sm rounded-3xl min-w-0",children:[s.jsx("div",{className:"absolute top-4 right-4 z-10",children:s.jsxs(ve,{variant:"secondary",className:"flex items-center gap-1 text-[10px] px-2.5 py-1 bg-white/80 backdrop-blur-sm shadow-sm rounded-full",children:[O.icon,O.label]})}),s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-2xl bg-white/5 flex items-center justify-center shadow-sm",children:b(_.name)}),s.jsxs("div",{className:"flex-1 min-w-0 pr-14",children:[s.jsx("h4",{className:"font-semibold text-lg text-gold-300 truncate leading-tight mb-1",children:_.name}),_.description&&s.jsxs("div",{className:"",children:[s.jsx("p",{className:te("text-sm text-white/50 leading-relaxed",!M&&"line-clamp-2"),children:_.description}),H&&s.jsx("button",{onClick:I=>{I.stopPropagation(),g(M?null:_.id)},className:"flex items-center gap-0.5 text-xs font-medium text-gold-400 hover:text-gold-300 mt-1.5 transition-colors",children:M?s.jsxs(s.Fragment,{children:["Show less ",s.jsx(Yo,{className:"h-3 w-3"})]}):s.jsxs(s.Fragment,{children:["Show more ",s.jsx(Hr,{className:"h-3 w-3"})]})})]})]})]}),s.jsxs("div",{className:"mt-5 flex flex-col gap-2",children:[s.jsx(W,{className:"w-full h-12 font-semibold shadow-sm hover:shadow-md transition-all rounded-2xl text-base",disabled:p===_.id,onClick:()=>w(_.id),children:p===_.id?s.jsxs(s.Fragment,{children:[s.jsx(x1,{className:"h-4 w-4 animate-spin mr-2"}),"Loading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Use Template"]})}),s.jsx("button",{onClick:I=>{I.stopPropagation(),x(_.id)},className:"text-sm font-medium text-white/40 hover:text-white/70 text-center py-2 transition-colors",children:"Preview details"})]})]})]},_.id)}),T.length===0&&s.jsxs("div",{className:"text-center py-8 text-gold-400",children:[s.jsx(fy,{className:"h-12 w-12 mx-auto mb-3 opacity-40"}),s.jsx("p",{className:"text-sm",children:"No templates found for this filter"})]})]})]}),s.jsx("div",{className:"flex-shrink-0 border-t border-white/10 bg-gradient-to-t from-navy-800 via-navy-800 to-navy-800/95 px-4 py-3",children:s.jsx("button",{onClick:()=>d(!1),className:"w-full py-2.5 text-center text-sm font-medium text-gold-400 hover:text-gold-300 transition-colors rounded-xl hover:bg-white/5",children:"Continue without template"})})]})]})]}),a&&(r?s.jsxs("div",{className:"w-full mt-2 flex items-center justify-between gap-3 px-4 py-3 bg-white/10 rounded-2xl border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-3 overflow-hidden min-w-0",children:[s.jsx(ve,{variant:"outline",className:"bg-white/5 shrink-0 text-xs font-semibold border-white/15",children:"Selected"}),s.jsx("span",{className:"font-medium text-sm text-foreground truncate",children:a.name})]}),s.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>l(null),className:"h-8 w-8 p-0 rounded-full hover:bg-white/15 shrink-0",children:[s.jsx("span",{className:"sr-only",children:"Clear"}),s.jsx(Hr,{className:"h-4 w-4 rotate-180 text-white/40"})]})]}):s.jsxs(Te,{className:"border-2 border-primary/20 bg-primary/5 mt-4",children:[s.jsx("div",{className:"p-4 pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(En,{className:"h-5 w-5 text-primary"}),s.jsxs("h4",{className:"text-base font-semibold",children:["Selected: ",a.name]})]}),s.jsx(W,{variant:"ghost",size:"sm",onClick:()=>l(null),className:"h-8 px-3 text-xs",children:"Clear"})]})}),s.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[a.details&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(qn,{className:"h-4 w-4 text-gold-400"}),s.jsx("span",{className:"font-medium text-white/60",children:"Location:"}),s.jsx("span",{className:"text-gold-400",children:a.details.location})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(wr,{className:"h-4 w-4 text-gold-400"}),s.jsx("span",{className:"font-medium text-white/60",children:"SMS Times:"}),s.jsxs("span",{className:"text-gold-400",children:[S(a.details.day_before_time)," / ",S(a.details.day_of_time)]})]}),a.details.marketing_level&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(At,{className:"h-4 w-4 text-gold-400"}),s.jsx("span",{className:"font-medium text-white/60",children:"Marketing:"}),s.jsx(ve,{variant:"outline",className:"capitalize text-xs px-2 py-0.5",children:a.details.marketing_level})]})]}),s.jsxs("div",{className:"space-y-2",children:[a.details.tone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Su,{className:"h-4 w-4 text-gold-400"}),s.jsx("span",{className:"font-medium text-white/60",children:"Tone:"}),s.jsx(ve,{variant:"outline",className:"capitalize text-xs px-2 py-0.5",children:a.details.tone})]}),a.details.age_groups&&a.details.age_groups.length>0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm flex-wrap",children:[s.jsx(At,{className:"h-4 w-4 text-gold-400"}),s.jsx("span",{className:"font-medium text-white/60",children:"Age Groups:"}),s.jsx("div",{className:"flex gap-1 flex-wrap",children:a.details.age_groups.map((_,O)=>s.jsx(ve,{variant:"secondary",className:"text-xs px-2 py-0.5",children:_.replace("_"," ")},O))})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(At,{className:"h-4 w-4 text-gold-400"}),s.jsx("span",{className:"font-medium text-white/60",children:"Expected:"}),s.jsx("span",{className:"text-gold-400",children:a.details.expected_attendance})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-3 border-t border-white/10",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl font-bold text-primary",children:((E=a.itineraries)==null?void 0:E.length)||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Itinerary Items"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl font-bold text-primary",children:((R=a.volunteer_roles)==null?void 0:R.length)||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Volunteer Roles"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl font-bold text-primary",children:((P=a.pre_event_tasks)==null?void 0:P.length)||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Pre-Event Tasks"})]})]})]})]}))]})}var ym="rovingFocusGroup.onEntryFocus",YB={bubbles:!1,cancelable:!0},zc="RovingFocusGroup",[cg,GE,KB]=ch(zc),[QB,rl]=Lr(zc,[KB]),[JB,XB]=QB(zc),YE=h.forwardRef((e,t)=>s.jsx(cg.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(cg.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(ZB,{...e,ref:t})})}));YE.displayName=zc;var ZB=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=e,p=h.useRef(null),f=We(t,p),y=$c(i),[g,v]=Qn({prop:a,defaultProp:l??null,onChange:c,caller:zc}),[w,x]=h.useState(!1),b=Ir(d),j=GE(r),T=h.useRef(!1),[S,N]=h.useState(0);return h.useEffect(()=>{const E=p.current;if(E)return E.addEventListener(ym,b),()=>E.removeEventListener(ym,b)},[b]),s.jsx(JB,{scope:r,orientation:n,dir:y,loop:o,currentTabStopId:g,onItemFocus:h.useCallback(E=>v(E),[v]),onItemShiftTab:h.useCallback(()=>x(!0),[]),onFocusableItemAdd:h.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:h.useCallback(()=>N(E=>E-1),[]),children:s.jsx(ye.div,{tabIndex:w||S===0?-1:0,"data-orientation":n,...m,ref:f,style:{outline:"none",...e.style},onMouseDown:ie(e.onMouseDown,()=>{T.current=!0}),onFocus:ie(e.onFocus,E=>{const R=!T.current;if(E.target===E.currentTarget&&R&&!w){const P=new CustomEvent(ym,YB);if(E.currentTarget.dispatchEvent(P),!P.defaultPrevented){const _=j().filter(q=>q.focusable),O=_.find(q=>q.active),M=_.find(q=>q.id===g),H=[O,M,..._].filter(Boolean).map(q=>q.ref.current);JE(H,u)}}T.current=!1}),onBlur:ie(e.onBlur,()=>x(!1))})})}),KE="RovingFocusGroupItem",QE=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:i,children:a,...l}=e,c=hr(),d=i||c,u=XB(KE,r),m=u.currentTabStopId===d,p=GE(r),{onFocusableItemAdd:f,onFocusableItemRemove:y,currentTabStopId:g}=u;return h.useEffect(()=>{if(n)return f(),()=>y()},[n,f,y]),s.jsx(cg.ItemSlot,{scope:r,id:d,focusable:n,active:o,children:s.jsx(ye.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:ie(e.onMouseDown,v=>{n?u.onItemFocus(d):v.preventDefault()}),onFocus:ie(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:ie(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const w=rz(v,u.orientation,u.dir);if(w!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=p().filter(j=>j.focusable).map(j=>j.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const j=b.indexOf(v.currentTarget);b=u.loop?nz(b,j+1):b.slice(j+1)}setTimeout(()=>JE(b))}}),children:typeof a=="function"?a({isCurrentTabStop:m,hasTabStop:g!=null}):a})})});QE.displayName=KE;var ez={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tz(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function rz(e,t,r){const n=tz(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ez[n]}function JE(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function nz(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var mx=YE,px=QE,gx="Radio",[sz,XE]=Lr(gx),[oz,iz]=sz(gx),ZE=h.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:o=!1,required:i,disabled:a,value:l="on",onCheck:c,form:d,...u}=e,[m,p]=h.useState(null),f=We(t,v=>p(v)),y=h.useRef(!1),g=m?d||!!m.closest("form"):!0;return s.jsxs(oz,{scope:r,checked:o,disabled:a,children:[s.jsx(ye.button,{type:"button",role:"radio","aria-checked":o,"data-state":nk(o),"data-disabled":a?"":void 0,disabled:a,value:l,...u,ref:f,onClick:ie(e.onClick,v=>{o||c==null||c(),g&&(y.current=v.isPropagationStopped(),y.current||v.stopPropagation())})}),g&&s.jsx(rk,{control:m,bubbles:!y.current,name:n,value:l,checked:o,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});ZE.displayName=gx;var ek="RadioIndicator",tk=h.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...o}=e,i=iz(ek,r);return s.jsx(Zr,{present:n||i.checked,children:s.jsx(ye.span,{"data-state":nk(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t})})});tk.displayName=ek;var az="RadioBubbleInput",rk=h.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...o},i)=>{const a=h.useRef(null),l=We(a,i),c=rx(r),d=Cv(t);return h.useEffect(()=>{const u=a.current;if(!u)return;const m=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&f){const y=new Event("click",{bubbles:n});f.call(u,r),u.dispatchEvent(y)}},[c,r,n]),s.jsx(ye.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:l,style:{...o.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});rk.displayName=az;function nk(e){return e?"checked":"unchecked"}var lz=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Vh="RadioGroup",[cz]=Lr(Vh,[rl,XE]),sk=rl(),ok=XE(),[dz,uz]=cz(Vh),ik=h.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:o,value:i,required:a=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:m,...p}=e,f=sk(r),y=$c(d),[g,v]=Qn({prop:i,defaultProp:o??null,onChange:m,caller:Vh});return s.jsx(dz,{scope:r,name:n,required:a,disabled:l,value:g,onValueChange:v,children:s.jsx(mx,{asChild:!0,...f,orientation:c,dir:y,loop:u,children:s.jsx(ye.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...p,ref:t})})})});ik.displayName=Vh;var ak="RadioGroupItem",lk=h.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...o}=e,i=uz(ak,r),a=i.disabled||n,l=sk(r),c=ok(r),d=h.useRef(null),u=We(t,d),m=i.value===o.value,p=h.useRef(!1);return h.useEffect(()=>{const f=g=>{lz.includes(g.key)&&(p.current=!0)},y=()=>p.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",y)}},[]),s.jsx(px,{asChild:!0,...l,focusable:!a,active:m,children:s.jsx(ZE,{disabled:a,required:i.required,checked:m,...c,...o,name:i.name,ref:u,onCheck:()=>i.onValueChange(o.value),onKeyDown:ie(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:ie(o.onFocus,()=>{var f;p.current&&((f=d.current)==null||f.click())})})})});lk.displayName=ak;var hz="RadioGroupIndicator",ck=h.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,o=ok(r);return s.jsx(tk,{...o,...n,ref:t})});ck.displayName=hz;var dk=ik,uk=lk,fz=ck;const hk=h.forwardRef(({className:e,...t},r)=>s.jsx(dk,{className:te("grid gap-2",e),...t,ref:r}));hk.displayName=dk.displayName;const dg=h.forwardRef(({className:e,...t},r)=>s.jsx(uk,{ref:r,className:te("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(fz,{className:"flex items-center justify-center",children:s.jsx(g1,{className:"h-2.5 w-2.5 fill-current text-current"})})}));dg.displayName=uk.displayName;function mz({eventData:e,itinerary:t,additionalDetails:r,preEventTasks:n,disabled:o=!1,sourceTemplateId:i,sourceTemplateName:a}){var M,A;const l=H=>{if(!H)return"";const[q,I]=H.split(":").map(Number),D=q%12||12,$=q>=12?"PM":"AM";return`${D}:${I.toString().padStart(2,"0")} ${$}`},{createTemplate:c,updateTemplate:d,currentUser:u,templates:m,loadTemplates:p}=zh(),[f,y]=h.useState(!1),[g,v]=h.useState(!1),[w,x]=h.useState("new"),[b,j]=h.useState(!1),[T,S]=h.useState(""),[N,E]=h.useState({name:"",description:"",is_public:!0});h.useEffect(()=>{i&&a&&(E(H=>({...H,name:a,description:`Updated version of ${a}`})),x("override"),S(i))},[i,a]),h.useEffect(()=>{f&&(p(),i&&a?(E({name:a,description:`Updated version of ${a}`,is_public:!0}),x("override"),S(i)):(E({name:"",description:"",is_public:!0}),x("new"),S("")),j(!1))},[f,i,a,p]);const R=async()=>{if(N.name.trim()){if(w==="override"&&!b){j(!0);return}v(!0);try{const H={name:N.name,description:N.description,is_public:N.is_public,details:{title:e.title||"Event Template",description:e.description||"",location:e.location||"",sms_enabled:e.smsEnabled||!1,day_before_time:e.dayBeforeTime||"19:00",day_of_time:e.dayOfTime||"15:00"},itineraries:t.map(I=>({time_slot:I.time,activity:I.title,description:I.description||"",duration_minutes:30})),volunteer_roles:t.flatMap(I=>(I.volunteerRoles||[]).map(D=>{var $;return{role_label:D.roleLabel,shift_start:D.shiftStartTime,shift_end:D.shiftEndTime,slots_brother:D.slotsBrother,slots_sister:D.slotsSister,slots_flexible:D.slotsFlexible||0,suggested_poc:(($=D.suggestedPOC)==null?void 0:$[0])||"",notes:D.notes||""}})),pre_event_tasks:n.map(I=>({task_description:I.title||I.task_description||I.description||"",assigned_to:Array.isArray(I.assignedTo)?I.assignedTo[0]||"":I.assignedTo||"",due_date_offset_days:I.dueDateOffsetDays||0,status:I.status||"pending"}))};let q=!1;if(w==="override"&&T)q=await d(T,H),q&&console.log("Template updated successfully:",T);else{const I=await c(H);q=!!I,q&&console.log("Template created successfully with ID:",I)}if(q)y(!1),E({name:"",description:"",is_public:!1}),x("new"),j(!1),console.log("Template saved successfully");else throw new Error(`Failed to ${w==="override"?"update":"create"} template`)}catch(H){console.error("Error saving template:",H),alert(`Failed to save template: ${H instanceof Error?H.message:"Unknown error"}`)}finally{v(!1)}}},P=()=>e.title||e.location||e.description||t.length>0||n.length>0,_=()=>{const H=N.name.trim(),q=P(),$=w==="override"&&(w==="override"?T&&H&&q:!0)||w==="new"&&(w==="new"?H&&q:!0);return console.log("SaveAsTemplate canSaveTemplate check:",{hasTemplateName:H,hasEventData:q,saveMode:w,selectedTemplateId:T,templateName:N.name,eventTitle:e.title,eventLocation:e.location,eventDescription:e.description,itineraryLength:t.length,preEventTasksLength:n.length,canSave:$,disabled:o,currentUser:u?"available":"not available"}),$},O=H=>{H||(j(!1),x("new")),y(H)};return s.jsxs(fr,{open:f,onOpenChange:O,children:[s.jsx(tx,{asChild:!0,children:s.jsxs(W,{variant:"outline",disabled:o||!P(),className:"flex items-center gap-2",children:[s.jsx(_u,{className:"h-4 w-4"}),"Save as Template"]})}),s.jsxs(nr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(sr,{children:[s.jsxs(or,{className:"flex items-center gap-2",children:[s.jsx(En,{className:"h-5 w-5"}),"Save Event as Template"]}),s.jsx(ir,{children:"Save your current event configuration as a reusable template for future events. You can create a new template or update an existing one."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3 p-4 bg-background border border-white/10 rounded-lg",children:[s.jsx(re,{className:"text-sm font-medium text-white/70",children:"Save Mode"}),s.jsxs(hk,{value:w,onValueChange:H=>x(H),children:[s.jsxs("div",{className:"flex items-center space-x-2 p-2 hover:bg-white rounded",children:[s.jsx(dg,{value:"override",id:"override"}),s.jsxs(re,{htmlFor:"override",className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx(If,{className:"h-4 w-4 text-blue-600"}),"Update existing template"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-2 hover:bg-white rounded",children:[s.jsx(dg,{value:"new",id:"new"}),s.jsxs(re,{htmlFor:"new",className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx(jr,{className:"h-4 w-4 text-emerald-400"}),"Create new template"]})]})]}),s.jsx("p",{className:"text-xs text-white/50 bg-white p-2 rounded border",children:w==="override"?"This will replace the existing template with your current changes.":"This will create a new template, leaving the original unchanged."})]}),w==="override"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"template-select",children:"Select Template to Update"}),s.jsxs(vs,{value:T,onValueChange:S,children:[s.jsx(Gn,{children:s.jsx(xs,{placeholder:"Choose a template..."})}),s.jsx(Yn,{children:m.length===0?s.jsxs("div",{className:"p-4 text-center text-white/40",children:[s.jsx("p",{children:"No templates available"}),s.jsx("p",{className:"text-xs mt-1",children:"Create a template first to use this option"})]}):m.map(H=>s.jsx(br,{value:H.id,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:H.name}),H.description&&s.jsx("span",{className:"text-xs text-white/40 truncate",children:H.description})]})},H.id))})]}),T?s.jsxs("p",{className:"text-xs text-white/50 bg-background p-2 rounded border",children:["You're updating: ",s.jsx("span",{className:"font-medium",children:(M=m.find(H=>H.id===T))==null?void 0:M.name})]}):s.jsx("p",{className:"text-xs text-white/40 bg-white/5 p-2 rounded border border-white/10",children:'Please select a template to update, or switch to "Create new template" mode'})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"template-name",children:"Template Name *"}),s.jsx(he,{id:"template-name",placeholder:"e.g., Community Gathering",value:N.name,onChange:H=>E(q=>({...q,name:H.target.value}))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Give your template a descriptive name."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"template-public",children:"Visibility"}),s.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[s.jsx(fs,{id:"template-public",checked:N.is_public,onCheckedChange:H=>E(q=>({...q,is_public:H}))}),s.jsx(re,{htmlFor:"template-public",className:"text-sm",children:"Make template public"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Public templates can be used by other users."})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"template-description",children:"Description"}),s.jsx(un,{id:"template-description",placeholder:"Describe what this template is for...",value:N.description,onChange:H=>E(q=>({...q,description:H.target.value})),rows:2})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("p",{className:"font-medium mb-2",children:"This template will include:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.title&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-gold-400 rounded-full"}),'Event title: "',e.title,'"']}),e.location&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-gold-400 rounded-full"}),"Location: ",e.location]}),e.description&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-gold-400 rounded-full"}),"Event description"]}),t.length>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Itinerary: ",t.length," items"]}),t.some(H=>{var q;return((q=H.volunteerRoles)==null?void 0:q.length)>0})&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Volunteer roles: ",t.flatMap(H=>H.volunteerRoles||[]).length," roles"]}),n.length>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),"Pre-event tasks: ",n.length," tasks"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-white/30 rounded-full"}),"SMS: ",l(e.dayBeforeTime)," / ",l(e.dayOfTime)]})]}),!e.title&&!e.location&&!e.description&&t.length===0&&n.length===0&&s.jsx("p",{className:"text-amber-300 mt-2 text-center p-2 bg-amber-500/10 border border-amber-500/20 rounded",children:" No event data detected. Please add some information before saving as a template."})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(W,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsxs(W,{onClick:R,disabled:!_()||g,className:"flex items-center gap-2",children:[w==="override"?s.jsx(If,{className:"h-4 w-4"}):s.jsx(_u,{className:"h-4 w-4"}),g?"Saving...":w==="override"?"Update Template":"Save Template"]})]}),b&&s.jsx("div",{className:"mt-4 p-3 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(If,{className:"h-5 w-5 text-amber-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-medium text-amber-300 mb-2",children:"Confirm Template Update"}),s.jsxs("p",{className:"text-sm text-white/70 mb-3",children:[`You're about to update the existing template "`,(A=m.find(H=>H.id===T))==null?void 0:A.name,'". This will replace the current template with your changes. This action cannot be undone.']}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(W,{size:"sm",variant:"outline",onClick:()=>j(!1),className:"border-amber-500/20 text-amber-300 hover:bg-amber-500/15",children:"Cancel"}),s.jsx(W,{size:"sm",onClick:async()=>{j(!1),await R()},className:"bg-amber-600 hover:bg-amber-700 text-white",children:"Yes, Update Template"})]})]})]})}),!_()&&s.jsx("div",{className:"text-xs text-muted-foreground text-center",children:N.name.trim()?"Add some event data (title, location, description, itinerary, or tasks)":"Enter a template name"}),!1]})]})}var ib=1,pz=.9,gz=.8,vz=.17,wm=.1,bm=.999,xz=.9999,yz=.99,wz=/[\\\/_+.#"@\[\(\{&]/,bz=/[\\\/_+.#"@\[\(\{&]/g,jz=/[\s-]/,fk=/[\s-]/g;function ug(e,t,r,n,o,i,a){if(i===t.length)return o===e.length?ib:yz;var l=`${o},${i}`;if(a[l]!==void 0)return a[l];for(var c=n.charAt(i),d=r.indexOf(c,o),u=0,m,p,f,y;d>=0;)m=ug(e,t,r,n,d+1,i+1,a),m>u&&(d===o?m*=ib:wz.test(e.charAt(d-1))?(m*=gz,f=e.slice(o,d-1).match(bz),f&&o>0&&(m*=Math.pow(bm,f.length))):jz.test(e.charAt(d-1))?(m*=pz,y=e.slice(o,d-1).match(fk),y&&o>0&&(m*=Math.pow(bm,y.length))):(m*=vz,o>0&&(m*=Math.pow(bm,d-o))),e.charAt(d)!==t.charAt(i)&&(m*=xz)),(m<wm&&r.charAt(d-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(d-1)!==n.charAt(i))&&(p=ug(e,t,r,n,d+1,i+2,a),p*wm>m&&(m=p*wm)),m>u&&(u=m),d=r.indexOf(c,d+1);return a[l]=u,u}function ab(e){return e.toLowerCase().replace(fk," ")}function Nz(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,ug(e,t,ab(e),ab(t),0,0,{})}var yl='[cmdk-group=""]',jm='[cmdk-group-items=""]',_z='[cmdk-group-heading=""]',mk='[cmdk-item=""]',lb=`${mk}:not([aria-disabled="true"])`,hg="cmdk-item-select",Fi="data-value",Sz=(e,t,r)=>Nz(e,t,r),pk=h.createContext(void 0),Vc=()=>h.useContext(pk),gk=h.createContext(void 0),vx=()=>h.useContext(gk),vk=h.createContext(void 0),xk=h.forwardRef((e,t)=>{let r=Ui(()=>{var k,L;return{search:"",value:(L=(k=e.value)!=null?k:e.defaultValue)!=null?L:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Ui(()=>new Set),o=Ui(()=>new Map),i=Ui(()=>new Map),a=Ui(()=>new Set),l=yk(e),{label:c,children:d,value:u,onValueChange:m,filter:p,shouldFilter:f,loop:y,disablePointerSelection:g=!1,vimBindings:v=!0,...w}=e,x=hr(),b=hr(),j=hr(),T=h.useRef(null),S=Mz();gi(()=>{if(u!==void 0){let k=u.trim();r.current.value=k,N.emit()}},[u]),gi(()=>{S(6,M)},[]);let N=h.useMemo(()=>({subscribe:k=>(a.current.add(k),()=>a.current.delete(k)),snapshot:()=>r.current,setState:(k,L,z)=>{var G,X,Q,ue;if(!Object.is(r.current[k],L)){if(r.current[k]=L,k==="search")O(),P(),S(1,_);else if(k==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let fe=document.getElementById(j);fe?fe.focus():(G=document.getElementById(x))==null||G.focus()}if(S(7,()=>{var fe;r.current.selectedItemId=(fe=A())==null?void 0:fe.id,N.emit()}),z||S(5,M),((X=l.current)==null?void 0:X.value)!==void 0){let fe=L??"";(ue=(Q=l.current).onValueChange)==null||ue.call(Q,fe);return}}N.emit()}},emit:()=>{a.current.forEach(k=>k())}}),[]),E=h.useMemo(()=>({value:(k,L,z)=>{var G;L!==((G=i.current.get(k))==null?void 0:G.value)&&(i.current.set(k,{value:L,keywords:z}),r.current.filtered.items.set(k,R(L,z)),S(2,()=>{P(),N.emit()}))},item:(k,L)=>(n.current.add(k),L&&(o.current.has(L)?o.current.get(L).add(k):o.current.set(L,new Set([k]))),S(3,()=>{O(),P(),r.current.value||_(),N.emit()}),()=>{i.current.delete(k),n.current.delete(k),r.current.filtered.items.delete(k);let z=A();S(4,()=>{O(),(z==null?void 0:z.getAttribute("id"))===k&&_(),N.emit()})}),group:k=>(o.current.has(k)||o.current.set(k,new Set),()=>{i.current.delete(k),o.current.delete(k)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:x,inputId:j,labelId:b,listInnerRef:T}),[]);function R(k,L){var z,G;let X=(G=(z=l.current)==null?void 0:z.filter)!=null?G:Sz;return k?X(k,r.current.search,L):0}function P(){if(!r.current.search||l.current.shouldFilter===!1)return;let k=r.current.filtered.items,L=[];r.current.filtered.groups.forEach(G=>{let X=o.current.get(G),Q=0;X.forEach(ue=>{let fe=k.get(ue);Q=Math.max(fe,Q)}),L.push([G,Q])});let z=T.current;H().sort((G,X)=>{var Q,ue;let fe=G.getAttribute("id"),_e=X.getAttribute("id");return((Q=k.get(_e))!=null?Q:0)-((ue=k.get(fe))!=null?ue:0)}).forEach(G=>{let X=G.closest(jm);X?X.appendChild(G.parentElement===X?G:G.closest(`${jm} > *`)):z.appendChild(G.parentElement===z?G:G.closest(`${jm} > *`))}),L.sort((G,X)=>X[1]-G[1]).forEach(G=>{var X;let Q=(X=T.current)==null?void 0:X.querySelector(`${yl}[${Fi}="${encodeURIComponent(G[0])}"]`);Q==null||Q.parentElement.appendChild(Q)})}function _(){let k=H().find(z=>z.getAttribute("aria-disabled")!=="true"),L=k==null?void 0:k.getAttribute(Fi);N.setState("value",L||void 0)}function O(){var k,L,z,G;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let X=0;for(let Q of n.current){let ue=(L=(k=i.current.get(Q))==null?void 0:k.value)!=null?L:"",fe=(G=(z=i.current.get(Q))==null?void 0:z.keywords)!=null?G:[],_e=R(ue,fe);r.current.filtered.items.set(Q,_e),_e>0&&X++}for(let[Q,ue]of o.current)for(let fe of ue)if(r.current.filtered.items.get(fe)>0){r.current.filtered.groups.add(Q);break}r.current.filtered.count=X}function M(){var k,L,z;let G=A();G&&(((k=G.parentElement)==null?void 0:k.firstChild)===G&&((z=(L=G.closest(yl))==null?void 0:L.querySelector(_z))==null||z.scrollIntoView({block:"nearest"})),G.scrollIntoView({block:"nearest"}))}function A(){var k;return(k=T.current)==null?void 0:k.querySelector(`${mk}[aria-selected="true"]`)}function H(){var k;return Array.from(((k=T.current)==null?void 0:k.querySelectorAll(lb))||[])}function q(k){let L=H()[k];L&&N.setState("value",L.getAttribute(Fi))}function I(k){var L;let z=A(),G=H(),X=G.findIndex(ue=>ue===z),Q=G[X+k];(L=l.current)!=null&&L.loop&&(Q=X+k<0?G[G.length-1]:X+k===G.length?G[0]:G[X+k]),Q&&N.setState("value",Q.getAttribute(Fi))}function D(k){let L=A(),z=L==null?void 0:L.closest(yl),G;for(;z&&!G;)z=k>0?Az(z,yl):Iz(z,yl),G=z==null?void 0:z.querySelector(lb);G?N.setState("value",G.getAttribute(Fi)):I(k)}let $=()=>q(H().length-1),Y=k=>{k.preventDefault(),k.metaKey?$():k.altKey?D(1):I(1)},C=k=>{k.preventDefault(),k.metaKey?q(0):k.altKey?D(-1):I(-1)};return h.createElement(ye.div,{ref:t,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:k=>{var L;(L=w.onKeyDown)==null||L.call(w,k);let z=k.nativeEvent.isComposing||k.keyCode===229;if(!(k.defaultPrevented||z))switch(k.key){case"n":case"j":{v&&k.ctrlKey&&Y(k);break}case"ArrowDown":{Y(k);break}case"p":case"k":{v&&k.ctrlKey&&C(k);break}case"ArrowUp":{C(k);break}case"Home":{k.preventDefault(),q(0);break}case"End":{k.preventDefault(),$();break}case"Enter":{k.preventDefault();let G=A();if(G){let X=new Event(hg);G.dispatchEvent(X)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:Lz},c),Wh(e,k=>h.createElement(gk.Provider,{value:N},h.createElement(pk.Provider,{value:E},k))))}),Cz=h.forwardRef((e,t)=>{var r,n;let o=hr(),i=h.useRef(null),a=h.useContext(vk),l=Vc(),c=yk(e),d=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:a==null?void 0:a.forceMount;gi(()=>{if(!d)return l.item(o,a==null?void 0:a.id)},[d]);let u=wk(o,i,[e.value,e.children,i],e.keywords),m=vx(),p=No(S=>S.value&&S.value===u.current),f=No(S=>d||l.filter()===!1?!0:S.search?S.filtered.items.get(o)>0:!0);h.useEffect(()=>{let S=i.current;if(!(!S||e.disabled))return S.addEventListener(hg,y),()=>S.removeEventListener(hg,y)},[f,e.onSelect,e.disabled]);function y(){var S,N;g(),(N=(S=c.current).onSelect)==null||N.call(S,u.current)}function g(){m.setState("value",u.current,!0)}if(!f)return null;let{disabled:v,value:w,onSelect:x,forceMount:b,keywords:j,...T}=e;return h.createElement(ye.div,{ref:Ar(i,t),...T,id:o,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!p,"data-disabled":!!v,"data-selected":!!p,onPointerMove:v||l.getDisablePointerSelection()?void 0:g,onClick:v?void 0:y},e.children)}),Ez=h.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:o,...i}=e,a=hr(),l=h.useRef(null),c=h.useRef(null),d=hr(),u=Vc(),m=No(f=>o||u.filter()===!1?!0:f.search?f.filtered.groups.has(a):!0);gi(()=>u.group(a),[]),wk(a,l,[e.value,e.heading,c]);let p=h.useMemo(()=>({id:a,forceMount:o}),[o]);return h.createElement(ye.div,{ref:Ar(l,t),...i,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},r&&h.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),Wh(e,f=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},h.createElement(vk.Provider,{value:p},f))))}),kz=h.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,o=h.useRef(null),i=No(a=>!a.search);return!r&&!i?null:h.createElement(ye.div,{ref:Ar(o,t),...n,"cmdk-separator":"",role:"separator"})}),Tz=h.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,o=e.value!=null,i=vx(),a=No(d=>d.search),l=No(d=>d.selectedItemId),c=Vc();return h.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),h.createElement(ye.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:o?e.value:a,onChange:d=>{o||i.setState("search",d.target.value),r==null||r(d.target.value)}})}),Pz=h.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...o}=e,i=h.useRef(null),a=h.useRef(null),l=No(d=>d.selectedItemId),c=Vc();return h.useEffect(()=>{if(a.current&&i.current){let d=a.current,u=i.current,m,p=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let f=d.offsetHeight;u.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return p.observe(d),()=>{cancelAnimationFrame(m),p.unobserve(d)}}},[]),h.createElement(ye.div,{ref:Ar(i,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},Wh(e,d=>h.createElement("div",{ref:Ar(a,c.listInnerRef),"cmdk-list-sizer":""},d)))}),Rz=h.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:o,contentClassName:i,container:a,...l}=e;return h.createElement(Oh,{open:r,onOpenChange:n},h.createElement(Dh,{container:a},h.createElement(Za,{"cmdk-overlay":"",className:o}),h.createElement(el,{"aria-label":e.label,"cmdk-dialog":"",className:i},h.createElement(xk,{ref:t,...l}))))}),Oz=h.forwardRef((e,t)=>No(r=>r.filtered.count===0)?h.createElement(ye.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Dz=h.forwardRef((e,t)=>{let{progress:r,children:n,label:o="Loading...",...i}=e;return h.createElement(ye.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},Wh(e,a=>h.createElement("div",{"aria-hidden":!0},a)))}),en=Object.assign(xk,{List:Pz,Item:Cz,Input:Tz,Group:Ez,Separator:kz,Dialog:Rz,Empty:Oz,Loading:Dz});function Az(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Iz(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function yk(e){let t=h.useRef(e);return gi(()=>{t.current=e}),t}var gi=typeof window>"u"?h.useEffect:h.useLayoutEffect;function Ui(e){let t=h.useRef();return t.current===void 0&&(t.current=e()),t}function No(e){let t=vx(),r=()=>e(t.snapshot());return h.useSyncExternalStore(t.subscribe,r,r)}function wk(e,t,r,n=[]){let o=h.useRef(),i=Vc();return gi(()=>{var a;let l=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():o.current}})(),c=n.map(d=>d.trim());i.value(e,l,c),(a=t.current)==null||a.setAttribute(Fi,l),o.current=l}),o}var Mz=()=>{let[e,t]=h.useState(),r=Ui(()=>new Map);return gi(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,o)=>{r.current.set(n,o),t({})}};function $z(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Wh({asChild:e,children:t},r){return e&&h.isValidElement(t)?h.cloneElement($z(t),{ref:t.ref},r(t.props.children)):r(t)}var Lz={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const bk=h.forwardRef(({className:e,...t},r)=>s.jsx(en,{ref:r,className:te("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));bk.displayName=en.displayName;const Fz=h.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(Ra,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(en.Input,{ref:r,className:te("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Fz.displayName=en.Input.displayName;const jk=h.forwardRef(({className:e,...t},r)=>s.jsx(en.List,{ref:r,className:te("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));jk.displayName=en.List.displayName;const Uz=h.forwardRef((e,t)=>s.jsx(en.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Uz.displayName=en.Empty.displayName;const Nk=h.forwardRef(({className:e,...t},r)=>s.jsx(en.Group,{ref:r,className:te("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Nk.displayName=en.Group.displayName;const Bz=h.forwardRef(({className:e,...t},r)=>s.jsx(en.Separator,{ref:r,className:te("-mx-1 h-px bg-border",e),...t}));Bz.displayName=en.Separator.displayName;const _k=h.forwardRef(({className:e,...t},r)=>s.jsx(en.Item,{ref:r,className:te("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));_k.displayName=en.Item.displayName;const Nm=[{value:"8200 Outer Dr W, Detroit, MI 48219",label:"WCCC",description:"Wayne County Community College"},{value:"31333 Southfield Rd, Beverly Hills, MI 48025",label:"UMMA Old Building",description:"Beverly Hills campus"},{value:"26899 Northwestern Hwy, Southfield, MI 48033",label:"UMMA New Building",description:"Southfield campus"}];function fg({value:e,onChange:t,placeholder:r="Type to search or enter custom location...",disabled:n=!1,className:o}){const[i,a]=h.useState(!1),[l,c]=h.useState(e),d=h.useRef(null),u=h.useRef(!1);h.useEffect(()=>{c(e)},[e]);const m=b=>{t(b),c(b),a(!1)},p=()=>{l.trim()&&(t(l.trim()),a(!1))},f=b=>{c(b),i||a(!0)},y=()=>{a(!0)},g=()=>{a(!0),setTimeout(()=>{d.current&&d.current.focus()},10)},v=()=>{setTimeout(()=>{u.current||(l.trim()&&!Nm.some(b=>b.value===l)&&p(),a(!1))},200)},w=Nm.filter(b=>{const j=l.trim().toLowerCase();return j.length===0?!0:b.label.toLowerCase().includes(j)||b.value.toLowerCase().includes(j)||b.description.toLowerCase().includes(j)}),x=Nm.some(b=>b.value===e);return s.jsxs("div",{className:te("flex flex-col space-y-2",o),children:[s.jsxs(_E,{open:i,onOpenChange:a,children:[s.jsx(SE,{asChild:!0,children:s.jsx("div",{className:"relative cursor-text",onClick:g,children:s.jsxs("div",{className:"flex items-center space-x-2 min-w-0 w-full border border-white/15 rounded-2xl bg-white/5 px-5 py-3 focus-within:ring-2 focus-within:ring-gold-400/20 focus-within:border-gold-400 transition-all hover:border-white/25 shadow-lg",children:[s.jsx(qn,{className:"h-4 w-4 text-white/40 shrink-0"}),s.jsx("input",{ref:d,type:"text",value:l,onChange:b=>f(b.target.value),onFocus:y,onBlur:v,placeholder:r,disabled:n,className:"flex-1 min-w-0 border-none outline-none bg-transparent text-sm font-semibold text-gold-50 placeholder:text-white/30 cursor-text"})]})})}),s.jsx(ix,{className:"w-full p-0",align:"start",side:"bottom",sideOffset:4,onOpenAutoFocus:b=>b.preventDefault(),onCloseAutoFocus:b=>b.preventDefault(),onPointerDown:()=>{u.current=!0},onPointerUp:()=>{setTimeout(()=>{u.current=!1},0)},children:s.jsx(bk,{children:s.jsx(jk,{children:w.length>0&&s.jsx(Nk,{heading:"Predefined Locations",children:w.map(b=>s.jsxs(_k,{value:b.value,onSelect:()=>m(b.value),onMouseDown:j=>j.preventDefault(),className:"cursor-pointer",children:[s.jsx(kc,{className:te("mr-2 h-4 w-4",e===b.value?"opacity-100":"opacity-0")}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:b.label}),s.jsx("span",{className:"text-sm text-white/50",children:b.description})]})]},b.value))})})})})]}),e&&s.jsxs("div",{className:"text-xs text-white/40 flex items-center space-x-1",children:[s.jsx(qn,{className:"h-3 w-3"}),s.jsx("span",{children:x?"Predefined location":"Custom location"})]})]})}const eo=({options:e,value:t,onChange:r,placeholder:n="Select an option",className:o,disabled:i=!1})=>{const[a,l]=h.useState(!1),[c,d]=h.useState(e.find(f=>f.value===t)),u=h.useRef(null);h.useEffect(()=>{d(e.find(f=>f.value===t))},[t,e]),h.useEffect(()=>{const f=y=>{u.current&&!u.current.contains(y.target)&&l(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const m=f=>{d(f),r(f.value),l(!1)},p=()=>{i||l(!a)};return s.jsxs("div",{className:te("relative",o),ref:u,children:[s.jsxs("button",{type:"button",onClick:p,disabled:i,className:te("w-full bg-white/5 border border-white/15 rounded-lg px-3 py-2 text-sm text-left","focus:outline-none focus:ring-2 focus:ring-gold-400/50 focus:border-gold-400","hover:border-white/25 transition-colors duration-200 cursor-pointer","flex items-center justify-between",i&&"opacity-50 cursor-not-allowed bg-white/3"),children:[s.jsx("span",{className:c?"text-foreground":"text-white/40",children:c?c.label:n}),s.jsx(Hr,{className:te("w-4 h-4 text-white/40 transition-transform duration-200",a&&"rotate-180")})]}),a&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-navy-800/95 backdrop-blur-xl border border-white/15 rounded-lg shadow-lg max-h-60 overflow-auto",children:e.map(f=>s.jsxs("button",{type:"button",onClick:()=>m(f),className:te("w-full px-3 py-2 text-sm text-left hover:bg-white/10 transition-colors duration-150","flex items-center justify-between text-foreground",f.value===t&&"bg-gold-400 text-navy-900 hover:bg-gold-300"),children:[s.jsx("span",{className:"truncate",children:f.label}),f.value===t&&s.jsx(kc,{className:"w-4 h-4"})]},f.value))})]})},Sk=h.forwardRef(({className:e,statusText:t,primaryAction:r,secondaryAction:n,children:o,...i},a)=>s.jsx("div",{ref:a,className:te("fixed bottom-0 left-0 right-0 z-50","bg-navy-800/95 md:bg-navy-800/80 backdrop-blur-xl border-t border-white/10 md:border-white/10","px-4 py-4 md:py-3","shadow-[0_-4px_20px_rgba(0,0,0,0.1)] md:shadow-[0_-4px_20px_rgba(0,0,0,0.08)]","animate-in slide-in-from-bottom-2 duration-300",e),style:{paddingBottom:"max(1rem, env(safe-area-inset-bottom))"},...i,children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex md:hidden flex-col gap-3",children:[r&&s.jsx(W,{onClick:r.onClick,disabled:r.disabled||r.loading,className:"w-full h-12 font-bold text-lg bg-gold-400 text-navy-800 hover:bg-gold-300 shadow-sm hover:shadow-md transition-all active:scale-[0.98] touch-manipulation rounded-3xl",children:r.loading?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),s.jsx("span",{children:"Saving..."})]}):r.label}),s.jsxs("div",{className:"flex items-center justify-between",children:[n&&s.jsx(W,{variant:"ghost",size:"sm",onClick:n.onClick,className:"text-white/50 h-10 px-3 text-sm touch-manipulation font-medium",children:n.label}),s.jsx("div",{className:"flex items-center gap-2 flex-1 justify-center",children:t&&s.jsx("span",{className:"text-xs text-white/40 font-medium truncate",children:t})}),o]})]}),s.jsxs("div",{className:"hidden md:flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t&&s.jsx("span",{className:"text-sm text-gold-400 font-medium truncate",children:t}),o]}),s.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[n&&s.jsx(W,{variant:"ghost",size:"sm",onClick:n.onClick,className:"text-white/50 h-9 px-3 text-sm touch-manipulation",children:n.label}),r&&s.jsx(W,{onClick:r.onClick,disabled:r.disabled||r.loading,className:"min-w-[120px] h-11 px-6 font-semibold text-sm shadow-lg hover:shadow-xl transition-all active:scale-[0.97] touch-manipulation",children:r.loading?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),s.jsx("span",{children:"Saving..."})]}):r.label})]})]})]})}));Sk.displayName="StickyBottomBar";const Bo=h.forwardRef(({className:e,title:t,description:r,icon:n,collapsible:o=!1,defaultExpanded:i=!0,children:a,...l},c)=>{const[d,u]=h.useState(i);return s.jsxs("div",{ref:c,className:te("rounded-3xl bg-white/5/50 border border-white/10/50 shadow-sm","p-3 md:p-6 transition-all duration-200",o&&!d&&"py-3 md:py-4 hover:bg-white/5/80",e),...l,children:[(t||r)&&s.jsxs("div",{className:te("flex items-center gap-3",o&&"cursor-pointer select-none active:opacity-70",d&&"mb-4"),onClick:o?()=>u(!d):void 0,children:[n&&s.jsx("div",{className:"text-gold-400",children:n}),s.jsxs("div",{className:"flex-1 min-w-0",children:[t&&s.jsx("h3",{className:"text-sm md:text-xs font-semibold uppercase tracking-wider text-white/40",children:t}),r&&s.jsx("p",{className:"text-sm text-white/40 mt-0.5",children:r})]}),o&&s.jsxs("div",{className:"flex items-center gap-1",children:[!d&&s.jsx("span",{className:"text-xs text-gold-400 font-medium mr-1 hidden md:inline",children:"Expand"}),s.jsx("div",{className:te("w-8 h-8 md:w-7 md:h-7 rounded-full flex items-center justify-center transition-all",d?"bg-white/15/50 text-white/40":"bg-gold-400/10 text-gold-400"),children:d?s.jsx(Hr,{className:"w-5 h-5 md:w-4 md:h-4 rotate-180 transition-transform"}):s.jsx(jr,{className:"w-5 h-5 md:w-4 md:h-4"})})]})]}),s.jsx("div",{className:te("transition-all duration-200 overflow-hidden",o&&!d?"max-h-0 opacity-0":"max-h-[2000px] opacity-100"),children:a})]})});Bo.displayName="SectionCard";function zz(e,t=[]){let r=[];function n(i,a){const l=h.createContext(a);l.displayName=i+"Context";const c=r.length;r=[...r,a];const d=m=>{var w;const{scope:p,children:f,...y}=m,g=((w=p==null?void 0:p[e])==null?void 0:w[c])||l,v=h.useMemo(()=>y,Object.values(y));return s.jsx(g.Provider,{value:v,children:f})};d.displayName=i+"Provider";function u(m,p){var g;const f=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,y=h.useContext(f);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const o=()=>{const i=r.map(a=>h.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[n,Vz(o,...t)]}function Vz(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var Wz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ck=Wz.reduce((e,t)=>{const r=Sh(`Primitive.${t}`),n=h.forwardRef((o,i)=>{const{asChild:a,...l}=o,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),xx="Progress",yx=100,[Hz]=zz(xx),[qz,Gz]=Hz(xx),Ek=h.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:o,getValueLabel:i=Yz,...a}=e;(o||o===0)&&!cb(o)&&console.error(Kz(`${o}`,"Progress"));const l=cb(o)?o:yx;n!==null&&!db(n,l)&&console.error(Qz(`${n}`,"Progress"));const c=db(n,l)?n:null,d=Vu(c)?i(c,l):void 0;return s.jsx(qz,{scope:r,value:c,max:l,children:s.jsx(Ck.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Vu(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":Pk(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});Ek.displayName=xx;var kk="ProgressIndicator",Tk=h.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,o=Gz(kk,r);return s.jsx(Ck.div,{"data-state":Pk(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...n,ref:t})});Tk.displayName=kk;function Yz(e,t){return`${Math.round(e/t*100)}%`}function Pk(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Vu(e){return typeof e=="number"}function cb(e){return Vu(e)&&!isNaN(e)&&e>0}function db(e,t){return Vu(e)&&!isNaN(e)&&e<=t&&e>=0}function Kz(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${yx}\`.`}function Qz(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${yx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Rk=Ek,Jz=Tk;const Ok=h.forwardRef(({className:e,value:t,...r},n)=>s.jsx(Rk,{ref:n,className:te("relative h-4 w-full overflow-hidden rounded-full bg-white/10",e),...r,children:s.jsx(Jz,{className:"h-full w-full flex-1 bg-gold-400 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ok.displayName=Rk.displayName;const Dk=h.forwardRef(({className:e,steps:t,currentStep:r,onStepClick:n,showProgressBar:o=!0,showStepLabel:i=!0,...a},l)=>{const c=(r-1)/(t.length-1)*100,d=t.find(u=>u.number===r);return s.jsxs("div",{ref:l,className:te("space-y-2 md:space-y-3",e),...a,children:[o&&s.jsx("div",{className:"relative hidden md:block",children:s.jsx(Ok,{value:c,className:"h-1.5 bg-white/15"})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2 md:gap-2 flex-1 justify-center md:justify-start",children:t.map((u,m)=>s.jsxs(h.Fragment,{children:[s.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(u.number),disabled:!n,className:te("w-10 h-10 md:w-8 md:h-8 rounded-full flex items-center justify-center","text-sm md:text-sm font-bold md:font-semibold transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-gold-400 focus:ring-offset-2","touch-manipulation",r===u.number?"bg-gold-400 text-navy-800 shadow-lg ring-4 ring-gold-400/20":r>u.number?"bg-gold-400 text-navy-800 shadow-md":"bg-white/15 text-white/40",n&&"cursor-pointer active:scale-95"),title:u.title,children:r>u.number?s.jsx(kc,{className:"w-5 h-5 md:w-4 md:h-4",strokeWidth:3}):u.number}),m<t.length-1&&s.jsx("div",{className:te("flex-1 max-w-[40px] md:max-w-[48px] lg:max-w-[60px] h-1 md:h-0.5 rounded-full transition-colors duration-200",r>u.number?"bg-gold-400":"bg-white/15")})]},u.number))}),i&&d&&s.jsxs("div",{className:"text-right hidden md:block ml-4",children:[s.jsxs("span",{className:"text-sm font-medium text-white/70",children:["Step ",r," of ",t.length]}),s.jsxs("span",{className:"text-sm text-white/40 ml-1.5",children:[" ",d.title]})]})]}),i&&d&&s.jsxs("div",{className:"md:hidden text-center pt-1",children:[s.jsxs("span",{className:"text-xs font-semibold text-gold-400 uppercase tracking-wide",children:["Step ",r]}),s.jsx("span",{className:"text-xs text-white/30 mx-1.5",children:""}),s.jsx("span",{className:"text-xs font-medium text-white/50",children:d.title})]})]})});Dk.displayName="StepProgressBar";const ub=()=>{var Fx,Ux,Bx,zx,Vx,Wx;const e=Fr(),{eventId:t}=Iv(),r=Ka(),[n,o]=h.useState(1),[i,a]=h.useState([]),[l,c]=h.useState(!1),[d,u]=h.useState(!0),[m,p]=h.useState(!1),[f,y]=h.useState(!1),[g,v]=h.useState({firstName:"",lastName:"",phone:"",gender:""}),[w,x]=h.useState(!1),[b,j]=h.useState(null),[T,S]=h.useState(null),[N,E]=h.useState(!1),[R,P]=h.useState(!0),[_,O]=h.useState(!0),[M,A]=h.useState(!1),[H,q]=h.useState(!1),[I,D]=h.useState(!1),[$,Y]=h.useState(!1),[C,k]=h.useState(!1),[L,z]=h.useState(null),[G,X]=h.useState(""),[Q,ue]=h.useState(!1),[fe,_e]=h.useState(null),[B,Ne]=h.useState({title:"",date:"",startTime:"",endTime:"",location:"",description:"",status:"draft",isPublic:!0,smsEnabled:!1,dayBeforeTime:"19:00",dayOfTime:"15:00"}),Ze=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Date.now().toString(36)+Math.random().toString(36).substring(2),it=(U,V)=>!U||!V?!1:U>=V,_r=U=>{const V=new Date(U);return V.setDate(V.getDate()+1),V.toISOString().split("T")[0]},Ut=U=>U?U.length===8?U.substring(0,5):U:"00:00",[He,Zt]=h.useState([]),[Ht,gn]=h.useState({}),[ar,Rn]=h.useState([]),[Br,rs]=h.useState(!1),Z=U=>{Zt(U),rs(!1)},ce=()=>{let U=!1;for(const V of He){for(const se of V.volunteerRoles)if(se.shiftStartTime&&se.shiftEndTime){const ze=parseInt(se.shiftStartTime.split(":")[0])*60+parseInt(se.shiftStartTime.split(":")[1]);if(parseInt(se.shiftEndTime.split(":")[0])*60+parseInt(se.shiftEndTime.split(":")[1])<=ze){U=!0;break}}if(U)break}return U?(Oe({title:"Validation Error",description:"Please fix the time validation errors before proceeding.",variant:"destructive"}),!1):!0},{softDeleteEvent:De,isDeleting:Be}=nx();h.useEffect(()=>{const U=V=>{if($)return V.preventDefault(),V.returnValue="You have unsaved changes. Are you sure you want to leave?","You have unsaved changes. Are you sure you want to leave?"};return window.addEventListener("beforeunload",U),()=>window.removeEventListener("beforeunload",U)},[$]),h.useEffect(()=>{const U=se=>{se.key==="Shift"&&D(!0)},V=se=>{se.key==="Shift"&&D(!1)};return window.addEventListener("keydown",U),window.addEventListener("keyup",V),()=>{window.removeEventListener("keydown",U),window.removeEventListener("keyup",V)}},[]);const Me=(U,V)=>{const[se,ze]=U.split(":").map(Number),Mt=se*60+ze+V,rt=Math.floor(Mt/60)%24,Ge=Mt%60;return`${rt.toString().padStart(2,"0")}:${Ge.toString().padStart(2,"0")}`},It=U=>{const V=(U||"").replace(/[^\d+]/g,"");return V.startsWith("+")?V:/^1\d{10}$/.test(V)?`+${V}`:/^\d{10}$/.test(V)?`+1${V}`:V?`+${V}`:""},Qe=U=>{const V=U.getFullYear(),se=(U.getMonth()+1).toString().padStart(2,"0"),ze=U.getDate().toString().padStart(2,"0");return`${V}-${se}-${ze}`},jt=U=>new Date(`${U}T12:00:00`),be=U=>!d||U<=2?U:U===3?5:U,vt=(()=>{const U=[{number:1,title:"Basic Info",description:"Event details"},{number:2,title:"Event Planning",description:"Timeline & volunteer roles"},{number:3,title:"Enhanced Details",description:"Preferences & details"},{number:4,title:"Pre-Event Tasks",description:"Planning & assignments"},{number:5,title:"Review & Publish",description:"Final settings"}];return d?U.filter(V=>V.number!==3&&V.number!==4).map((V,se)=>({...V,number:se+1})):U})(),F=be(n),J=()=>F===1?B.title&&B.date&&B.startTime&&B.endTime&&B.location:!0,oe=()=>{if(n<vt.length){if(F===1&&B.startTime&&B.endTime&&B.startTime>=B.endTime)if(it(B.startTime,B.endTime))console.log("Overnight event detected - allowing multi-day event");else{Oe({title:"Invalid time",description:"End time must be after start time.",variant:"destructive"});return}if(F===2&&(rs(!0),!ce()))return;$?(_e(`step-${n+1}`),ue(!0)):o(n+1)}},de=()=>{n>1&&(F===3&&rs(!1),$?(_e(`step-${n-1}`),ue(!0)):o(n-1))},Le=U=>{U===1||J()?$?(_e(`step-${U}`),ue(!0)):o(U):Oe({title:"Cannot proceed",description:"Please complete the required fields before navigating to other steps.",variant:"destructive"})},dt=async U=>{try{const{data:V,error:se}=await K.from("contacts").select("*").order("created_at",{ascending:!1});if(se){console.error("Error loading contacts:",se);return}a((V==null?void 0:V.map(ze=>({...ze,source:ze.source})))||[])}catch(V){console.error("Error loading contacts:",V)}},Ke=U=>U.split(" ").map(V=>V.charAt(0).toUpperCase()+V.slice(1).toLowerCase()).join(" "),ut=h.useCallback(U=>{v(V=>({...V,firstName:U}))},[]),St=h.useCallback(U=>{v(V=>({...V,lastName:U}))},[]),le=h.useCallback(U=>{v(V=>({...V,phone:U}))},[]),Ce=h.useCallback(U=>{v(V=>({...V,gender:U}))},[]),$e=async()=>{if((!g.firstName||!g.lastName||!g.phone||!g.gender)&&Oe({title:"Error",description:"Please fill in first name, last name, phone number, and select a gender.",variant:"destructive"}),!b){Oe({title:"Error",description:"You must be logged in to add a contact.",variant:"destructive"});return}x(!0);try{const U=It(g.phone),{data:V,error:se}=await K.from("contacts").select("*").eq("phone",U).maybeSingle();if(se)throw se;if(V)if(V.role==="volunteer"){const{data:Ge,error:Gt}=await K.from("contacts").update({role:"poc"}).eq("id",V.id).select().maybeSingle();if(Gt)throw Gt;if(!Ge){Oe({title:"Update Failed",description:"Found the contact but could not upgrade them. You may not have permission.",variant:"destructive"});return}if(Ge){a(qe=>qe.some(Ve=>Ve.id===Ge.id)?qe.map(Ve=>Ve.id===Ge.id?Ge:Ve):[...qe,Ge]),Oe({title:"Contact Upgraded",description:`${Ge.name} has been upgraded from Volunteer to Point of Contact.`}),v({firstName:"",lastName:"",phone:"",gender:""}),p(!1);return}}else if(V.role==="poc"||V.role==="admin"){Oe({title:"Contact Already Exists",description:`${V.name} is already a Point of Contact.`,variant:"default"}),a(Ge=>Ge.some(qe=>qe.id===V.id)?Ge:[...Ge,V]),v({firstName:"",lastName:"",phone:"",gender:""}),p(!1);return}else{Oe({title:"Contact Exists",description:`This number belongs to ${V.name} (${V.role}).`,variant:"destructive"});return}const ze={name:Ke(`${g.firstName} ${g.lastName}`),phone:U,gender:g.gender,user_id:b.id,source:"manual",role:"poc"},{data:Mt,error:rt}=await K.from("contacts").insert(ze).select().maybeSingle();if(rt)throw rt;Mt&&a(Ge=>[...Ge,Mt]),v({firstName:"",lastName:"",phone:"",gender:""}),p(!1),Oe({title:"Contact Added",description:"New contact has been added successfully."})}catch(U){console.error("Error adding contact:",U);let V="Failed to add contact.";(U==null?void 0:U.code)==="23505"?V="This phone number is already registered to a contact you cannot access.":U instanceof Error&&(V=U.message),Oe({title:(U==null?void 0:U.code)==="23505"?"Contact Exists":"Error",description:V,variant:"destructive"})}finally{x(!1)}},Ae=async()=>{if(!B.title||!B.description||!B.startTime||!B.endTime)return;c(!0),await new Promise(ke=>setTimeout(ke,1500));const U=B.description.toLowerCase(),V=B.startTime,se=B.endTime,[ze,Mt]=V.split(":").map(Number),[rt,Ge]=se.split(":").map(Number),Gt=rt-ze+(Ge-Mt)/60,qe=U.includes("food")||U.includes("meal")||U.includes("dinner")||U.includes("lunch")||U.includes("iftar")||U.includes("breakfast"),Pe=[],Ve=(ke,Fe,lr,Bt)=>({id:crypto.randomUUID(),roleLabel:ke,slotsBrother:0,slotsSister:0,slotsFlexible:Bt,shiftStartTime:Fe,shiftEndTime:lr,notes:"",suggestedPOC:[]}),Pt=Me(V,-60);if(Pe.push(Ve("Setup Crew",Pt,V,3)),Pe.push(Ve("Greeter / Registration",Me(V,-15),Me(V,30),2)),qe){const ke=Me(V,Math.floor(Gt*30));Pe.push(Ve("Food Server",ke,Me(ke,60),3))}Gt>2&&Pe.push(Ve("Usher / Coordinator",V,se,2)),Pe.push(Ve("Cleanup Crew",se,Me(se,60),3));const pe=[{id:crypto.randomUUID(),time:V,title:"",description:"",volunteerRoles:Pe}];Zt(pe),c(!1),Oe({title:"Roles Generated!",description:`Generated ${Pe.length} volunteer roles based on your event details.`})},xt=U=>{if(Ne(V=>({...V,...U.title&&{title:U.title},...U.description&&{description:U.description},...U.date&&{date:U.date},...U.startTime&&{startTime:U.startTime},...U.endTime&&{endTime:U.endTime},...U.location&&{location:U.location}})),U.roles&&U.roles.length>0){const V=U.roles.map(se=>({id:Ze(),roleLabel:se.roleLabel,slotsBrother:se.slotsBrother,slotsSister:se.slotsSister,slotsFlexible:se.slotsFlexible,shiftStartTime:se.shiftStartTime||U.startTime||"00:00",shiftEndTime:se.shiftEndTime||U.endTime||"01:00",notes:se.notes||"",suggestedPOC:[]}));Zt([{id:Ze(),time:U.startTime||"00:00",title:"",description:"",volunteerRoles:V}])}Y(!0)},lt=U=>{if(U){if(U.details&&Ne(V=>({...V,title:U.details.title||V.title,description:U.details.description||V.description,location:U.details.location||V.location,smsEnabled:U.details.sms_enabled??V.smsEnabled,dayBeforeTime:U.details.day_before_time||V.dayBeforeTime,dayOfTime:U.details.day_of_time||V.dayOfTime})),U.itineraries&&U.itineraries.length>0||U.volunteer_roles&&U.volunteer_roles.length>0){const V=Ge=>Ut(Ge),se=(U.itineraries||[]).map(Ge=>({id:Ze(),time:V(Ge.time_slot),title:Ge.activity,description:Ge.description||"",volunteerRoles:[]})),ze=new Map;(U.volunteer_roles||[]).forEach(Ge=>{const Gt=V(Ge.shift_start),qe=ze.get(Gt)||[];qe.push(Ge),ze.set(Gt,qe)});const rt=se.map(Ge=>{const qe=(ze.get(Ge.time)||[]).map(Pe=>(console.log("Template role slot values:",{role_label:Pe.role_label,slots_brother:Pe.slots_brother,slots_sister:Pe.slots_sister,slots_flexible:Pe.slots_flexible,types:{brother:typeof Pe.slots_brother,sister:typeof Pe.slots_sister,flexible:typeof Pe.slots_flexible}}),{id:Ze(),roleLabel:Pe.role_label,slotsBrother:Number(Pe.slots_brother)||0,slotsSister:Number(Pe.slots_sister)||0,slotsFlexible:Number(Pe.slots_flexible??0)||0,shiftStartTime:V(Pe.shift_start)||"00:00",shiftEndTime:V(Pe.shift_end_time||Pe.shift_end)||"01:00",notes:Pe.notes,suggestedPOC:Pe.suggested_poc?[Pe.suggested_poc]:[]}));return{...Ge,volunteerRoles:qe}});Zt(rt)}if(U.pre_event_tasks&&U.pre_event_tasks.length>0){const V=U.pre_event_tasks.map(se=>({id:Ze(),description:se.task_description,assignedTo:se.assigned_to||"",dueDate:se.due_date_offset_days?new Date(Date.now()+se.due_date_offset_days*24*60*60*1e3):new Date,status:se.status}));Rn(V)}Oe({title:"Template Applied!",description:`Template "${U.name}" has been applied to your event.`})}},nt=async U=>{if(!b){Oe({title:"Error",description:"You must be logged in to create events.",variant:"destructive"});return}if(!B.title||!B.date||!B.startTime||!B.endTime||!B.location){Oe({title:"Validation Error",description:"Please fill in all required fields (Title, Date, Start Time, End Time, Location).",variant:"destructive"});return}if(B.startTime>=B.endTime){if(!it(B.startTime,B.endTime)){Oe({title:"Validation Error",description:"End time must be after start time.",variant:"destructive"});return}console.log("Overnight event detected - allowing multi-day event")}E(!0);try{if(console.log(" Current user:",b),!b||!b.id)throw new Error("User not authenticated or missing user ID");const V={title:B.title,description:B.description,location:B.location,start_datetime:sm(B.date,B.startTime),end_datetime:it(B.startTime,B.endTime)?sm(_r(B.date),B.endTime):sm(B.date,B.endTime),status:U,is_public:B.isPublic,sms_enabled:B.smsEnabled,day_before_time:B.dayBeforeTime,day_of_time:B.dayOfTime};if(console.log(" Event payload validation:",{title:V.title,location:V.location,start_datetime:V.start_datetime,end_datetime:V.end_datetime,status:V.status,created_by:b.id}),!V.title||!V.location||!V.start_datetime||!V.end_datetime)throw new Error("Missing required fields in event payload");let se=t;if(t){const{error:Pt}=await K.from("events").update(V).eq("id",t);if(Pt)throw Pt}else{const Pt={...V,created_by:b.id};console.log(" Creating new event with payload:",Pt);const{data:pe,error:ke}=await K.from("events").insert(Pt).select().single();if(console.log(" Event insert result:",{newEvent:pe,error:ke}),ke)throw console.error(" Event insert error:",ke),ke;if(!pe||!pe.id)throw console.error(" No data returned from event insert"),new Error("Failed to create event");se=pe.id}if(se&&He.length>0){const Pt=He.reduce((Nt,Xe)=>{var Sr;return Nt+(((Sr=Xe.volunteerRoles)==null?void 0:Sr.length)||0)},0);console.log("DEBUG: Before save -",He.length,"items with",Pt,"roles");const pe=He.filter((Nt,Xe,Sr)=>{const xe=`${Nt.time}__${Nt.title}`;return Xe===Sr.findIndex(On=>`${On.time}__${On.title}`===xe)}).map(Nt=>({...Nt,volunteerRoles:(Nt.volunteerRoles||[]).filter((Xe,Sr,xe)=>{const On=Array.isArray(Xe.suggestedPOC)?Xe.suggestedPOC.slice().sort().join(","):Xe.suggestedPOC||"",ef=`${Xe.roleLabel}__${Xe.slotsBrother}__${Xe.slotsSister}__${Xe.notes??""}__${On}`;return Sr===xe.findIndex(ns=>{const ol=Array.isArray(ns.suggestedPOC)?ns.suggestedPOC.slice().sort().join(","):ns.suggestedPOC||"";return`${ns.roleLabel}__${ns.slotsBrother}__${ns.slotsSister}__${ns.notes??""}__${ol}`===ef})})}));console.log("DEBUG: After save -",pe.length,"items with",pe.reduce((Nt,Xe)=>{var Sr;return Nt+(((Sr=Xe.volunteerRoles)==null?void 0:Sr.length)||0)},0),"roles"),console.log(" Saving",pe.length,"itinerary items (normalized)");const{data:ke}=await K.from("itineraries").select("id").eq("event_id",se),Fe=new Set((ke||[]).map(Nt=>Nt.id)),{data:lr}=await K.from("volunteer_roles").select("id").eq("event_id",se),Bt=new Set((lr||[]).map(Nt=>Nt.id)),vn=new Set,sl=new Map;for(let Nt=0;Nt<pe.length;Nt++){const Xe=pe[Nt];console.log(` Saving itinerary item ${Nt+1}:`,Xe.time,Xe.title);let Sr=Xe.id;if(Fe.has(Xe.id)){const{error:xe}=await K.from("itineraries").update({time_slot:Xe.time,activity:Xe.title,description:Xe.description,duration_minutes:60}).eq("id",Xe.id);if(xe)throw console.error(" Error updating itinerary item:",xe),xe}else{const{data:xe,error:On}=await K.from("itineraries").insert({event_id:se,time_slot:Xe.time,activity:Xe.title,description:Xe.description,duration_minutes:60}).select().single();if(On)throw console.error(" Error inserting itinerary item:",On),On;if(!xe||!xe.id)throw console.error(" No data returned from itinerary insert"),new Error("Failed to create itinerary item");Sr=xe.id,sl.set(Xe.id,xe.id)}if(Xe.volunteerRoles&&Xe.volunteerRoles.length>0){console.log(` Saving ${Xe.volunteerRoles.length} roles for ${Xe.time}`);for(const xe of Xe.volunteerRoles){console.log(" Role before save:",{id:xe.id,roleLabel:xe.roleLabel,shiftStartTime:xe.shiftStartTime,shiftEndTime:xe.shiftEndTime,type:typeof xe.shiftStartTime,isEmpty:xe.shiftStartTime==="",isNull:xe.shiftStartTime===null,isUndefined:xe.shiftStartTime===void 0}),(!xe.shiftStartTime||xe.shiftStartTime==="")&&(console.warn(" Role missing shiftStartTime, setting default:",xe.roleLabel),xe.shiftStartTime="00:00"),(!xe.shiftEndTime||xe.shiftEndTime==="")&&(console.warn(" Role missing shiftEndTime, setting default:",xe.roleLabel),xe.shiftEndTime="01:00");const On=xn=>{const[js,Gc]=(xn||"00:00").split(":").map(Number),rf=Number.isFinite(js)?js:0,Yc=Number.isFinite(Gc)?Gc:0;return rf*60+Yc},ef=xn=>{const js=Math.max(0,Math.min(1439,xn)),Gc=Math.floor(js/60),rf=js%60,Yc=OT=>OT.toString().padStart(2,"0");return`${Yc(Gc)}:${Yc(rf)}`},ns=On(xe.shiftStartTime);let ol=On(xe.shiftEndTime);ol<=ns&&(ol=ns+60,xe.shiftEndTime=ef(ol),console.warn(" Adjusted shiftEndTime to be after start for role:",xe.roleLabel,xe.shiftEndTime));const tf=sl.get(Xe.id)||Sr;if(Bt.has(xe.id)){const{error:xn}=await K.from("volunteer_roles").update({role_label:xe.roleLabel,slots_brother:xe.slotsBrother,slots_sister:xe.slotsSister,slots_flexible:xe.slotsFlexible,notes:xe.notes,suggested_poc:xe.suggestedPOC,shift_start:xe.shiftStartTime,shift_end_time:xe.shiftEndTime,shift_end:xe.shiftEndTime,itinerary_id:tf}).eq("id",xe.id);if(xn)throw console.error(" Error updating role:",xn),xn;vn.add(xe.id)}else{const{data:xn,error:js}=await K.from("volunteer_roles").insert({event_id:se,role_label:xe.roleLabel,slots_brother:xe.slotsBrother,slots_sister:xe.slotsSister,slots_flexible:xe.slotsFlexible,notes:xe.notes,suggested_poc:xe.suggestedPOC,shift_start:xe.shiftStartTime,shift_end_time:xe.shiftEndTime,shift_end:xe.shiftEndTime,itinerary_id:tf}).select().single();if(js)throw console.error(" Error inserting role:",js),js;xn!=null&&xn.id&&vn.add(xn.id)}}}}const pr=(lr||[]).map(Nt=>Nt.id).filter(Nt=>!vn.has(Nt));if(pr.length>0){const{data:Nt}=await K.from("volunteers").select("role_id").in("role_id",pr),Xe=new Set((Nt||[]).map(xe=>xe.role_id)),Sr=pr.filter(xe=>!Xe.has(xe));if(Sr.length>0){const{error:xe}=await K.from("volunteer_roles").delete().in("id",Sr);xe&&console.error(" Error deleting stale roles:",xe)}}console.log(" Successfully saved all data")}S(new Date);const ze=JSON.stringify({eventData:B,itinerary:He,additionalDetails:Ht,preEventTasks:ar});X(ze),Y(!1);const rt=((Pt,pe)=>{const ke=Pt.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),Fe=pe.slice(-4);return`${ke}-${Fe}`})(B.title,se),Ge=`${window.location.origin}/${rt}`,{generateShareableLink:Gt,generateQRCodeUrl:qe}=await CC(async()=>{const{generateShareableLink:Pt,generateQRCodeUrl:pe}=await Promise.resolve().then(()=>vT);return{generateShareableLink:Pt,generateQRCodeUrl:pe}},void 0),Pe=Gt(Ge,se,"direct","link","event_signup"),Ve=qe(Ge,se);try{await navigator.clipboard.writeText(Pe),Oe({title:U==="published"?"Event Published!":"Draft Saved!",description:U==="published"?"Your event has been published and the volunteer signup link has been copied to clipboard!":"Your progress has been saved as a draft and the event link has been copied to clipboard!"})}catch(Pt){console.error("Failed to copy to clipboard:",Pt),Oe({title:U==="published"?"Event Published!":"Draft Saved!",description:U==="published"?"Your event has been published and is now live.":"Your progress has been saved as a draft."})}e("/dashboard")}catch(V){console.error("Error saving event:",V);let se="Failed to save event. Please try again.";V&&typeof V=="object"&&"message"in V?se=`Error: ${V.message}`:V&&typeof V=="string"&&(se=`Error: ${V}`),Oe({title:"Error",description:se,variant:"destructive"})}finally{E(!1)}},ht=h.useCallback(()=>JSON.stringify({eventData:B,itinerary:He,additionalDetails:Ht,preEventTasks:ar}),[B,He,Ht,ar]),ft=h.useCallback(()=>{const V=ht()!==G;return Y(V),V},[ht,G]),qt=h.useCallback(async()=>{if(!(!b||!ft())){k(!0);try{await nt("draft");const U=ht();X(U),Y(!1),console.log("Auto-saved draft successfully")}catch(U){console.error("Auto-save failed:",U)}finally{k(!1)}}},[b,ft,nt,ht]);h.useEffect(()=>{if(b&&$){const U=setInterval(qt,3e4);return z(U),()=>{U&&clearInterval(U)}}},[b,$,qt]),h.useEffect(()=>{G&&ft()},[B,He,Ht,ar,ft]),h.useEffect(()=>{const U=V=>{if($)return V.preventDefault(),V.returnValue="You have unsaved changes. Are you sure you want to leave?","You have unsaved changes. Are you sure you want to leave?"};return window.addEventListener("beforeunload",U),()=>window.removeEventListener("beforeunload",U)},[$]);const Ao=async()=>{if(t){try{await De(t,B.title),Oe({title:"Event Deleted",description:"Event has been moved to recently deleted."}),e("/dashboard")}catch{Oe({title:"Error",description:"Failed to delete event.",variant:"destructive"})}y(!1)}},qc=()=>{Ne({title:"Community Iftar 2025",date:"2024-03-15",startTime:"18:00",endTime:"21:00",location:"Islamic Center Main Hall",description:"Join us for a community iftar dinner during Ramadan. We'll break our fast together and enjoy traditional foods.",status:"draft",isPublic:!0,smsEnabled:!0,dayBeforeTime:"19:00",dayOfTime:"15:00"}),Zt([{id:crypto.randomUUID(),time:"16:00",title:"Setup & Preparation",description:"Tables, chairs, decorations setup",volunteerRoles:[{id:crypto.randomUUID(),roleLabel:"Setup Coordinator",slotsBrother:2,slotsSister:1,slotsFlexible:0,shiftStartTime:"16:00",shiftEndTime:"17:00",notes:"Oversee table and chair arrangement",suggestedPOC:[]}]},{id:crypto.randomUUID(),time:"17:30",title:"Volunteer Briefing",description:"Brief all volunteers on their roles",volunteerRoles:[]},{id:crypto.randomUUID(),time:"18:00",title:"Guest Registration",description:"Welcome and check-in guests",volunteerRoles:[{id:crypto.randomUUID(),roleLabel:"Greeter",slotsBrother:1,slotsSister:2,slotsFlexible:0,shiftStartTime:"18:00",shiftEndTime:"19:00",notes:"Welcome guests at entrance",suggestedPOC:[]}]},{id:crypto.randomUUID(),time:"19:30",title:"Maghrib Prayer",description:"Community prayer time",volunteerRoles:[]},{id:crypto.randomUUID(),time:"19:45",title:"Iftar Dinner Service",description:"Serve meals to community",volunteerRoles:[{id:crypto.randomUUID(),roleLabel:"Food Server",slotsBrother:3,slotsSister:4,slotsFlexible:0,shiftStartTime:"19:45",shiftEndTime:"20:45",notes:"Serve food to guests",suggestedPOC:[]}]},{id:crypto.randomUUID(),time:"20:30",title:"Community Program",description:"Brief talks and announcements",volunteerRoles:[]},{id:crypto.randomUUID(),time:"21:00",title:"Cleanup & Breakdown",description:"Clean venue and pack up",volunteerRoles:[{id:crypto.randomUUID(),roleLabel:"Cleanup Crew",slotsBrother:2,slotsSister:2,slotsFlexible:0,shiftStartTime:"21:00",shiftEndTime:"22:00",notes:"Clean tables and pack up supplies",suggestedPOC:[]}]}]),gn({}),Oe({title:"Test data loaded!",description:"Form has been filled with sample event data including itinerary and volunteer roles."})},nl=h.useCallback(async U=>{try{console.log(" Starting fresh load for event:",U),A(!0),Zt([]),Ne({title:"",date:"",startTime:"",endTime:"",location:"",description:"",status:"draft",isPublic:!0,smsEnabled:!1,dayBeforeTime:"19:00",dayOfTime:"15:00"});const{data:V,error:se}=await K.from("events").select("*").eq("id",U).single();if(se)throw se;if(V){console.log(" Loaded event data"),Ne({title:V.title,date:V.start_datetime.split("T")[0],startTime:new Date(V.start_datetime).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),endTime:new Date(V.end_datetime).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),location:V.location,description:V.description||"",status:V.status,isPublic:V.is_public??!0,smsEnabled:V.sms_enabled,dayBeforeTime:V.day_before_time,dayOfTime:V.day_of_time});const{data:ze,error:Mt}=await K.from("itineraries").select("*").eq("event_id",U).order("time_slot",{ascending:!0});if(Mt)throw Mt;const{data:rt,error:Ge}=await K.from("volunteer_roles").select("*").eq("event_id",U);if(Ge)throw Ge;console.log(" Raw volunteer roles loaded:",rt==null?void 0:rt.map(pe=>({id:pe.id,role_label:pe.role_label,shift_start:pe.shift_start,itinerary_id:pe.itinerary_id}))),console.log(" Raw data loaded:",{itinerary:(ze==null?void 0:ze.length)||0,roles:(rt==null?void 0:rt.length)||0});const Gt=new Map;for(const pe of ze||[]){const ke=`${pe.time_slot}__${pe.activity}`,Fe=Gt.get(ke)||[];Fe.push(pe),Gt.set(ke,Fe)}const qe=new Map,Pe=new Map;for(const pe of rt||[])if(pe.itinerary_id){const ke=pe.itinerary_id,Fe=qe.get(ke)||[];Fe.find(lr=>lr.id===pe.id)||Fe.push(pe),qe.set(ke,Fe)}else if(pe.shift_start){const ke=pe.shift_start,Fe=Pe.get(ke)||[];Fe.find(lr=>lr.id===pe.id)||Fe.push(pe),Pe.set(ke,Fe)}console.log(" Role mapping:",{byItineraryId:Array.from(qe.keys()),byTime:Array.from(Pe.keys()),totalRoles:(rt==null?void 0:rt.length)||0});let Ve=Array.from(Gt.entries()).map(([pe,ke])=>{let Fe=ke[0];const lr=ke.find(pr=>qe.has(pr.id));lr&&(Fe=lr);const Bt=Fe;let vn=[];vn=qe.get(Bt.id)||[],vn.length===0?(vn=Pe.get(Bt.time_slot)||[],console.log(` ${Bt.time_slot}: Using time-based fallback for ${vn.length} roles`)):console.log(` ${Bt.time_slot}: Using itinerary_id link for ${vn.length} roles`);const sl=vn.map(pr=>({id:pr.id,roleLabel:pr.role_label,slotsBrother:Number(pr.slots_brother)||0,slotsSister:Number(pr.slots_sister)||0,slotsFlexible:Number(pr.slots_flexible??0)||0,shiftStartTime:pr.shift_start||"00:00",shiftEndTime:pr.shift_end_time||pr.shift_end||"01:00",notes:pr.notes||"",suggestedPOC:pr.suggested_poc||[]}));return console.log(` ${Bt.time_slot}: ${Bt.activity}  ${sl.length} roles`),{id:Bt.id,time:Bt.time_slot,title:Bt.activity,description:Bt.description||"",volunteerRoles:sl}}),Pt=Ve.reduce((pe,ke)=>{var Fe;return pe+(((Fe=ke.volunteerRoles)==null?void 0:Fe.length)||0)},0);if(console.log("DEBUG: Loaded data -",Ve.length,"items with",Pt,"roles"),Ve.forEach((pe,ke)=>{var Fe,lr;console.log(` Item ${ke+1}: ${pe.time} - ${pe.title} (${((Fe=pe.volunteerRoles)==null?void 0:Fe.length)||0} roles)`),(lr=pe.volunteerRoles)==null||lr.forEach((Bt,vn)=>{console.log(`   Role ${vn+1}: ${Bt.roleLabel} (${Bt.slotsBrother}/${Bt.slotsSister}) - POCs: ${Array.isArray(Bt.suggestedPOC)?Bt.suggestedPOC.length:"legacy"}`)})}),((ze==null?void 0:ze.length)||0)===0&&((rt==null?void 0:rt.length)||0)>0){console.log(" No itineraries found but roles exist. Building fallback itinerary from roles.");const pe={};for(const ke of rt||[]){const Fe=ke.shift_start||"00:00";pe[Fe]||(pe[Fe]=[]),pe[Fe].push(ke)}Ve=Object.keys(pe).sort().map(ke=>({id:Ze(),time:ke,title:"Volunteer Shift",description:"",volunteerRoles:pe[ke].map(Fe=>({id:Fe.id,roleLabel:Fe.role_label,slotsBrother:Number(Fe.slots_brother)||0,slotsSister:Number(Fe.slots_sister)||0,slotsFlexible:Number(Fe.slots_flexible??0)||0,shiftStartTime:Fe.shift_start||"00:00",shiftEndTime:Fe.shift_end_time||Fe.shift_end||"",notes:Fe.notes||"",suggestedPOC:Fe.suggested_poc||[]}))})),Pt=Ve.reduce((ke,Fe)=>{var lr;return ke+(((lr=Fe.volunteerRoles)==null?void 0:lr.length)||0)},0),console.log(" Fallback itinerary built -",Ve.length,"items with",Pt,"roles")}Zt(Ve)}}catch(V){console.error(" Error loading event data:",V),Oe({title:"Error",description:"Failed to load event data.",variant:"destructive"})}finally{A(!1)}},[Oe]);return h.useEffect(()=>{(async()=>{const{data:{user:V}}=await K.auth.getUser();if(!V){e("/login");return}j(V),await dt(V.id)})()},[e]),h.useEffect(()=>{(async()=>{var V,se,ze;if((V=r.state)!=null&&V.templateId&&b){console.log("Loading template with ID:",r.state.templateId);try{const{data:Mt,error:rt}=await K.from("event_templates").select(`
              *,
              event_template_details(*),
              event_template_itineraries(*),
              event_template_pre_event_tasks(*)
            `).eq("id",r.state.templateId).single();if(rt)throw rt;console.log("Template base data:",Mt),console.log("Template user_id:",Mt.user_id),console.log("Template is_public:",Mt.is_public),console.log("Template deleted_at:",Mt.deleted_at);const{data:Ge,error:Gt}=await K.from("event_template_volunteer_roles").select("*").eq("template_id",r.state.templateId);Gt?console.error("Error loading volunteer roles:",Gt):console.log("Volunteer roles loaded separately:",Ge);const qe={...Mt,event_template_volunteer_roles:Ge||[]};if(rt)throw rt;if(console.log("Template data loaded:",qe),console.log("Template volunteer roles:",qe.event_template_volunteer_roles),console.log("Template itineraries:",qe.event_template_itineraries),qe){if((se=qe.event_template_details)!=null&&se[0]){const Pe=qe.event_template_details[0];console.log("Applying template details:",Pe),Ne(Ve=>({...Ve,title:Pe.title||Ve.title,description:Pe.description||Ve.description,location:Pe.location||Ve.location,smsEnabled:Pe.sms_enabled??Ve.smsEnabled,dayBeforeTime:Pe.day_before_time||Ve.dayBeforeTime,dayOfTime:Pe.day_of_time||Ve.dayOfTime}))}if(qe.event_template_itineraries||qe.event_template_volunteer_roles){console.log("Applying template itineraries:",qe.event_template_itineraries),console.log("Applying template volunteer roles:",qe.event_template_volunteer_roles);const Pe=qe.event_template_volunteer_roles?qe.event_template_volunteer_roles.map(pe=>({id:Ze(),roleLabel:pe.role_label,slotsBrother:Number(pe.slots_brother)||0,slotsSister:Number(pe.slots_sister)||0,slotsFlexible:Number(pe.slots_flexible??0)||0,shiftStartTime:pe.shift_start||"00:00",shiftEndTime:pe.shift_end_time||pe.shift_end||"01:00",notes:pe.notes,suggestedPOC:pe.suggested_poc?[pe.suggested_poc]:[]})):[];console.log("Converted volunteer roles:",Pe);const Ve={};for(const pe of Pe){const ke=Ut(pe.shiftStartTime);Ve[ke]||(Ve[ke]=[]),Ve[ke].push(pe)}const Pt=(qe.event_template_itineraries||[]).map(pe=>{const ke=Ut(pe.time_slot);return{id:Ze(),time:ke,title:pe.activity,description:pe.description||"",volunteerRoles:Ve[ke]?[...Ve[ke]]:[]}});console.log("Final itinerary with volunteer roles:",Pt),Zt(Pt)}if(qe.event_template_pre_event_tasks){console.log("Applying template pre-event tasks:",qe.event_template_pre_event_tasks);const Pe=qe.event_template_pre_event_tasks.map(Ve=>({id:Ze(),title:Ve.task_description,description:Ve.description||"",dueDateOffsetDays:Ve.due_date_offset_days,assignedTo:Ve.assigned_to?[Ve.assigned_to]:[],status:Ve.status||"pending"}));Rn(Pe)}(ze=r.state)!=null&&ze.templateId&&e(r.pathname,{state:{...r.state,templateName:qe.name}}),Oe({title:"Template Applied!",description:`Template "${qe.name}" has been applied to your event.`})}}catch(Mt){console.error("Error loading template:",Mt),Oe({title:"Error",description:"Failed to load template data.",variant:"destructive"})}}})()},[(Fx=r.state)==null?void 0:Fx.templateId,b]),h.useEffect(()=>{t&&(q(!1),A(!1))},[t]),h.useEffect(()=>{t&&b&&!H&&!M&&(console.log("Loading fresh event data for:",t),q(!0),A(!0),nl(t))},[t,b,nl,H,M]),s.jsxs("div",{className:"min-h-screen bg-white/5 md:bg-background",children:[s.jsx(dn,{}),s.jsxs("main",{className:"container mx-auto px-4 py-4 md:py-6 lg:py-8",children:[s.jsxs("div",{className:"mb-5 md:mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[s.jsx("div",{className:"",children:s.jsxs(W,{variant:"ghost",onClick:()=>e("/dashboard"),className:"text-white/40 md:text-white/50 hover:text-foreground hover:bg-white/10 h-10 md:h-auto px-2 md:px-4 -ml-2",children:[s.jsx(p1,{className:"w-5 h-5 md:w-4 md:h-4 mr-1 md:mr-2"}),s.jsx("span",{className:"text-sm md:text-base",children:"Back"})]})}),!t&&s.jsx("div",{className:"md:hidden",children:s.jsx(ob,{onTemplateSelect:lt,disabled:t&&!R,compact:!0})})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl md:text-3xl lg:text-4xl font-bold text-foreground md:text-foreground mb-1 md:mb-2 tracking-tight",children:t?"Edit Event":"Create Event"}),s.jsx("p",{className:"text-white/40 md:text-white/50 text-sm md:text-base lg:text-lg leading-relaxed",children:t?"Update your event details":n===1?"Let's start with the basics":n===2?"Add activities and volunteer roles":"Review and publish your event"}),((Ux=r.state)==null?void 0:Ux.templateId)&&((Bx=r.state)==null?void 0:Bx.templateName)&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gold-400 bg-gold-400/10 px-3 py-2 rounded-lg border border-gold-400/20",children:[s.jsx(En,{className:"w-4 h-4"}),s.jsxs("span",{children:["Working from template: ",s.jsx("strong",{children:r.state.templateName})]}),s.jsx(W,{variant:"ghost",size:"sm",onClick:()=>e(r.pathname,{state:{}}),className:"h-6 px-2 text-gold-400 hover:text-gold-300 hover:bg-gold-400/15",children:"Clear"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[!t&&s.jsx("div",{className:"hidden md:block",children:s.jsx(ob,{onTemplateSelect:lt,disabled:t&&!R,compact:!0})}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[t&&R&&s.jsxs(W,{variant:"outline",onClick:()=>nt("draft"),disabled:!J()||N,className:"border-yellow-300 text-amber-300 hover:bg-yellow-50",children:[s.jsx(_u,{className:"w-4 h-4 mr-2"}),N?"Saving...":"Save Draft"]}),I&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(UE,{pressed:d,onPressedChange:u,className:"data-[state=on]:bg-gold-400 data-[state=on]:text-white",children:d?s.jsx(Ai,{className:"w-4 h-4 mr-2"}):s.jsx(Ii,{className:"w-4 h-4 mr-2"})}),s.jsx("span",{className:"text-sm text-white/40",children:"Test Features"})]}),!t&&s.jsxs(W,{variant:"ghost",onClick:qc,className:"h-10 px-4 text-white/50 hover:text-gold-300 hover:bg-white/10",children:[s.jsx(SO,{className:"w-4 h-4 mr-2"}),"Load Test Data"]})]})]})})]})]})]}),T&&s.jsxs("div",{className:"mt-4 text-sm text-white/40",children:["Saved  ",T.toLocaleTimeString()]}),s.jsx("div",{className:"mb-4 md:mb-6 lg:mb-8 bg-white/5 rounded-2xl md:rounded-xl border border-white/10 md:border-white/10 px-3 py-3 md:px-6 md:py-4 overflow-x-auto scrollbar-hide shadow-sm md:shadow-none",children:s.jsx(Dk,{steps:vt,currentStep:n,onStepClick:Le,showProgressBar:!0,showStepLabel:!0})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 lg:gap-8",children:[s.jsx("div",{className:"col-span-1 lg:col-span-2",children:s.jsx(Te,{className:"border-0 md:border shadow-none md:shadow-sm bg-transparent md:bg-white/5 rounded-none md:rounded-xl",children:s.jsxs(Ie,{className:"p-0 md:p-6",children:[F===1&&s.jsxs("div",{className:"space-y-5 md:space-y-6",children:[!t&&s.jsx(WB,{onEventParsed:xt,disabled:t&&!R}),s.jsx(Bo,{title:"Event Name",className:"md:bg-transparent md:border-0 md:p-0 md:shadow-none",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"title",className:"text-sm md:text-xs font-semibold text-white/50 md:block hidden",children:"Event Title *"}),s.jsx(he,{id:"title",value:B.title,onChange:U=>Ne({...B,title:U.target.value}),placeholder:"e.g., Community Iftar 2024",className:"h-12 md:h-11 rounded-xl border-2 border-white/10 focus-visible:ring-gold-400 text-lg md:text-sm font-medium placeholder:text-white/30 placeholder:font-normal",disabled:t&&!R})]})}),s.jsx(Bo,{title:"Date & Time",className:"md:bg-transparent md:border-0 md:p-0 md:shadow-none",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"date",className:"text-sm md:text-xs font-semibold text-white/50 md:block hidden",children:"Date *"}),s.jsx(he,{type:"date",id:"date-mobile",value:B.date||"",onChange:U=>Ne({...B,date:U.target.value}),className:"md:hidden h-12 w-full block bg-white/5 text-foreground rounded-xl border-2 border-white/10 focus-visible:ring-gold-400 text-base font-medium appearance-none",style:{minHeight:"3rem"},disabled:t&&!R}),s.jsx("div",{className:"hidden md:block",children:s.jsxs(_E,{children:[s.jsx(SE,{asChild:!0,children:s.jsxs(W,{variant:"outline",className:"w-full justify-start text-left font-normal h-11 rounded-xl border-2 border-white/10 hover:border-white/20 text-sm bg-white/5",disabled:t&&!R,children:[s.jsx(Dt,{className:"mr-2 h-4 w-4"}),B.date?jt(B.date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}):"Pick a date"]})}),s.jsx(ix,{className:"w-auto p-0",align:"start",children:s.jsx(ME,{mode:"single",selected:B.date?jt(B.date):void 0,defaultMonth:B.date?jt(B.date):new Date,onSelect:U=>U&&Ne({...B,date:Qe(U)}),initialFocus:!0})})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"startTime",className:"text-sm md:text-xs font-semibold text-white/50",children:"Start Time *"}),s.jsx(he,{type:"time",id:"startTime-mobile",value:B.startTime||"",onChange:U=>{const V=U.target.value;let se=B.endTime;if(se&&se<=V){const ze=Me(V,15);se=ze>V?ze:"23:59"}Ne({...B,startTime:V,endTime:se})},className:"md:hidden h-12 w-full block bg-white/5 text-foreground rounded-xl border-2 border-white/10 focus-visible:ring-gold-400 text-base font-medium appearance-none",style:{minHeight:"3rem"},disabled:t&&!R}),s.jsx("div",{className:"hidden md:block",children:s.jsx(cs,{id:"startTime",value:B.startTime,onChange:U=>{let V=B.endTime;if(V&&V<=U){const se=Me(U,15);V=se>U?se:"23:59"}Ne({...B,startTime:U,endTime:V})},className:"h-11 border-2 border-white/10 focus-visible:ring-gold-400 text-sm",disabled:t&&!R})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"endTime",className:"text-sm md:text-xs font-semibold text-white/50",children:"End Time *"}),s.jsx(he,{type:"time",id:"endTime-mobile",value:B.endTime||"",onChange:U=>{Ne({...B,endTime:U.target.value})},className:"md:hidden h-12 w-full block bg-white/5 text-foreground rounded-xl border-2 border-white/10 focus-visible:ring-gold-400 text-base font-medium appearance-none",style:{minHeight:"3rem"},disabled:t&&!R}),s.jsx("div",{className:"hidden md:block",children:s.jsx(cs,{id:"endTime",value:B.endTime,onChange:U=>{Ne({...B,endTime:U})},className:"h-11 border-2 border-white/10 focus-visible:ring-gold-400 text-sm",disabled:t&&!R})})]})]}),B.startTime&&B.endTime&&it(B.startTime,B.endTime)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gold-400 bg-gold-400/10 p-3 rounded-xl",children:[s.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{children:"Overnight event - ends next day"})]})]})}),s.jsx(Bo,{title:"Location",className:"md:bg-transparent md:border-0 md:p-0 md:shadow-none",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"location",className:"text-sm md:text-xs font-semibold text-white/50 md:block hidden",children:"Location *"}),s.jsx(fg,{value:B.location,onChange:U=>Ne({...B,location:U}),placeholder:"Select or type a location...",disabled:t&&!R,className:"h-12 md:h-11"})]})}),s.jsx(Bo,{title:"Description",collapsible:!0,defaultExpanded:!!B.description,className:"md:bg-transparent md:border-0 md:p-0 md:shadow-none",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"description",className:"text-sm md:text-xs font-semibold text-white/50 md:block hidden",children:"Description *"}),s.jsx(un,{id:"description",value:B.description,onChange:U=>Ne({...B,description:U.target.value}),placeholder:"Describe your event...",rows:4,className:"border-2 border-white/10 focus-visible:ring-gold-400 rounded-xl resize-none text-base md:text-sm min-h-[120px] md:min-h-[100px]",disabled:t&&!R})]})})]}),F===2&&s.jsx("div",{className:"space-y-6",children:s.jsx(UB,{itinerary:He,onItineraryChange:Z,startTime:B.startTime,endTime:B.endTime,isGenerated:He.length>0,disabled:t&&!R,onGenerateItinerary:Ae,isGenerating:l,eventTitle:B.title,eventDescription:B.description,contacts:i,onAddContact:()=>p(!0),showValidation:Br})}),F===3&&!d&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 text-foreground",children:"Enhanced Event Details"}),s.jsx("p",{className:"text-white/50 mb-6",children:"Add additional preferences to help provide better suggestions for volunteer roles and event planning."}),s.jsx(HB,{details:Ht,onDetailsChange:gn,isExpanded:!0,onToggleExpand:()=>{},disabled:t&&!R})]}),F===4&&!d&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 text-foreground",children:"Pre-Event Task Planning"}),s.jsx("p",{className:"text-white/50 mb-6",children:"Create and assign tasks needed before your event."}),s.jsx(GB,{tasks:ar,onTasksChange:Rn,contacts:i,eventDate:B.date,eventDescription:B.description,disabled:t&&!R})]}),F===5&&s.jsxs("div",{className:"space-y-5 md:space-y-6",children:[s.jsx("div",{className:"md:hidden",children:s.jsxs("div",{className:"bg-gradient-to-br from-navy-800 via-navy-800/90 to-navy-800/80 rounded-3xl border border-white/10 shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"p-5 pb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground leading-tight",children:B.title||"Untitled Event"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white/5 rounded-xl border border-white/10 text-sm font-medium text-white/70",children:[s.jsx(Dt,{className:"w-4 h-4 text-gold-400"}),B.date?jt(B.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}):"No date"]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white/5 rounded-xl border border-white/10 text-sm font-medium text-white/70",children:[s.jsx(wr,{className:"w-4 h-4 text-gold-400"}),ct(B.startTime)||"--:--"," - ",ct(B.endTime)||"--:--",B.startTime&&B.endTime&&it(B.startTime,B.endTime)&&s.jsx("span",{className:"text-xs text-gold-400/70",children:"(+1)"})]})]}),s.jsxs("div",{className:"flex items-start gap-2 mt-3 text-white/50",children:[s.jsx(qn,{className:"w-4 h-4 text-white/30 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:B.location||"No location set"})]})]}),He.some(U=>U.volunteerRoles.length>0)&&s.jsx("div",{className:"px-5 pb-5",children:s.jsxs("div",{className:"bg-white/5 rounded-2xl border border-white/10 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(At,{className:"w-5 h-5 text-gold-400"}),s.jsx("span",{className:"text-sm font-semibold text-white/70",children:"Volunteer Roles"})]}),s.jsx("div",{className:"space-y-2",children:He.flatMap(U=>U.volunteerRoles.map(V=>s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-white/5 last:border-0",children:[s.jsx("span",{className:"font-medium text-foreground",children:V.roleLabel||"Untitled"}),s.jsxs("span",{className:"text-sm text-white/40 bg-white/10 px-2 py-1 rounded-lg",children:[V.slotsBrother+V.slotsSister+(V.slotsFlexible||0)," needed"]})]},V.id)))}),s.jsxs("div",{className:"flex items-center justify-between pt-3 mt-2 border-t border-white/10",children:[s.jsx("span",{className:"text-sm font-semibold text-white/50",children:"Total volunteers"}),s.jsx("span",{className:"text-lg font-bold text-gold-400",children:He.reduce((U,V)=>U+V.volunteerRoles.reduce((se,ze)=>se+ze.slotsBrother+ze.slotsSister+(ze.slotsFlexible||0),0),0)})]})]})}),!He.some(U=>U.volunteerRoles.length>0)&&s.jsx("div",{className:"px-5 pb-5",children:s.jsxs("div",{className:"bg-yellow-50 rounded-2xl border border-yellow-200 p-4 flex items-start gap-3",children:[s.jsx(Eu,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-amber-300",children:"No volunteer roles defined"}),s.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Go back to add roles for your event"})]})]})})]})}),s.jsxs(Te,{className:"hidden md:block mb-6 bg-white/5 border-white/10",children:[s.jsx(Lt,{className:"pb-2",children:s.jsxs(Ft,{className:"flex items-center space-x-2 text-foreground",children:[s.jsx(Dt,{className:"w-5 h-5"}),s.jsx("span",{children:"Event Summary"})]})}),s.jsx(Ie,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground",children:B.title}),s.jsxs("div",{className:"text-sm text-white/50 space-y-2 mt-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dt,{className:"w-4 h-4 text-white/70"}),s.jsx("span",{children:jt(B.date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(wr,{className:"w-4 h-4 text-white/70"}),s.jsxs("span",{children:[ct(B.startTime)," - ",ct(B.endTime),B.startTime&&B.endTime&&it(B.startTime,B.endTime)&&s.jsx("span",{className:"ml-2 text-gold-400/70 text-xs",children:"(overnight)"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qn,{className:"w-4 h-4 text-white/70"}),s.jsx("span",{children:B.location})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h5",{className:"font-medium text-foreground",children:"Volunteer Roles"}),He.some(U=>U.volunteerRoles.length>0)?s.jsx("div",{className:"space-y-2",children:He.map(U=>U.volunteerRoles.map(V=>s.jsx("div",{className:"text-sm text-white/50 flex items-center gap-2",children:s.jsxs("span",{children:[ct(V.shiftStartTime)," - ",ct(V.shiftEndTime)," ",V.roleLabel,": ",V.slotsBrother+V.slotsSister+(V.slotsFlexible||0)," slots"]})},V.id)))}):s.jsx("p",{className:"text-sm text-white/40",children:"No volunteer roles defined yet"})]})]})})]}),s.jsx(Bo,{title:"SMS Reminders",collapsible:!0,defaultExpanded:B.smsEnabled,className:"md:bg-white/5 md:border md:border-white/10 md:shadow-none",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(re,{className:"text-base md:text-sm font-medium text-white/70 md:text-white/70",children:"Enable SMS Reminders"}),s.jsx("p",{className:"text-sm text-white/40 md:text-white/40 mt-0.5",children:"Automatic reminders for volunteers"})]}),s.jsx(fs,{checked:B.smsEnabled,onCheckedChange:U=>Ne(V=>({...V,smsEnabled:U})),disabled:t&&!R})]}),B.smsEnabled&&s.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4 pt-4 border-t border-white/10 md:border-white/5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{className:"text-sm text-white/50 md:text-white/70 font-medium",children:"Day Before"}),s.jsx(he,{type:"time",value:B.dayBeforeTime,onChange:U=>Ne(V=>({...V,dayBeforeTime:U.target.value})),className:"h-12 md:h-10 border-white/10 md:border-white/10 focus-visible:ring-gold-400 md:focus-visible:ring-gold-400 rounded-xl md:rounded-lg",disabled:t&&!R})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{className:"text-sm text-white/50 md:text-white/70 font-medium",children:"Day Of"}),s.jsx(he,{type:"time",value:B.dayOfTime,onChange:U=>Ne(V=>({...V,dayOfTime:U.target.value})),className:"h-12 md:h-10 border-white/10 md:border-white/10 focus-visible:ring-gold-400 md:focus-visible:ring-gold-400 rounded-xl md:rounded-lg",disabled:t&&!R})]})]})]})}),s.jsx(Bo,{title:"Save as Template",collapsible:!0,defaultExpanded:!1,className:"md:bg-white/5 md:border md:border-white/10 md:shadow-none",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-white/50 md:text-white/50",children:"Save this event setup as a template for future events."}),s.jsx(mz,{eventData:B,itinerary:He,additionalDetails:Ht,preEventTasks:ar,disabled:t&&!R,sourceTemplateId:(zx=r.state)==null?void 0:zx.templateId,sourceTemplateName:(Vx=r.state)!=null&&Vx.templateId?(Wx=r.state)==null?void 0:Wx.templateName:void 0})]})})]})]})})}),s.jsx("div",{className:"hidden lg:block lg:col-span-1",children:s.jsx(Te,{className:"border-0 shadow-sm",children:s.jsxs(Ie,{className:"p-6",children:[n===1&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Live Preview"}),s.jsx(W,{variant:"ghost",size:"sm",onClick:()=>O(!_),className:"h-8 w-8 p-0",children:_?s.jsx(Ai,{className:"w-4 h-4"}):s.jsx(Ii,{className:"w-4 h-4"})})]}),_&&s.jsxs("div",{className:"space-y-4",children:[B.title&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-white/70",children:"Event Title"}),s.jsx("p",{className:"text-sm text-foreground bg-background p-3 rounded-lg border",children:B.title})]}),(B.date||B.startTime||B.endTime)&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-white/70",children:"Date & Time"}),s.jsxs("div",{className:"text-sm text-foreground bg-background p-3 rounded-lg border space-y-1",children:[B.date&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"w-4 h-4 text-white/40"}),s.jsx("span",{children:jt(B.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(B.startTime||B.endTime)&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wr,{className:"w-4 h-4 text-white/40"}),s.jsxs("span",{children:[ct(B.startTime)||"--:--"," - ",ct(B.endTime)||"--:--",B.startTime&&B.endTime&&it(B.startTime,B.endTime)&&s.jsx("span",{className:"ml-2 text-gold-400/70 text-xs",children:"(overnight)"})]})]})]})]}),B.location&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-white/70",children:"Location"}),s.jsxs("div",{className:"text-sm text-foreground bg-background p-3 rounded-lg border flex items-center gap-2",children:[s.jsx(qn,{className:"w-4 h-4 text-white/40"}),s.jsx("span",{children:B.location})]})]}),B.description&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-white/70",children:"Description"}),s.jsx("div",{className:"text-sm text-foreground bg-background p-3 rounded-lg border",children:B.description})]}),!B.title&&!B.date&&!B.startTime&&!B.endTime&&!B.location&&!B.description&&s.jsxs("div",{className:"text-center py-8 text-white/40",children:[s.jsx(Dt,{className:"w-8 h-8 mx-auto mb-2 text-white/20"}),s.jsx("p",{className:"text-sm",children:"Start filling out your event details to see a live preview here."})]})]})]}),n===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Itinerary Preview"}),s.jsx(W,{variant:"ghost",size:"sm",onClick:()=>O(!_),className:"h-8 w-8 p-0",children:_?s.jsx(Ai,{className:"w-4 h-4"}):s.jsx(Ii,{className:"w-4 h-4"})})]}),_&&s.jsx("div",{className:"space-y-4",children:He.length>0?s.jsx("div",{className:"space-y-3",children:He.map((U,V)=>s.jsxs("div",{className:"bg-background p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-white/70",children:ct(U.time)}),s.jsxs("span",{className:"text-xs text-white/40 bg-white/5 px-2 py-1 rounded",children:[U.volunteerRoles.length," roles"]})]}),s.jsx("h5",{className:"font-medium text-foreground text-sm mb-1",children:U.title}),U.description&&s.jsx("p",{className:"text-xs text-white/50 mb-2",children:U.description}),U.volunteerRoles.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-white/70",children:"Volunteer Roles:"}),U.volunteerRoles.map((se,ze)=>s.jsxs("div",{className:"text-xs text-white/50 bg-white/5 p-2 rounded border",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:se.roleLabel}),s.jsxs("span",{className:"text-white/40",children:[se.slotsBrother+se.slotsSister+(se.slotsFlexible||0)," slots"]})]}),se.notes&&s.jsx("p",{className:"text-white/40 mt-1",children:se.notes})]},ze))]})]},V))}):s.jsxs("div",{className:"text-center py-8 text-white/40",children:[s.jsx(wr,{className:"w-8 h-8 mx-auto mb-2 text-white/20"}),s.jsx("p",{className:"text-sm",children:"No itinerary items yet. Start planning your event timeline."})]})})]}),n===5&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Publish Summary"}),s.jsx(W,{variant:"ghost",size:"sm",onClick:()=>O(!_),className:"h-8 w-8 p-0",children:_?s.jsx(Ai,{className:"w-4 h-4"}):s.jsx(Ii,{className:"w-4 h-4"})})]}),_&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-background p-3 rounded-lg border",children:[s.jsx("h4",{className:"font-medium text-white/70 text-sm mb-2",children:"Event Overview"}),s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/50",children:"Status:"}),s.jsx("span",{className:`font-medium ${B.status==="published"?"text-emerald-400":"text-yellow-600"}`,children:B.status==="published"?"Published":"Draft"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/50",children:"Visibility:"}),s.jsx("span",{className:`font-medium ${B.isPublic?"text-emerald-400":"text-orange-600"}`,children:B.isPublic?"Public":"Private"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/50",children:"SMS Reminders:"}),s.jsx("span",{className:"font-medium",children:B.smsEnabled?"Enabled":"Disabled"})]}),B.smsEnabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/50",children:"Day Before:"}),s.jsx("span",{className:"font-medium",children:ct(B.dayBeforeTime)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/50",children:"Day Of:"}),s.jsx("span",{className:"font-medium",children:ct(B.dayOfTime)})]})]})]})]}),s.jsx("div",{className:"bg-background p-3 rounded-lg border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-white/70 text-sm",children:"Event Visibility"}),s.jsx("p",{className:"text-xs text-white/40",children:B.isPublic?"Event is visible to the public":"Event is private (admin only)"})]}),s.jsx(fs,{checked:B.isPublic,onCheckedChange:U=>Ne(V=>({...V,isPublic:U})),disabled:t&&!R})]})}),s.jsxs("div",{className:"bg-background p-3 rounded-lg border",children:[s.jsx("h4",{className:"font-medium text-white/70 text-sm mb-2",children:"Itinerary Summary"}),s.jsxs("div",{className:"text-xs text-white/50",children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{children:"Total Items:"}),s.jsx("span",{className:"font-medium",children:He.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total Roles:"}),s.jsx("span",{className:"font-medium",children:He.reduce((U,V)=>U+V.volunteerRoles.length,0)})]})]})]}),s.jsxs("div",{className:"bg-background p-3 rounded-lg border",children:[s.jsx("h4",{className:"font-medium text-white/70 text-sm mb-2",children:"Publish Checklist"}),s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${B.title?"bg-green-500":"bg-white/20"}`}),s.jsx("span",{className:B.title?"text-foreground":"text-white/40",children:"Event title"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${B.date?"bg-green-500":"bg-white/20"}`}),s.jsx("span",{className:B.date?"text-foreground":"text-white/40",children:"Date & time"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${B.location?"bg-green-500":"bg-white/20"}`}),s.jsx("span",{className:B.location?"text-foreground":"text-white/40",children:"Location"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${B.description?"bg-green-500":"bg-white/20"}`}),s.jsx("span",{className:B.description?"text-foreground":"text-white/40",children:"Description"})]})]})]})]})]}),n!==1&&n!==2&&n!==5&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Itinerary Preview"}),s.jsx(W,{variant:"ghost",size:"sm",onClick:()=>O(!_),className:"h-8 w-8 p-0",children:_?s.jsx(Ai,{className:"w-4 h-4"}):s.jsx(Ii,{className:"w-4 h-4"})})]}),_&&s.jsx("div",{className:"space-y-4",children:He.length>0?s.jsx("div",{className:"space-y-3",children:He.map((U,V)=>s.jsxs("div",{className:"bg-background p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-white/70",children:ct(U.time)}),s.jsxs("span",{className:"text-xs text-white/40 bg-white/5 px-2 py-1 rounded",children:[U.volunteerRoles.length," roles"]})]}),s.jsx("h5",{className:"font-medium text-foreground text-sm mb-1",children:U.title}),U.description&&s.jsx("p",{className:"text-xs text-white/50 mb-2",children:U.description}),U.volunteerRoles.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-white/70",children:"Volunteer Roles:"}),U.volunteerRoles.map((se,ze)=>s.jsxs("div",{className:"text-xs text-white/50 bg-white/5 p-2 rounded border",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:se.roleLabel}),s.jsxs("span",{className:"text-white/40",children:[ct(se.shiftStartTime)," - ",ct(se.shiftEndTime)," ",se.slotsBrother+se.slotsSister+(se.slotsFlexible||0)," slots"]})]}),se.notes&&s.jsx("p",{className:"text-white/40 mt-1",children:se.notes})]},ze))]})]},V))}):s.jsxs("div",{className:"text-center py-8 text-white/40",children:[s.jsx(wr,{className:"w-8 h-8 mx-auto mb-2 text-white/20"}),s.jsx("p",{className:"text-sm",children:"No itinerary items yet. Start planning your event timeline."})]})})]})]})})})]})]}),s.jsx(Sk,{statusText:C?"Saving...":N?"Publishing...":$?"Unsaved changes":T?`Saved ${T.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}`:void 0,primaryAction:{label:n===vt.length?t?"Update Event":"Publish Event":"Continue",onClick:n===vt.length&&J()?()=>nt("published"):oe,disabled:n===vt.length&&(!J()||t&&!R)||n!==vt.length&&n===vt.length||N,loading:N},secondaryAction:n>1?{label:"Previous",onClick:de}:void 0,children:s.jsxs("div",{className:"flex items-center gap-2",children:[t&&R&&s.jsx(W,{variant:"ghost",size:"sm",onClick:()=>y(!0),disabled:Be,className:"h-9 w-9 p-0 text-white/40 hover:text-red-400 hover:bg-red-500/10",title:"Delete Event",children:s.jsx(Gr,{className:"w-4 h-4"})}),!t&&J()&&s.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>nt("draft"),className:"h-9 px-3 text-white/50 hover:bg-white/10",children:[s.jsx(_u,{className:"w-4 h-4 mr-1.5"}),"Save Draft"]})]})}),s.jsx("div",{className:"h-32 md:h-20"}),s.jsx(fr,{open:m,onOpenChange:p,children:s.jsxs(nr,{className:"max-w-md",children:[s.jsxs(sr,{children:[s.jsx(or,{children:"Add New Contact"}),s.jsx(ir,{children:"Add someone who will be a point of contact for volunteer roles."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"contactFirstName",children:"First Name"}),s.jsx(he,{id:"contactFirstName",value:g.firstName,onChange:U=>ut(U.target.value),placeholder:"First name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"contactLastName",children:"Last Name"}),s.jsx(he,{id:"contactLastName",value:g.lastName,onChange:U=>St(U.target.value),placeholder:"Last name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"contactPhone",children:"Phone"}),s.jsx($a,{id:"contactPhone",value:g.phone,onChange:U=>le(U),placeholder:"Phone number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"contactGender",children:"Gender *"}),s.jsx(eo,{options:[{value:"",label:"Select gender"},{value:"brother",label:"Brother"},{value:"sister",label:"Sister"}],value:g.gender,onChange:Ce,placeholder:"Select gender"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(W,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),s.jsx(W,{onClick:$e,children:"Add Contact"})]})]})}),s.jsx(fr,{open:f,onOpenChange:y,children:s.jsxs(nr,{children:[s.jsxs(sr,{children:[s.jsx(or,{children:"Delete Event"}),s.jsx(ir,{children:"Are you sure you want to delete this event? This action cannot be undone."})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(W,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(W,{variant:"destructive",onClick:Ao,disabled:Be,children:Be?"Deleting...":"Delete Event"})]})]})}),s.jsx(fr,{open:Q,onOpenChange:ue,children:s.jsxs(nr,{children:[s.jsxs(sr,{children:[s.jsxs(or,{className:"flex items-center gap-2",children:[s.jsx(Eu,{className:"w-5 h-5 text-yellow-600"}),"Unsaved Changes"]}),s.jsx(ir,{children:"You have unsaved changes. Would you like to save your work as a draft before leaving?"})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(W,{variant:"outline",onClick:()=>{if(ue(!1),fe){if(fe.startsWith("step-")){const U=parseInt(fe.replace("step-",""));o(U)}else e(fe);_e(null)}},children:"Leave Without Saving"}),s.jsx(W,{onClick:async()=>{try{if(await nt("draft"),Oe({title:"Draft Saved",description:"Your progress has been saved as a draft."}),ue(!1),fe){if(fe.startsWith("step-")){const U=parseInt(fe.replace("step-",""));o(U)}else e(fe);_e(null)}}catch{Oe({title:"Save Failed",description:"Failed to save draft. Please try again.",variant:"destructive"})}},className:"bg-gold-400 hover:bg-gold-300 text-white",children:"Save as Draft"})]})]})})]})};function Xz(e){const t=Zz(e),r=h.forwardRef((n,o)=>{const{children:i,...a}=n,l=h.Children.toArray(i),c=l.find(tV);if(c){const d=c.props.children,u=l.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...a,ref:o,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return s.jsx(t,{...a,ref:o,children:i})});return r.displayName=`${e}.Slot`,r}function Zz(e){const t=h.forwardRef((r,n)=>{const{children:o,...i}=r;if(h.isValidElement(o)){const a=nV(o),l=rV(i,o.props);return o.type!==h.Fragment&&(l.ref=n?Ar(n,a):a),h.cloneElement(o,l)}return h.Children.count(o)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eV=Symbol("radix.slottable");function tV(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eV}function rV(e,t){const r={...t};for(const n in t){const o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...l)=>{const c=i(...l);return o(...l),c}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function nV(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var mg=["Enter"," "],sV=["ArrowDown","PageUp","Home"],Ak=["ArrowUp","PageDown","End"],oV=[...sV,...Ak],iV={ltr:[...mg,"ArrowRight"],rtl:[...mg,"ArrowLeft"]},aV={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Wc="Menu",[vc,lV,cV]=ch(Wc),[ji,Ik]=Lr(Wc,[cV,Eo,rl]),Hh=Eo(),Mk=rl(),[dV,Ni]=ji(Wc),[uV,Hc]=ji(Wc),$k=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:o,onOpenChange:i,modal:a=!0}=e,l=Hh(t),[c,d]=h.useState(null),u=h.useRef(!1),m=Ir(i),p=$c(o);return h.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),s.jsx(Tv,{...l,children:s.jsx(dV,{scope:t,open:r,onOpenChange:m,content:c,onContentChange:d,children:s.jsx(uV,{scope:t,onClose:h.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:p,modal:a,children:n})})})};$k.displayName=Wc;var hV="MenuAnchor",wx=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Hh(r);return s.jsx(Pc,{...o,...n,ref:t})});wx.displayName=hV;var bx="MenuPortal",[fV,Lk]=ji(bx,{forceMount:void 0}),Fk=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:o}=e,i=Ni(bx,t);return s.jsx(fV,{scope:t,forceMount:r,children:s.jsx(Zr,{present:r||i.open,children:s.jsx(Va,{asChild:!0,container:o,children:n})})})};Fk.displayName=bx;var kn="MenuContent",[mV,jx]=ji(kn),Uk=h.forwardRef((e,t)=>{const r=Lk(kn,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,i=Ni(kn,e.__scopeMenu),a=Hc(kn,e.__scopeMenu);return s.jsx(vc.Provider,{scope:e.__scopeMenu,children:s.jsx(Zr,{present:n||i.open,children:s.jsx(vc.Slot,{scope:e.__scopeMenu,children:a.modal?s.jsx(pV,{...o,ref:t}):s.jsx(gV,{...o,ref:t})})})})}),pV=h.forwardRef((e,t)=>{const r=Ni(kn,e.__scopeMenu),n=h.useRef(null),o=We(t,n);return h.useEffect(()=>{const i=n.current;if(i)return Ph(i)},[]),s.jsx(Nx,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ie(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),gV=h.forwardRef((e,t)=>{const r=Ni(kn,e.__scopeMenu);return s.jsx(Nx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),vV=Xz("MenuContent.ScrollLock"),Nx=h.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:p,onDismiss:f,disableOutsideScroll:y,...g}=e,v=Ni(kn,r),w=Hc(kn,r),x=Hh(r),b=Mk(r),j=lV(r),[T,S]=h.useState(null),N=h.useRef(null),E=We(t,N,v.onContentChange),R=h.useRef(0),P=h.useRef(""),_=h.useRef(0),O=h.useRef(null),M=h.useRef("right"),A=h.useRef(0),H=y?Dc:h.Fragment,q=y?{as:vV,allowPinchZoom:!0}:void 0,I=$=>{var Q,ue;const Y=P.current+$,C=j().filter(fe=>!fe.disabled),k=document.activeElement,L=(Q=C.find(fe=>fe.ref.current===k))==null?void 0:Q.textValue,z=C.map(fe=>fe.textValue),G=TV(z,Y,L),X=(ue=C.find(fe=>fe.textValue===G))==null?void 0:ue.ref.current;(function fe(_e){P.current=_e,window.clearTimeout(R.current),_e!==""&&(R.current=window.setTimeout(()=>fe(""),1e3))})(Y),X&&setTimeout(()=>X.focus())};h.useEffect(()=>()=>window.clearTimeout(R.current),[]),kh();const D=h.useCallback($=>{var C,k;return M.current===((C=O.current)==null?void 0:C.side)&&RV($,(k=O.current)==null?void 0:k.area)},[]);return s.jsx(mV,{scope:r,searchRef:P,onItemEnter:h.useCallback($=>{D($)&&$.preventDefault()},[D]),onItemLeave:h.useCallback($=>{var Y;D($)||((Y=N.current)==null||Y.focus(),S(null))},[D]),onTriggerLeave:h.useCallback($=>{D($)&&$.preventDefault()},[D]),pointerGraceTimerRef:_,onPointerGraceIntentChange:h.useCallback($=>{O.current=$},[]),children:s.jsx(H,{...q,children:s.jsx(Oc,{asChild:!0,trapped:o,onMountAutoFocus:ie(i,$=>{var Y;$.preventDefault(),(Y=N.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:s.jsx(wi,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:p,onDismiss:f,children:s.jsx(mx,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:T,onCurrentTabStopIdChange:S,onEntryFocus:ie(c,$=>{w.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(gh,{role:"menu","aria-orientation":"vertical","data-state":r2(v.open),"data-radix-menu-content":"",dir:w.dir,...x,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:ie(g.onKeyDown,$=>{const C=$.target.closest("[data-radix-menu-content]")===$.currentTarget,k=$.ctrlKey||$.altKey||$.metaKey,L=$.key.length===1;C&&($.key==="Tab"&&$.preventDefault(),!k&&L&&I($.key));const z=N.current;if($.target!==z||!oV.includes($.key))return;$.preventDefault();const X=j().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);Ak.includes($.key)&&X.reverse(),EV(X)}),onBlur:ie(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(R.current),P.current="")}),onPointerMove:ie(e.onPointerMove,xc($=>{const Y=$.target,C=A.current!==$.clientX;if($.currentTarget.contains(Y)&&C){const k=$.clientX>A.current?"right":"left";M.current=k,A.current=$.clientX}}))})})})})})})});Uk.displayName=kn;var xV="MenuGroup",_x=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ye.div,{role:"group",...n,ref:t})});_x.displayName=xV;var yV="MenuLabel",Bk=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ye.div,{...n,ref:t})});Bk.displayName=yV;var Wu="MenuItem",hb="menu.itemSelect",qh=h.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...o}=e,i=h.useRef(null),a=Hc(Wu,e.__scopeMenu),l=jx(Wu,e.__scopeMenu),c=We(t,i),d=h.useRef(!1),u=()=>{const m=i.current;if(!r&&m){const p=new CustomEvent(hb,{bubbles:!0,cancelable:!0});m.addEventListener(hb,f=>n==null?void 0:n(f),{once:!0}),hv(m,p),p.defaultPrevented?d.current=!1:a.onClose()}};return s.jsx(zk,{...o,ref:c,disabled:r,onClick:ie(e.onClick,u),onPointerDown:m=>{var p;(p=e.onPointerDown)==null||p.call(e,m),d.current=!0},onPointerUp:ie(e.onPointerUp,m=>{var p;d.current||(p=m.currentTarget)==null||p.click()}),onKeyDown:ie(e.onKeyDown,m=>{const p=l.searchRef.current!=="";r||p&&m.key===" "||mg.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});qh.displayName=Wu;var zk=h.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:o,...i}=e,a=jx(Wu,r),l=Mk(r),c=h.useRef(null),d=We(t,c),[u,m]=h.useState(!1),[p,f]=h.useState("");return h.useEffect(()=>{const y=c.current;y&&f((y.textContent??"").trim())},[i.children]),s.jsx(vc.ItemSlot,{scope:r,disabled:n,textValue:o??p,children:s.jsx(px,{asChild:!0,...l,focusable:!n,children:s.jsx(ye.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:ie(e.onPointerMove,xc(y=>{n?a.onItemLeave(y):(a.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ie(e.onPointerLeave,xc(y=>a.onItemLeave(y))),onFocus:ie(e.onFocus,()=>m(!0)),onBlur:ie(e.onBlur,()=>m(!1))})})})}),wV="MenuCheckboxItem",Vk=h.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...o}=e;return s.jsx(Yk,{scope:e.__scopeMenu,checked:r,children:s.jsx(qh,{role:"menuitemcheckbox","aria-checked":Hu(r)?"mixed":r,...o,ref:t,"data-state":Cx(r),onSelect:ie(o.onSelect,()=>n==null?void 0:n(Hu(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Vk.displayName=wV;var Wk="MenuRadioGroup",[bV,jV]=ji(Wk,{value:void 0,onValueChange:()=>{}}),Hk=h.forwardRef((e,t)=>{const{value:r,onValueChange:n,...o}=e,i=Ir(n);return s.jsx(bV,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(_x,{...o,ref:t})})});Hk.displayName=Wk;var qk="MenuRadioItem",Gk=h.forwardRef((e,t)=>{const{value:r,...n}=e,o=jV(qk,e.__scopeMenu),i=r===o.value;return s.jsx(Yk,{scope:e.__scopeMenu,checked:i,children:s.jsx(qh,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":Cx(i),onSelect:ie(n.onSelect,()=>{var a;return(a=o.onValueChange)==null?void 0:a.call(o,r)},{checkForDefaultPrevented:!1})})})});Gk.displayName=qk;var Sx="MenuItemIndicator",[Yk,NV]=ji(Sx,{checked:!1}),Kk=h.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...o}=e,i=NV(Sx,r);return s.jsx(Zr,{present:n||Hu(i.checked)||i.checked===!0,children:s.jsx(ye.span,{...o,ref:t,"data-state":Cx(i.checked)})})});Kk.displayName=Sx;var _V="MenuSeparator",Qk=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ye.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Qk.displayName=_V;var SV="MenuArrow",Jk=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Hh(r);return s.jsx(vh,{...o,...n,ref:t})});Jk.displayName=SV;var CV="MenuSub",[Q9,Xk]=ji(CV),Cl="MenuSubTrigger",Zk=h.forwardRef((e,t)=>{const r=Ni(Cl,e.__scopeMenu),n=Hc(Cl,e.__scopeMenu),o=Xk(Cl,e.__scopeMenu),i=jx(Cl,e.__scopeMenu),a=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=h.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return h.useEffect(()=>u,[u]),h.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),s.jsx(wx,{asChild:!0,...d,children:s.jsx(zk,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":r2(r.open),...e,ref:Ar(t,o.onTriggerChange),onClick:m=>{var p;(p=e.onClick)==null||p.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ie(e.onPointerMove,xc(m=>{i.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:ie(e.onPointerLeave,xc(m=>{var f,y;u();const p=(f=r.content)==null?void 0:f.getBoundingClientRect();if(p){const g=(y=r.content)==null?void 0:y.dataset.side,v=g==="right",w=v?-5:5,x=p[v?"left":"right"],b=p[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+w,y:m.clientY},{x,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x,y:p.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ie(e.onKeyDown,m=>{var f;const p=i.searchRef.current!=="";e.disabled||p&&m.key===" "||iV[n.dir].includes(m.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),m.preventDefault())})})})});Zk.displayName=Cl;var e2="MenuSubContent",t2=h.forwardRef((e,t)=>{const r=Lk(kn,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,i=Ni(kn,e.__scopeMenu),a=Hc(kn,e.__scopeMenu),l=Xk(e2,e.__scopeMenu),c=h.useRef(null),d=We(t,c);return s.jsx(vc.Provider,{scope:e.__scopeMenu,children:s.jsx(Zr,{present:n||i.open,children:s.jsx(vc.Slot,{scope:e.__scopeMenu,children:s.jsx(Nx,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var m;a.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ie(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ie(e.onEscapeKeyDown,u=>{a.onClose(),u.preventDefault()}),onKeyDown:ie(e.onKeyDown,u=>{var f;const m=u.currentTarget.contains(u.target),p=aV[a.dir].includes(u.key);m&&p&&(i.onOpenChange(!1),(f=l.trigger)==null||f.focus(),u.preventDefault())})})})})})});t2.displayName=e2;function r2(e){return e?"open":"closed"}function Hu(e){return e==="indeterminate"}function Cx(e){return Hu(e)?"indeterminate":e?"checked":"unchecked"}function EV(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function kV(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function TV(e,t,r){const o=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=kV(e,Math.max(i,0));o.length===1&&(a=a.filter(d=>d!==r));const c=a.find(d=>d.toLowerCase().startsWith(o.toLowerCase()));return c!==r?c:void 0}function PV(e,t){const{x:r,y:n}=e;let o=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i],c=t[a],d=l.x,u=l.y,m=c.x,p=c.y;u>n!=p>n&&r<(m-d)*(n-u)/(p-u)+d&&(o=!o)}return o}function RV(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return PV(r,t)}function xc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var OV=$k,DV=wx,AV=Fk,IV=Uk,MV=_x,$V=Bk,LV=qh,FV=Vk,UV=Hk,BV=Gk,zV=Kk,VV=Qk,WV=Jk,HV=Zk,qV=t2,Gh="DropdownMenu",[GV]=Lr(Gh,[Ik]),Ur=Ik(),[YV,n2]=GV(Gh),s2=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:o,defaultOpen:i,onOpenChange:a,modal:l=!0}=e,c=Ur(t),d=h.useRef(null),[u,m]=Qn({prop:o,defaultProp:i??!1,onChange:a,caller:Gh});return s.jsx(YV,{scope:t,triggerId:hr(),triggerRef:d,contentId:hr(),open:u,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(p=>!p),[m]),modal:l,children:s.jsx(OV,{...c,open:u,onOpenChange:m,dir:n,modal:l,children:r})})};s2.displayName=Gh;var o2="DropdownMenuTrigger",i2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,i=n2(o2,r),a=Ur(r);return s.jsx(DV,{asChild:!0,...a,children:s.jsx(ye.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:Ar(t,i.triggerRef),onPointerDown:ie(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ie(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});i2.displayName=o2;var KV="DropdownMenuPortal",a2=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ur(t);return s.jsx(AV,{...n,...r})};a2.displayName=KV;var l2="DropdownMenuContent",c2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=n2(l2,r),i=Ur(r),a=h.useRef(!1);return s.jsx(IV,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...n,ref:t,onCloseAutoFocus:ie(e.onCloseAutoFocus,l=>{var c;a.current||(c=o.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:ie(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!o.modal||u)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});c2.displayName=l2;var QV="DropdownMenuGroup",JV=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ur(r);return s.jsx(MV,{...o,...n,ref:t})});JV.displayName=QV;var XV="DropdownMenuLabel",d2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ur(r);return s.jsx($V,{...o,...n,ref:t})});d2.displayName=XV;var ZV="DropdownMenuItem",u2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ur(r);return s.jsx(LV,{...o,...n,ref:t})});u2.displayName=ZV;var e7="DropdownMenuCheckboxItem",h2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ur(r);return s.jsx(FV,{...o,...n,ref:t})});h2.displayName=e7;var t7="DropdownMenuRadioGroup",r7=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ur(r);return s.jsx(UV,{...o,...n,ref:t})});r7.displayName=t7;var n7="DropdownMenuRadioItem",f2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ur(r);return s.jsx(BV,{...o,...n,ref:t})});f2.displayName=n7;var s7="DropdownMenuItemIndicator",m2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ur(r);return s.jsx(zV,{...o,...n,ref:t})});m2.displayName=s7;var o7="DropdownMenuSeparator",p2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ur(r);return s.jsx(VV,{...o,...n,ref:t})});p2.displayName=o7;var i7="DropdownMenuArrow",a7=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ur(r);return s.jsx(WV,{...o,...n,ref:t})});a7.displayName=i7;var l7="DropdownMenuSubTrigger",g2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ur(r);return s.jsx(HV,{...o,...n,ref:t})});g2.displayName=l7;var c7="DropdownMenuSubContent",v2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ur(r);return s.jsx(qV,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});v2.displayName=c7;var d7=s2,u7=i2,h7=a2,x2=c2,y2=d2,w2=u2,b2=h2,j2=f2,N2=m2,_2=p2,S2=g2,C2=v2;const E2=d7,k2=u7,f7=h.forwardRef(({className:e,inset:t,children:r,...n},o)=>s.jsxs(S2,{ref:o,className:te("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,s.jsx(gv,{className:"ml-auto"})]}));f7.displayName=S2.displayName;const m7=h.forwardRef(({className:e,...t},r)=>s.jsx(C2,{ref:r,className:te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));m7.displayName=C2.displayName;const Ex=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(h7,{children:s.jsx(x2,{ref:n,sideOffset:t,className:te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-navy-800/95 p-1 text-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ex.displayName=x2.displayName;const Fl=h.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(w2,{ref:n,className:te("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-white/5 focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Fl.displayName=w2.displayName;const p7=h.forwardRef(({className:e,children:t,checked:r,...n},o)=>s.jsxs(b2,{ref:o,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(N2,{children:s.jsx(kc,{className:"h-4 w-4"})})}),t]}));p7.displayName=b2.displayName;const g7=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(j2,{ref:n,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(N2,{children:s.jsx(g1,{className:"h-2 w-2 fill-current"})})}),t]}));g7.displayName=j2.displayName;const v7=h.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(y2,{ref:n,className:te("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));v7.displayName=y2.displayName;const x7=h.forwardRef(({className:e,...t},r)=>s.jsx(_2,{ref:r,className:te("-mx-1 my-1 h-px bg-muted",e),...t}));x7.displayName=_2.displayName;const y7=()=>{const e=Fr(),{toast:t}=Xt(),r=Mc(),[n,o]=h.useState([]),[i,a]=h.useState(!1),[l,c]=h.useState(null),[d,u]=h.useState({firstName:"",lastName:"",phone:"",email:"",gender:"",contactType:""}),[m,p]=h.useState({}),[f,y]=h.useState(null),[g,v]=h.useState(!0),[w,x]=h.useState(""),[b,j]=h.useState("all"),[T,S]=h.useState("all"),[N,E]=h.useState("all"),[R,P]=h.useState("all"),[_,O]=h.useState([]),[M,A]=h.useState([]),[H,q]=h.useState([]),[I,D]=h.useState([]),[$,Y]=h.useState(!1),[C,k]=h.useState(!1),[L,z]=h.useState(null),[G,X]=h.useState([]),[Q,ue]=h.useState(!1),[fe,_e]=h.useState(!1),[B,Ne]=h.useState("recent"),Ze=F=>{const J=(F||"").replace(/[^\d+]/g,"");return J.startsWith("+")?J:/^1\d{10}$/.test(J)?`+${J}`:/^\d{10}$/.test(J)?`+1${J}`:J?`+${J}`:""};h.useEffect(()=>{(async()=>{const{data:{user:J}}=await K.auth.getUser();if(!J){e("/login");return}y(J),await it(J.id),await _r(J.id)})()},[e]);const it=async F=>{try{v(!0);const{data:J,error:oe}=await K.from("contacts").select("*").order("created_at",{ascending:!1});if(oe){console.error("Error loading contacts:",oe),t({title:"Error",description:"Failed to load contacts.",variant:"destructive"});return}const de=J||[],{data:Le}=await K.from("events").select("id").is("deleted_at",null),dt=new Set((Le||[]).map(le=>le.id)),{data:Ke}=await K.from("volunteer_roles").select("event_id, suggested_poc"),ut=new Map;(Ke||[]).forEach(le=>{if(!dt.has(le.event_id))return;(Array.isArray(le.suggested_poc)?le.suggested_poc:le.suggested_poc?[le.suggested_poc]:[]).forEach($e=>{$e&&ut.set($e,(ut.get($e)||0)+1)})});const St=await Promise.all(de.map(async le=>{let Ce=[];console.log("Loading volunteer signups for contact:",le.id,"with source:",le.source);try{const{data:lt,error:nt}=await K.rpc("get_volunteer_signups_by_phone",{p_phone:le.phone});nt?console.error("Error loading volunteers for contact:",le.id,nt):lt&&lt.length>0?(console.log("Found volunteer signups for contact:",le.id,lt),Ce=(await Promise.all(lt.map(async ft=>{try{const{data:qt,error:Ao}=await K.from("events").select("id, title, start_datetime").eq("id",ft.event_id).is("deleted_at",null).maybeSingle();if(Ao)return console.error("Error loading event for signup:",Ao),null;const{data:qc,error:nl}=await K.from("volunteer_roles").select("id, role_label").eq("id",ft.role_id).maybeSingle();return nl?(console.error("Error loading role for signup:",nl),null):qt&&qc?{event:qt,role:qc,signup_date:ft.signup_date||"",status:ft.status||"confirmed"}:null}catch(qt){return console.error("Error loading signup details:",qt),null}}))).filter(ft=>ft!==null)):console.log("No volunteer signups found for contact:",le.id)}catch(lt){console.error("Exception while loading volunteer signups:",lt),console.log("This might mean the volunteer_signups table doesn't exist yet")}const $e=(()=>{const lt=Ce.filter(ht=>(ht.status||"confirmed")==="confirmed");return new Set(lt.map(ht=>{var ft;return(ft=ht.event)==null?void 0:ft.id}).filter(ht=>!!ht)).size})(),Ae=Ce.filter(nt=>(nt.status||"confirmed")==="confirmed").length,xt=ut.get(le.id)||0;return{...le,source:le.source,volunteerHistory:Ce.length>0?Ce:[],total_events_volunteered:$e,total_roles_volunteered:Ae,total_poc_assignments:xt}}));o(St)}catch(J){console.error("Error:",J),t({title:"Error",description:"Failed to load contacts.",variant:"destructive"})}finally{v(!1)}},_r=async F=>{try{const{data:J,error:oe}=await K.from("events").select("id, title").is("deleted_at",null).order("title");oe?console.error("Error loading events for filtering:",oe):(O(J||[]),D(J||[]));const{data:de,error:Le}=await K.from("volunteer_roles").select("id, role_label, event_id").in("event_id",(J==null?void 0:J.map(dt=>dt.id))||[]).order("role_label");Le?console.error("Error loading roles for filtering:",Le):(A(de||[]),q(Ut(de||[])))}catch(J){console.error("Error loading events and roles for filtering:",J)}},Ut=F=>{const J=new Map;return F.forEach(oe=>{J.has(oe.role_label)||J.set(oe.role_label,oe)}),Array.from(J.values())},He=F=>{if(F==="all")q(Ut(M));else{const J=M.filter(oe=>oe.event_id===F);q(Ut(J))}},Zt=F=>{if(F==="all")D(_);else{const J=M.find(oe=>oe.id===F);if(J){const oe=M.filter(Le=>Le.role_label===J.role_label).map(Le=>Le.event_id),de=_.filter(Le=>oe.includes(Le.id));D(de)}}},Ht=()=>{let F=n;return w.trim()&&(F=F.filter(J=>J.name.toLowerCase().includes(w.toLowerCase())||J.phone.includes(w)||J.email&&J.email.toLowerCase().includes(w.toLowerCase()))),b!=="all"&&(b==="poc"?F=F.filter(J=>{const oe=J.role,de=J.source;return oe==="poc"||!oe&&(de==="manual"||de==="account_signup")}):b==="volunteer"&&(F=F.filter(J=>{const oe=J.role,de=J.source;return oe==="volunteer"||!oe&&de==="volunteer_signup"}))),T!=="all"&&(F=F.filter(J=>J.gender===T)),N!=="all"&&(F=F.filter(J=>J.volunteerHistory.some(oe=>{var de;return((de=oe.event)==null?void 0:de.id)===N}))),R!=="all"&&(F=F.filter(J=>J.volunteerHistory.some(oe=>{var de;return((de=oe.role)==null?void 0:de.id)===R}))),B==="roles_desc"?[...F].sort((J,oe)=>{const de=(oe.total_roles_volunteered||0)-(J.total_roles_volunteered||0);return de!==0?de:new Date(oe.created_at).getTime()-new Date(J.created_at).getTime()}):B==="roles_asc"?[...F].sort((J,oe)=>{const de=(J.total_roles_volunteered||0)-(oe.total_roles_volunteered||0);return de!==0?de:new Date(oe.created_at).getTime()-new Date(J.created_at).getTime()}):B==="attendance_desc"?[...F].sort((J,oe)=>{const de=(oe.total_events_volunteered||0)-(J.total_events_volunteered||0);return de!==0?de:new Date(oe.created_at).getTime()-new Date(J.created_at).getTime()}):B==="attendance_asc"?[...F].sort((J,oe)=>{const de=(J.total_events_volunteered||0)-(oe.total_events_volunteered||0);return de!==0?de:new Date(oe.created_at).getTime()-new Date(J.created_at).getTime()}):[...F].sort((J,oe)=>new Date(oe.created_at).getTime()-new Date(J.created_at).getTime())},gn=()=>{x(""),j("all"),S("all"),E("all"),P("all"),q(Ut(M)),D(_)},ar=F=>{var oe;const J=(oe=F.target.files)==null?void 0:oe[0];if(J){if(J.type!=="text/csv"&&!J.name.endsWith(".csv")){t({title:"Invalid File",description:"Please select a valid CSV file.",variant:"destructive"});return}if(J.size>5*1024*1024){t({title:"File Too Large",description:"Please select a CSV file smaller than 5MB.",variant:"destructive"});return}z(J),Rn(J)}},Rn=F=>{const J=new FileReader;J.onload=oe=>{var de;try{const dt=((de=oe.target)==null?void 0:de.result).split(/\r?\n/).filter(le=>le.trim());if(dt.length<2){t({title:"Invalid CSV",description:"CSV file must have headers and at least one data row.",variant:"destructive"});return}const Ke=dt[0].split(",").map(le=>le.trim().replace(/"/g,""));if(!Ke.includes("Name")||!Ke.includes("Phone")){t({title:"Missing Required Headers",description:"CSV must have 'Name' and 'Phone' columns.",variant:"destructive"});return}const ut=Ke.includes("Contact Type"),St=dt.slice(1).map(le=>{const Ce=le.split(",").map(Ae=>Ae.trim().replace(/"/g,"")),$e={};return Ke.forEach((Ae,xt)=>{$e[Ae]=Ce[xt]||""}),$e}).filter(le=>le.Name&&le.Phone);if(St.length===0){t({title:"No Valid Data",description:"No rows found with both Name and Phone fields.",variant:"destructive"});return}X(St.slice(0,5))}catch(Le){console.error("Error parsing CSV:",Le),t({title:"Parse Error",description:"Error reading the CSV file. Please check the format.",variant:"destructive"})}},J.onerror=()=>{t({title:"File Read Error",description:"Error reading the file. Please try again.",variant:"destructive"})},J.readAsText(F)},Br=async()=>{if(L){ue(!0);try{const F=new FileReader;F.onload=async J=>{var oe,de;try{const dt=((oe=J.target)==null?void 0:oe.result).split(/\r?\n/).filter(Ae=>Ae.trim());if(dt.length<2){t({title:"Invalid CSV",description:"CSV file must have headers and at least one data row.",variant:"destructive"});return}const Ke=dt[0].split(",").map(Ae=>Ae.trim().replace(/"/g,""));if(!Ke.includes("Name")||!Ke.includes("Phone")){t({title:"Missing Required Headers",description:"CSV must have 'Name' and 'Phone' columns.",variant:"destructive"});return}const ut=Ke.includes("Contact Type"),St=dt.slice(1).map(Ae=>{const xt=Ae.split(",").map(nt=>nt.trim().replace(/"/g,"")),lt={};return Ke.forEach((nt,ht)=>{lt[nt]=xt[ht]||""}),lt}).filter(Ae=>Ae.Name&&Ae.Phone);if(St.length===0){t({title:"No Valid Data",description:"No rows found with both Name and Phone fields.",variant:"destructive"});return}let le=0,Ce=0;const $e=[];for(const Ae of St)try{const xt=Ae.Phone.trim();if(!xt||xt.length<10){$e.push(`Row "${Ae.Name}": Invalid phone number`),Ce++;continue}let lt=null;if(Ae.Gender){const qt=Ae.Gender.trim().toLowerCase();if(qt==="sister"||qt==="sister")lt="sister";else if(qt==="brother"||qt==="brother")lt="brother";else{$e.push(`Row "${Ae.Name}": Invalid gender "${Ae.Gender}" (use "brother" or "sister")`),Ce++;continue}}let nt="manual";if(ut&&Ae["Contact Type"]){const qt=Ae["Contact Type"].trim().toLowerCase();if(qt==="volunteer"||qt==="volunteer")nt="volunteer_signup";else if(qt==="poc"||qt==="point of contact")nt="manual";else{$e.push(`Row "${Ae.Name}": Invalid contact type "${Ae["Contact Type"]}" (use "poc" or "volunteer")`),Ce++;continue}}const ht=qt=>qt.split(" ").map(Ao=>Ao.charAt(0).toUpperCase()+Ao.slice(1).toLowerCase()).join(" "),{error:ft}=await K.from("contacts").insert({user_id:f==null?void 0:f.id,name:ht(Ae.Name.trim()),phone:xt,email:((de=Ae.Email)==null?void 0:de.trim())||null,gender:lt,source:nt,role:nt==="volunteer_signup"?"volunteer":"poc"});ft?(console.error("Error importing row:",ft,Ae),$e.push(`Row "${Ae.Name}": ${ft.message}`),Ce++):le++}catch(xt){console.error("Error processing row:",xt,Ae),$e.push(`Row "${Ae.Name}": Unexpected error`),Ce++}await it(f.id),le>0?t({title:"Import Complete",description:`Successfully imported ${le} contacts${Ce>0?`, ${Ce} failed`:""}.`,variant:Ce>0?"destructive":"default"}):t({title:"Import Failed",description:"No contacts were imported. Please check your CSV format.",variant:"destructive"}),$e.length>0&&console.error("Import errors:",$e),k(!1),z(null),X([])}catch(Le){console.error("Import processing error:",Le),t({title:"Import Failed",description:"There was an error processing the CSV file.",variant:"destructive"})}},F.onerror=()=>{t({title:"File Read Error",description:"Error reading the file. Please try again.",variant:"destructive"})},F.readAsText(L)}catch(F){console.error("Import error:",F),t({title:"Import Failed",description:"There was an error importing the CSV file.",variant:"destructive"})}finally{ue(!1)}}},rs=async()=>{_e(!0);try{const F=Ht().map(Ke=>{var ut,St;return{Name:Ke.name,Phone:Ke.phone,Email:Ke.email||"",Gender:Ke.gender||"",Source:Ke.source==="volunteer_signup"?"Volunteer":"POC",Event:Ke.volunteerHistory.length>0&&((ut=Ke.volunteerHistory[0].event)==null?void 0:ut.title)||"",Role:Ke.volunteerHistory.length>0&&((St=Ke.volunteerHistory[0].role)==null?void 0:St.role_label)||"","Added Date":new Date(Ke.created_at).toLocaleDateString(),"Last Updated":new Date(Ke.updated_at).toLocaleDateString()}}),J=Object.keys(F[0]),oe=[J.join(","),...F.map(Ke=>J.map(ut=>{const St=Ke[ut];return typeof St=="string"&&(St.includes(",")||St.includes('"'))?`"${St.replace(/"/g,'""')}"`:St}).join(","))].join(`
`),de=new Blob([oe],{type:"text/csv;charset=utf-8;"}),Le=document.createElement("a"),dt=URL.createObjectURL(de);Le.setAttribute("href",dt),Le.setAttribute("download",`contacts_export_${new Date().toISOString().split("T")[0]}.csv`),Le.style.visibility="hidden",document.body.appendChild(Le),Le.click(),document.body.removeChild(Le),t({title:"Export Successful",description:`Exported ${F.length} contacts to CSV.`})}catch(F){console.error("Export error:",F),t({title:"Export Failed",description:"There was an error exporting the contacts.",variant:"destructive"})}finally{_e(!1)}},Z=(F,J)=>{switch(F){case"firstName":return J.trim()?J.trim().length<2?"First name must be at least 2 characters":"":"First name is required";case"lastName":return J.trim()?J.trim().length<2?"Last name must be at least 2 characters":"":"Last name is required";case"phone":return J.trim()?J.trim().length<10?"Phone number must be at least 10 digits":"":"Phone number is required";case"email":return d.contactType==="poc"&&!J.trim()?"Email is required for POC contacts":J.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(J)?"Please enter a valid email address":"";case"gender":return J?"":"Please select a gender";case"contactType":return J?"":"Please select a role";default:return""}},ce=()=>{const F={};return Object.keys(d).forEach(J=>{const oe=Z(J,d[J]);oe&&(F[J]=oe)}),p(F),Object.keys(F).length===0},De=(F,J)=>{u(oe=>({...oe,[F]:J})),m[F]&&p(oe=>({...oe,[F]:""}))},Be=F=>F?F.charAt(0).toUpperCase()+F.slice(1).toLowerCase():"",Me=async F=>{if(F.preventDefault(),console.log("Form submission - current formData:",d),console.log("Form submission - contactType:",d.contactType),!!ce())try{const J=`${Be(d.firstName.trim())} ${Be(d.lastName.trim())}`.trim();if(l){const oe=Ze(d.phone),de={name:J,phone:oe,email:d.email||null,gender:d.gender||null,role:d.contactType==="volunteer"?"volunteer":"poc",updated_at:new Date().toISOString()};console.log("Updating contact with data:",de),console.log("Contact ID:",l.id),console.log("Form contactType:",d.contactType),console.log("Calculated role:",d.contactType==="volunteer"?"volunteer":"poc"),console.log("Original contact data:",l);const{data:Le,error:dt}=await K.from("contacts").update(de).eq("id",l.id).select("*");if(dt)throw console.error("Update error:",dt),console.error("Error details:",{message:dt.message,details:dt.details,hint:dt.hint,code:dt.code}),dt;if(!Le||Le.length===0){console.error("No rows updated. Possible RLS restriction or mismatched ID.",{id:l.id,updateData:de}),t({title:"Update blocked",description:"No changes were saved. You may not have permission to update this contact.",variant:"destructive"});return}console.log("Contact updated successfully",Le[0]);const{data:Ke,error:ut}=await K.from("contacts").select("*").eq("id",l.id).single();ut?console.error("Error fetching updated contact:",ut):console.log("Updated contact data:",Ke),t({title:"Contact Updated",description:`${J} has been updated successfully.`})}else{const oe=Ze(d.phone),{data:de,error:Le}=await K.from("contacts").select("id, name, source").eq("phone",oe).single();if(Le&&Le.code!=="PGRST116")throw Le;if(de){de.source==="volunteer_signup"?t({title:"Contact Already Exists",description:`A contact with phone number ${d.phone} already exists from a volunteer signup.`,variant:"destructive"}):t({title:"Contact Already Exists",description:`A contact with phone number ${d.phone} already exists.`,variant:"destructive"});return}const dt=ut=>ut.split(" ").map(St=>St.charAt(0).toUpperCase()+St.slice(1).toLowerCase()).join(" "),{error:Ke}=await K.from("contacts").insert({user_id:f.id,name:dt(J),phone:oe,email:d.email||null,gender:d.gender||null,source:d.contactType==="volunteer"?"volunteer_signup":"manual",role:d.contactType==="volunteer"?"volunteer":"poc"});if(Ke)throw Ke;t({title:"Contact Added",description:`${J} has been added to your contacts.`})}await it(f.id),be(!1)}catch(J){console.error("Error saving contact:",J),t({title:"Error",description:"Failed to save contact.",variant:"destructive"})}},It=F=>{console.log("Editing contact:",F),console.log("Contact role:",F.role),console.log("Contact source:",F.source),c(F);const[J="",oe=""]=(F.name||"").split(" ",2);let de;F.role?(de=F.role==="volunteer"?"volunteer":"poc",console.log("Using role field, contactType set to:",de)):(F.source==="volunteer_signup"?de="volunteer":(F.source==="account_signup"||F.source,de="poc"),console.log("Using source field fallback, contactType set to:",de));const Le={firstName:J,lastName:oe,phone:F.phone,email:F.email||"",gender:F.gender||"brother",contactType:de};console.log("Setting form data:",Le),u(Le),a(!0)},Qe=async F=>{try{const J=n.find(de=>de.id===F),{error:oe}=await K.from("contacts").delete().eq("id",F);if(oe)throw oe;await it(f.id),t({title:"Contact Deleted",description:`${J==null?void 0:J.name} has been removed from your contacts.`})}catch(J){console.error("Error deleting contact:",J),t({title:"Error",description:"Failed to delete contact.",variant:"destructive"})}},jt=()=>{c(null),u({firstName:"",lastName:"",phone:"",email:"",gender:"",contactType:""}),p({}),a(!0)},be=F=>{F||(c(null),u({firstName:"",lastName:"",phone:"",email:"",gender:"",contactType:""}),p({})),a(F)},at=F=>F.split(" ").map(J=>J[0]).join("").toUpperCase().slice(0,2),vt=Ht();return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(dn,{}),s.jsxs("main",{className:"container mx-auto px-4 py-6 md:py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-2 tracking-tight",children:"Contacts"}),s.jsx("p",{className:"text-white/50 text-lg leading-relaxed",children:"Manage your event contacts and coordinators"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(W,{variant:"ghost",className:"h-10 px-4 text-white/50 hover:text-gold-300 hover:bg-white/10",onClick:()=>k(!0),children:[s.jsx(EO,{className:"w-4 h-4 mr-2"}),"Import CSV"]}),s.jsxs(W,{variant:"ghost",className:"h-10 px-4 text-white/50 hover:text-gold-300 hover:bg-white/10",onClick:rs,disabled:fe,children:[s.jsx(uy,{className:"w-4 h-4 mr-2"}),fe?"Exporting...":"Export"]}),s.jsxs(W,{onClick:jt,className:"h-10 px-6 bg-gold-400 hover:bg-gold-300 text-navy-900 shadow-lg hover:shadow-md transition-all duration-200",children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),"Add Contact"]})]})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Contacts"}),s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(Ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/30"}),s.jsx(he,{placeholder:"Search contacts...",value:w,onChange:F=>x(F.target.value),className:"pl-10 border-white/15 focus:border-gold-400 focus:ring-gold-400/20"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-40",children:s.jsx(eo,{options:[{value:"recent",label:"Sort: Recent"},{value:"roles_desc",label:"Most Active (Roles)"},{value:"attendance_desc",label:"Most Active (Attendance)"},{value:"roles_asc",label:"Least Active (Roles)"},{value:"attendance_asc",label:"Least Active (Attendance)"}],value:B,onChange:F=>Ne(F),placeholder:"Sort"})}),s.jsxs(W,{variant:"outline",size:"sm",onClick:()=>Y(!$),className:"text-white/50 hover:text-gold-300 hover:bg-white/10",children:[s.jsx(yO,{className:"w-4 h-4 mr-2"}),$?"Hide":"More"," Filters"]})]})]}),$&&s.jsxs("div",{className:"mt-4 p-4 bg-background rounded-lg border border-white/10",children:[s.jsx("h3",{className:"text-sm font-medium text-white/70 mb-3",children:"Advanced Filters"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{className:"text-sm font-medium text-white/70",children:"Source:"}),s.jsx("div",{className:"flex bg-white/10 rounded-lg p-1",children:[{value:"all",label:"All Sources"},{value:"poc",label:"POC"},{value:"volunteer",label:"Volunteer"}].map(F=>s.jsx(W,{variant:b===F.value?"default":"ghost",size:"sm",onClick:()=>j(F.value),className:`text-xs px-3 py-1 h-8 ${b===F.value?"bg-gold-400 text-navy-900":"text-white/50 hover:text-gold-300"}`,children:F.label},F.value))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{className:"text-sm font-medium text-white/70",children:"Gender:"}),s.jsx("div",{className:"flex bg-white/10 rounded-lg p-1",children:[{value:"all",label:"All"},{value:"brother",label:"Brother"},{value:"sister",label:"Sister"}].map(F=>s.jsx(W,{variant:T===F.value?"default":"ghost",size:"sm",onClick:()=>S(F.value),className:`text-xs px-3 py-1 h-8 ${T===F.value?"bg-gold-400 text-navy-900":"text-white/50 hover:text-gold-300"}`,children:F.label},F.value))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{className:"text-sm font-medium text-white/70",children:"Event:"}),s.jsx("div",{className:"w-48",children:s.jsx(eo,{options:[{value:"all",label:"All Events"},...I.map(F=>({value:F.id,label:F.title}))],value:N,onChange:F=>{E(F),He(F)},placeholder:"Select an event"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{className:"text-sm font-medium text-white/70",children:"Role:"}),s.jsx("div",{className:"w-48",children:s.jsx(eo,{options:[{value:"all",label:"All Roles"},...H.map(F=>({value:F.id,label:F.role_label}))],value:R,onChange:F=>{P(F),Zt(F)},placeholder:N!=="all"?"Roles for selected event":"Select a role"})})]})]})]}),(w||b!=="all"||T!=="all"||N!=="all"||R!=="all")&&s.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:s.jsx(W,{variant:"ghost",size:"sm",onClick:gn,className:"text-white/40 hover:text-white/70",children:"Clear filters"})})]}),s.jsx(Te,{className:"border-0 shadow-lg",children:s.jsx(Ie,{className:"p-0",children:g?s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"animate-spin w-12 h-12 border-3 border-gold-400 border-t-transparent rounded-full mx-auto mb-6"}),s.jsx("p",{className:"text-white/70 font-medium text-lg",children:"Loading contacts..."})]}):vt.length===0?s.jsxs("div",{className:"text-center py-16 px-8",children:[s.jsx("div",{className:"w-20 h-20 bg-white/10 rounded-2xl flex items-center justify-center mx-auto mb-6",children:s.jsx(At,{className:"w-10 h-10 text-white/30"})}),s.jsx("h3",{className:"text-xl font-semibold text-white/70 mb-3",children:n.length===0?"Start Building Your Network":"No Contacts Match Filters"}),s.jsx("p",{className:"text-white/40 mb-6 max-w-lg mx-auto",children:n.length===0?"Add your first contact to start building your event coordination network":"Try adjusting your search or filters to find what you're looking for."}),n.length===0&&s.jsxs(W,{onClick:jt,className:"bg-gold-400 hover:bg-gold-300 text-navy-900 px-6 py-3 shadow-lg hover:shadow-md transition-all duration-200",children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),"Add Your First Contact"]})]}):s.jsx(s.Fragment,{children:r?s.jsx("div",{className:"p-4 space-y-3",children:vt.map(F=>s.jsx("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10 shadow-lg hover:shadow-md transition-all duration-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gold-400 rounded-full flex items-center justify-center text-navy-900 font-semibold",children:at(F.name)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-foreground",children:F.name}),s.jsx("div",{className:"text-sm text-white/50",children:F.phone}),F.email&&s.jsx("div",{className:"text-sm text-white/50",children:F.email}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[F.role==="poc"&&s.jsx(ve,{variant:"outline",className:"text-xs bg-purple-500/10 text-purple-300 border-purple-500/20",children:"POC"}),F.role==="volunteer"&&s.jsx(ve,{variant:"outline",className:"text-xs bg-background text-white/70 border-white/10",children:"Volunteer"}),F.role==="admin"&&s.jsx(ve,{variant:"outline",className:"text-xs bg-red-500/10 text-red-300 border-red-200",children:"Admin"}),!F.role&&s.jsxs(s.Fragment,{children:[F.source==="manual"&&s.jsx(ve,{variant:"outline",className:"text-xs bg-purple-500/10 text-purple-300 border-purple-500/20",children:"POC"}),(F.volunteerHistory.length>0||F.source==="volunteer_signup")&&s.jsx(ve,{variant:"outline",className:"text-xs bg-background text-white/70 border-white/10",children:"Volunteer"})]}),F.gender&&s.jsx(ve,{variant:"outline",className:`text-xs ${F.gender==="brother"?"bg-blue-500/15 text-blue-300 border-blue-500/20":"bg-pink-500/15 text-pink-300 border-pink-500/20"}`,children:F.gender==="brother"?"Brother":"Sister"})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[s.jsxs(ve,{variant:"outline",className:`text-xs font-medium ${F.total_events_volunteered&&F.total_events_volunteered>0?"bg-emerald-500/15 text-emerald-300 border-emerald-500/20":"bg-background text-white/40 border-white/10"}`,children:[F.total_events_volunteered||0," events"]}),s.jsxs(ve,{variant:"outline",className:`text-xs font-medium ${F.total_roles_volunteered&&F.total_roles_volunteered>0?"bg-blue-500/15 text-blue-300 border-blue-500/20":"bg-background text-white/40 border-white/10"}`,children:[F.total_roles_volunteered||0," roles"]}),(F.role==="poc"||(F.total_poc_assignments||0)>0)&&s.jsx(s.Fragment,{children:s.jsxs(ve,{variant:"outline",className:`text-xs font-medium ${F.total_poc_assignments&&F.total_poc_assignments>0?"bg-purple-500/10 text-purple-300 border-purple-500/20":"bg-background text-white/40 border-white/10"}`,children:[F.total_poc_assignments||0," POC"]})})]}),F.volunteerHistory.length>0&&s.jsxs("div",{className:"mt-2 text-xs text-white/40",children:[s.jsx("div",{className:"font-medium mb-1",children:"Volunteer History:"}),F.volunteerHistory.slice(0,3).map((J,oe)=>{var de,Le;return s.jsxs("div",{className:"ml-2",children:[(de=J.event)==null?void 0:de.title," - ",(Le=J.role)==null?void 0:Le.role_label,J.status!=="confirmed"&&s.jsxs("span",{className:"text-white/30 ml-1",children:["(",J.status,")"]})]},oe)}),F.volunteerHistory.length>3&&s.jsxs("div",{className:"ml-2 text-white/30",children:["+",F.volunteerHistory.length-3," more signups"]})]})]})]})},F.id))}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/10 bg-white/5",children:[s.jsx("th",{className:"text-left py-4 px-6 font-semibold text-foreground text-sm",children:"Name"}),s.jsx("th",{className:"text-left py-4 px-6 font-semibold text-foreground text-sm",children:"Phone"}),s.jsx("th",{className:"text-left py-4 px-6 font-semibold text-foreground text-sm",children:"Email"}),s.jsx("th",{className:"text-left py-4 px-6 font-semibold text-foreground text-sm",children:"Gender"}),s.jsx("th",{className:"text-left py-4 px-6 font-semibold text-foreground text-sm",children:"Role"}),s.jsx("th",{className:"text-left py-4 px-6 font-semibold text-foreground text-sm",children:"Activity"}),s.jsx("th",{className:"text-left py-4 px-6 font-semibold text-foreground text-sm",children:"Added"}),s.jsx("th",{className:"text-left py-4 px-6 font-semibold text-foreground text-sm",children:"Actions"})]})}),s.jsx("tbody",{children:vt.map(F=>s.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors duration-150",children:[s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gold-400 rounded-full flex items-center justify-center text-navy-900 font-semibold text-sm",children:at(F.name)}),s.jsx("div",{children:s.jsx("div",{className:"font-medium text-foreground",children:F.name})})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xv,{className:"w-4 h-4 text-white/30"}),s.jsx("span",{className:"text-white/70",children:F.phone})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[F.email&&s.jsx(Nu,{className:"w-4 h-4 text-white/30"}),s.jsx("span",{className:"text-white/70",children:F.email||"-"})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("div",{className:"flex items-center space-x-2",children:F.gender&&s.jsx(ve,{variant:"outline",className:`text-xs ${F.gender==="brother"?"bg-blue-500/15 text-blue-300 border-blue-500/20":"bg-pink-500/15 text-pink-300 border-pink-500/20"}`,children:F.gender==="brother"?"Brother":"Sister"})})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2 gap-2",children:[F.role==="poc"&&s.jsx(ve,{variant:"outline",className:"text-xs bg-purple-500/10 text-purple-300 border-purple-500/20",children:"POC"}),F.role==="volunteer"&&s.jsx(ve,{variant:"outline",className:"text-xs bg-background text-white/70 border-white/10",children:"Volunteer"}),F.role==="admin"&&s.jsx(ve,{variant:"outline",className:"text-xs bg-red-500/10 text-red-300 border-red-200",children:"Admin"}),!F.role&&s.jsxs(s.Fragment,{children:[F.source==="manual"&&s.jsx(ve,{variant:"outline",className:"text-xs bg-purple-500/10 text-purple-300 border-purple-500/20",children:"POC"}),(F.volunteerHistory.length>0||F.source==="volunteer_signup")&&s.jsx(ve,{variant:"outline",className:"text-xs bg-background text-white/70 border-white/10",children:"Volunteer"})]})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(ve,{variant:"outline",className:`text-xs font-medium ${F.total_events_volunteered&&F.total_events_volunteered>0?"bg-emerald-500/15 text-emerald-300 border-emerald-500/20":"bg-background text-white/40 border-white/10"}`,children:[F.total_events_volunteered||0," events"]}),s.jsxs(ve,{variant:"outline",className:`text-xs font-medium ${F.total_roles_volunteered&&F.total_roles_volunteered>0?"bg-blue-500/15 text-blue-300 border-blue-500/20":"bg-background text-white/40 border-white/10"}`,children:[F.total_roles_volunteered||0," roles"]}),(F.role==="poc"||(F.total_poc_assignments||0)>0)&&s.jsx(s.Fragment,{children:s.jsxs(ve,{variant:"outline",className:`text-xs font-medium ${F.total_poc_assignments&&F.total_poc_assignments>0?"bg-purple-500/10 text-purple-300 border-purple-500/20":"bg-background text-white/40 border-white/10"}`,children:[F.total_poc_assignments||0," POC"]})})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("div",{className:"text-sm text-white/40",children:new Date(F.created_at).toLocaleDateString()})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(W,{size:"sm",variant:"outline",onClick:()=>It(F),title:"Edit Contact",className:"h-8 w-8 p-0 border-white/15 text-white/70 hover:bg-white/5",children:s.jsx(Cu,{className:"w-4 h-4"})}),s.jsxs(E2,{children:[s.jsx(k2,{asChild:!0,children:s.jsx(W,{size:"sm",variant:"outline",title:"More Actions",className:"h-8 w-8 p-0 border-white/15 text-white/70 hover:bg-white/5",children:s.jsx(xO,{className:"w-4 h-4"})})}),s.jsx(Ex,{align:"end",className:"w-48",children:s.jsxs(Fl,{onClick:()=>Qe(F.id),className:"text-red-400",children:[s.jsx(Gr,{className:"w-4 h-4 mr-2"}),"Delete"]})})]})]})})]},F.id))})]})})})})})]}),s.jsx(fr,{open:i,onOpenChange:be,children:s.jsxs(nr,{className:"max-w-md",children:[s.jsxs(sr,{children:[s.jsx(or,{className:"text-lg",children:l?"Edit Contact":"Add New Contact"}),s.jsx(ir,{children:l?"Update the contact information below.":"Add a new contact."})]}),s.jsxs("form",{onSubmit:Me,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(re,{htmlFor:"firstName",children:"First Name *"}),s.jsx(he,{id:"firstName",value:d.firstName,onChange:F=>De("firstName",F.target.value),placeholder:"First name",className:m.firstName?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}),m.firstName&&s.jsxs("p",{className:"text-sm text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"w-4 h-4 rounded-full bg-red-500/10 flex items-center justify-center",children:s.jsx("span",{className:"text-red-400 text-xs",children:"!"})}),m.firstName]})]}),s.jsxs("div",{children:[s.jsx(re,{htmlFor:"lastName",children:"Last Name *"}),s.jsx(he,{id:"lastName",value:d.lastName,onChange:F=>De("lastName",F.target.value),placeholder:"Last name",className:m.lastName?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}),m.lastName&&s.jsxs("p",{className:"text-sm text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"w-4 h-4 rounded-full bg-red-500/10 flex items-center justify-center",children:s.jsx("span",{className:"text-red-400 text-xs",children:"!"})}),m.lastName]})]})]}),s.jsxs("div",{children:[s.jsx(re,{htmlFor:"phone",children:"Phone *"}),s.jsx($a,{id:"phone",value:d.phone,onChange:F=>De("phone",F),placeholder:"Phone number",className:m.phone?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}),m.phone&&s.jsxs("p",{className:"text-sm text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"w-4 h-4 rounded-full bg-red-500/10 flex items-center justify-center",children:s.jsx("span",{className:"text-red-400 text-xs",children:"!"})}),m.phone]})]}),s.jsxs("div",{children:[s.jsx(re,{htmlFor:"gender",children:"Gender *"}),s.jsx(eo,{options:[{value:"brother",label:"Brother"},{value:"sister",label:"Sister"}],value:d.gender,onChange:F=>De("gender",F),placeholder:"Select gender",className:m.gender?"border-red-500":""}),m.gender&&s.jsxs("p",{className:"text-sm text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"w-4 h-4 rounded-full bg-red-500/10 flex items-center justify-center",children:s.jsx("span",{className:"text-red-400 text-xs",children:"!"})}),m.gender]})]}),s.jsxs("div",{children:[s.jsx(re,{htmlFor:"contactType",children:"Role *"}),s.jsx(eo,{options:[{value:"poc",label:"Point of Contact (POC)"},{value:"volunteer",label:"Volunteer"}],value:d.contactType,onChange:F=>De("contactType",F),placeholder:"Select role",className:m.contactType?"border-red-500":""}),m.contactType&&s.jsxs("p",{className:"text-sm text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"w-4 h-4 rounded-full bg-red-500/10 flex items-center justify-center",children:s.jsx("span",{className:"text-red-400 text-xs",children:"!"})}),m.contactType]})]}),s.jsxs("div",{children:[s.jsxs(re,{htmlFor:"email",children:["Email ",d.contactType==="poc"?"*":"(Optional)"]}),s.jsx(he,{id:"email",type:"email",value:d.email,onChange:F=>De("email",F.target.value),placeholder:"Email address",className:m.email?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}),m.email&&s.jsxs("p",{className:"text-sm text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"w-4 h-4 rounded-full bg-red-500/10 flex items-center justify-center",children:s.jsx("span",{className:"text-red-400 text-xs",children:"!"})}),m.email]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-2 pt-4",children:[s.jsx(W,{type:"button",variant:"outline",onClick:()=>be(!1),className:"w-full sm:w-auto border-white/15 text-white/70 hover:bg-white/5",children:"Cancel"}),s.jsx(W,{type:"submit",className:"w-full sm:w-auto bg-gold-400 hover:bg-gold-300 text-navy-900",children:l?"Update Contact":"Add Contact"})]})]})]})}),s.jsx(fr,{open:C,onOpenChange:k,children:s.jsxs(nr,{className:"max-w-2xl",children:[s.jsxs(sr,{children:[s.jsx(or,{className:"text-lg",children:"Import Contacts from CSV"}),s.jsx(ir,{children:"Upload a CSV file to import contacts. The file should have columns for Name, Phone, Email (optional), Gender (optional), and Contact Type (optional, defaults to POC)."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"csv-file",children:"Select CSV File"}),s.jsx(he,{id:"csv-file",type:"file",accept:".csv",onChange:ar,className:"border-white/15 focus:border-gold-400 focus:ring-gold-400/20"}),s.jsx("p",{className:"text-sm text-white/40",children:"Supported format: CSV with headers (Name, Phone, Email, Gender, Contact Type)"})]}),G.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Preview (First 5 rows)"}),s.jsx("div",{className:"max-h-40 overflow-y-auto border border-white/10 rounded-md p-3 bg-background",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{className:"border-b border-white/10",children:Object.keys(G[0]||{}).map(F=>s.jsx("th",{className:"text-left py-1 px-2 font-medium text-white/70",children:F},F))})}),s.jsx("tbody",{children:G.map((F,J)=>s.jsx("tr",{className:"border-b border-white/5",children:Object.values(F).map((oe,de)=>s.jsx("td",{className:"py-1 px-2 text-white/50",children:String(oe||"-")},de))},J))})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Sample CSV Format"}),s.jsxs("div",{className:"bg-background p-3 rounded-md font-mono text-sm",children:[s.jsx("div",{children:"Name,Phone,Email,Gender,Contact Type"}),s.jsx("div",{children:"John Doe,+1234567890,john@example.com,brother,poc"}),s.jsx("div",{children:"Jane Smith,+1234567891,jane@example.com,sister,volunteer"})]}),s.jsxs(W,{variant:"outline",size:"sm",onClick:()=>{const F=`Name,Phone,Email,Gender,Contact Type
John Doe,+1234567890,john@example.com,brother,poc
Jane Smith,+1234567891,jane@example.com,sister,volunteer
Ahmed Hassan,+1234567892,ahmed@example.com,brother,poc
Fatima Ali,+1234567893,fatima@example.com,sister,volunteer
Mohammed Khan,+1234567894,mohammed@example.com,brother,poc
Aisha Rahman,+1234567895,aisha@example.com,sister,volunteer`,J=new Blob([F],{type:"text/csv"}),oe=URL.createObjectURL(J),de=document.createElement("a");de.href=oe,de.download="sample_contacts.csv",de.click(),URL.revokeObjectURL(oe)},className:"text-xs",children:[s.jsx(uy,{className:"w-3 h-3 mr-1"}),"Download Sample CSV"]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(W,{variant:"outline",onClick:()=>{k(!1),z(null),X([])},disabled:Q,children:"Cancel"}),s.jsx(W,{onClick:Br,disabled:!L||Q,className:"bg-gold-400 hover:bg-gold-300 text-navy-900",children:Q?"Importing...":"Import Contacts"})]})]})})]})},T2=()=>{const{toast:e}=Xt(),[t,r]=h.useState(!1);return{deleteVolunteer:async(o,i,a,l,c)=>{if(t)return console.log("[DELETION] Already deleting, ignoring request"),!1;r(!0);try{if(console.log(`[DELETION] Starting deletion process for volunteer ${o} (${i})`),!a&&(!l||!c))return console.log("[DELETION] No admin password or phone verification provided"),e({title:"Authorization Required",description:"Please provide either admin password or phone verification to delete volunteers.",variant:"destructive"}),!1;console.log(`[DELETION] Calling Edge Function with ${a?"admin password":"phone verification"}`);const d={volunteerId:o,volunteerName:i,...a&&{adminPassword:a},...l&&{phoneVerification:l},...c&&{volunteerPhone:c}};console.log("[DELETION] Request body:",d);const{data:u,error:m}=await K.functions.invoke("delete-volunteer",{body:d});return console.log("[DELETION] Edge Function response received:",{data:u,error:m}),m?(console.error("[DELETION] Network/Connection error:",m),e({title:"Connection Error",description:m.message||"Failed to connect to server.",variant:"destructive"}),!1):(u==null?void 0:u.success)===!0?(console.log("[DELETION]  SUCCESS: Volunteer deleted successfully"),e({title:"Volunteer Removed",description:u.message||`${i} has been successfully removed from the event.`}),!0):u!=null&&u.error?(console.error("[DELETION]  Server error:",u.error),e({title:"Deletion Failed",description:u.error,variant:"destructive"}),!1):(console.error("[DELETION]  Unexpected response:",u),e({title:"Unexpected Error",description:"Received unexpected response from server.",variant:"destructive"}),!1)}catch(d){return console.error("[DELETION]  Unexpected exception:",d),e({title:"Deletion Failed",description:"An unexpected error occurred while deleting the volunteer.",variant:"destructive"}),!1}finally{console.log("[DELETION] Setting isDeleting to false"),r(!1)}},isDeleting:t}};var w7=Symbol("radix.slottable");function b7(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=w7,t}var P2="AlertDialog",[j7]=Lr(P2,[rC]),Bs=rC(),R2=e=>{const{__scopeAlertDialog:t,...r}=e,n=Bs(t);return s.jsx(Oh,{...n,...r,modal:!0})};R2.displayName=P2;var N7="AlertDialogTrigger",_7=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=Bs(r);return s.jsx(xC,{...o,...n,ref:t})});_7.displayName=N7;var S7="AlertDialogPortal",O2=e=>{const{__scopeAlertDialog:t,...r}=e,n=Bs(t);return s.jsx(Dh,{...n,...r})};O2.displayName=S7;var C7="AlertDialogOverlay",D2=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=Bs(r);return s.jsx(Za,{...o,...n,ref:t})});D2.displayName=C7;var ma="AlertDialogContent",[E7,k7]=j7(ma),T7=b7("AlertDialogContent"),A2=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...o}=e,i=Bs(r),a=h.useRef(null),l=We(t,a),c=h.useRef(null);return s.jsx($U,{contentName:ma,titleName:I2,docsSlug:"alert-dialog",children:s.jsx(E7,{scope:r,cancelRef:c,children:s.jsxs(el,{role:"alertdialog",...i,...o,ref:l,onOpenAutoFocus:ie(o.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(T7,{children:n}),s.jsx(R7,{contentRef:a})]})})})});A2.displayName=ma;var I2="AlertDialogTitle",M2=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=Bs(r);return s.jsx(Ac,{...o,...n,ref:t})});M2.displayName=I2;var $2="AlertDialogDescription",L2=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=Bs(r);return s.jsx(Ic,{...o,...n,ref:t})});L2.displayName=$2;var P7="AlertDialogAction",F2=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=Bs(r);return s.jsx(Ah,{...o,...n,ref:t})});F2.displayName=P7;var U2="AlertDialogCancel",B2=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:o}=k7(U2,r),i=Bs(r),a=We(t,o);return s.jsx(Ah,{...i,...n,ref:a})});B2.displayName=U2;var R7=({contentRef:e})=>{const t=`\`${ma}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ma}\` by passing a \`${$2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ma}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},O7=R2,D7=O2,z2=D2,V2=A2,W2=F2,H2=B2,q2=M2,G2=L2;const Y2=O7,A7=D7,K2=h.forwardRef(({className:e,...t},r)=>s.jsx(z2,{className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));K2.displayName=z2.displayName;const kx=h.forwardRef(({className:e,...t},r)=>s.jsxs(A7,{children:[s.jsx(K2,{}),s.jsx(V2,{ref:r,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-white/10 bg-navy-800/95 backdrop-blur-xl p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg rounded-xl",e),...t})]}));kx.displayName=V2.displayName;const Tx=({className:e,...t})=>s.jsx("div",{className:te("flex flex-col space-y-2 text-center sm:text-left",e),...t});Tx.displayName="AlertDialogHeader";const Px=({className:e,...t})=>s.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Px.displayName="AlertDialogFooter";const Rx=h.forwardRef(({className:e,...t},r)=>s.jsx(q2,{ref:r,className:te("text-lg font-semibold text-foreground",e),...t}));Rx.displayName=q2.displayName;const Ox=h.forwardRef(({className:e,...t},r)=>s.jsx(G2,{ref:r,className:te("text-sm text-white/50",e),...t}));Ox.displayName=G2.displayName;const Dx=h.forwardRef(({className:e,...t},r)=>s.jsx(W2,{ref:r,className:te(uc(),e),...t}));Dx.displayName=W2.displayName;const Ax=h.forwardRef(({className:e,...t},r)=>s.jsx(H2,{ref:r,className:te(uc({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ax.displayName=H2.displayName;const I7=({isOpen:e,onClose:t,onConfirm:r,volunteer:n,isDeleting:o})=>{const[i,a]=h.useState(""),[l,c]=h.useState(!1),[d,u]=h.useState(!1),m=async()=>{if(!(!i.trim()||d||o)){console.log("[DIALOG] Confirming deletion with password"),u(!0);try{await r(i),console.log("[DIALOG] Deletion completed successfully")}catch(y){console.error("[DIALOG] Error during deletion:",y),u(!1)}}},p=()=>{if(d||o){console.log(`[DIALOG] Cannot close while processing (processing: ${d}, deleting: ${o})`);return}console.log("[DIALOG] Closing dialog and resetting state"),a(""),c(!1),u(!1),t()};if(!e&&d&&u(!1),!n)return null;const f=!d&&!o;return s.jsx(Y2,{open:e,onOpenChange:p,children:s.jsxs(kx,{className:"max-w-md",children:[s.jsxs(Tx,{children:[s.jsx(Rx,{className:"text-red-800",children:"Remove Volunteer?"}),s.jsxs(Ox,{children:["Are you sure you want to remove ",n.name," from this volunteer role?"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-red-500/10 p-3 rounded-lg border border-white/10",children:s.jsx("div",{className:"text-red-400 text-sm",children:"This action cannot be undone. The volunteer will need to sign up again if they want to participate."})}),l?s.jsxs("div",{className:"bg-gold-400/10 p-4 rounded-lg border border-gold-400/20",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Nu,{className:"w-5 h-5 text-gold-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gold-300 mb-2",children:"Contact Event Organizers"}),s.jsx("div",{className:"text-white/70 text-sm mb-3",children:"Please reach out to the event organizers or administrators to remove this volunteer from the list."}),s.jsxs("div",{className:"text-white/60 text-sm",children:["Include the volunteer's name (",s.jsx("strong",{children:n.name}),") and phone number in your request."]})]})]}),s.jsx("div",{className:"mt-3 text-center",children:s.jsx(W,{variant:"link",onClick:()=>c(!1),className:"text-sm text-gold-400 hover:text-gold-300 p-0",disabled:!f,children:" Back to password entry"})})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(re,{htmlFor:"delete-password",className:"text-sm font-medium",children:"Enter admin password to proceed:"}),s.jsx(he,{id:"delete-password",type:"password",value:i,onChange:y=>a(y.target.value),placeholder:"Admin password",className:"mt-1",disabled:!f,onKeyDown:y=>{y.key==="Enter"&&i.trim()&&f&&m()}})]}),s.jsx("div",{className:"text-center",children:s.jsx(W,{variant:"link",onClick:()=>c(!0),className:"text-sm text-gold-400 hover:text-gold-300 p-0",disabled:!f,children:"Don't have the password? Contact an admin"})})]})]}),s.jsxs(Px,{children:[s.jsx(Ax,{disabled:!f,onClick:p,children:"Cancel"}),!l&&s.jsx(Dx,{onClick:m,disabled:!f||!i.trim(),className:"bg-red-500 hover:bg-red-600",children:d||o?"Removing...":"Yes, Remove"})]})]})})},M7=()=>{const{toast:e}=Xt(),[t,r]=h.useState(!1);return{shareEvent:async(d,u,m)=>{r(!0);try{const{data:{user:p}}=await K.auth.getUser();if(!p)return e({title:"Error",description:"You must be logged in to share events.",variant:"destructive"}),!1;const{data:f,error:y}=await K.functions.invoke("share-event",{body:{eventId:d,userEmail:u,permissionLevel:m,action:"share",currentUserId:p.id}});return y?(e({title:"Error sharing event",description:y.message||"Failed to share event. Please try again.",variant:"destructive"}),!1):f&&f.error?(e({title:"Error sharing event",description:f.error,variant:"destructive"}),!1):(e({title:"Event shared successfully",description:`Event shared with ${u} (${m} access).`}),!0)}catch(p){return console.error("Error sharing event:",p),e({title:"Error",description:"An unexpected error occurred while sharing the event.",variant:"destructive"}),!1}finally{r(!1)}},getEventShares:async d=>{try{console.log("Fetching shares for event:",d);const{data:u,error:m}=await K.rpc("get_event_shares_with_emails",{p_event_id:d});if(console.log("RPC shares result:",{rpcData:u,rpcError:m}),m)return console.error("RPC error fetching event shares:",m),[];if(!u)return[];const p=u.map(f=>({id:f.id,event_id:f.event_id,shared_by:f.shared_by,shared_with:f.shared_with,permission_level:f.permission_level,created_at:f.created_at,updated_at:f.updated_at,shared_with_profile:f.shared_with_email?{id:f.shared_with,email:f.shared_with_email,full_name:f.shared_with_full_name}:void 0,shared_by_profile:f.shared_by_email?{id:f.shared_by,email:f.shared_by_email,full_name:f.shared_by_full_name}:void 0}));return console.log("Mapped shares with emails:",p),p}catch(u){return console.error("Error in getEventShares:",u),[]}},getSharedEvents:async()=>{try{const{data:{user:d}}=await K.auth.getUser();if(!d)return[];const{data:u,error:m}=await K.from("event_shares").select(`
          *,
          event:events(*)
        `).eq("shared_with",d.id);return m?(console.error("Error fetching shared events:",m),[]):(u||[]).map(p=>({event:p.event,permission_level:p.permission_level,shared_by:p.shared_by,shared_at:p.created_at}))}catch(d){return console.error("Error:",d),[]}},removeShare:async d=>{r(!0);try{const{error:u}=await K.from("event_shares").delete().eq("id",d);return u?(e({title:"Error removing share",description:"Failed to remove sharing access.",variant:"destructive"}),!1):(e({title:"Share removed",description:"Sharing access has been removed."}),!0)}catch(u){return console.error("Error removing share:",u),e({title:"Error",description:"An unexpected error occurred while removing the share.",variant:"destructive"}),!1}finally{r(!1)}},checkEventAccess:async(d,u="view")=>{try{const{data:{user:m}}=await K.auth.getUser();return m?{hasAccess:!0,permissionLevel:"edit"}:{hasAccess:!1,permissionLevel:null}}catch(m){return console.error("Error checking event access:",m),{hasAccess:!1,permissionLevel:null}}},getPreviouslySharedUsers:async()=>{try{const{data:{user:d}}=await K.auth.getUser();if(!d)return console.log("No user found in getPreviouslySharedUsers"),[];console.log("Current user ID:",d.id);const{data:u,error:m}=await K.rpc("get_previously_shared_users");return m?(console.error("Error fetching previously shared users:",m),[]):(console.log("Raw RPC result for previously shared users:",u),u||[])}catch(d){return console.error("Error in getPreviouslySharedUsers:",d),[]}},isLoading:t}};function $7(e,t=[]){let r=[];function n(i,a){const l=h.createContext(a);l.displayName=i+"Context";const c=r.length;r=[...r,a];const d=m=>{var w;const{scope:p,children:f,...y}=m,g=((w=p==null?void 0:p[e])==null?void 0:w[c])||l,v=h.useMemo(()=>y,Object.values(y));return s.jsx(g.Provider,{value:v,children:f})};d.displayName=i+"Provider";function u(m,p){var g;const f=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,y=h.useContext(f);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const o=()=>{const i=r.map(a=>h.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[n,L7(o,...t)]}function L7(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var F7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ix=F7.reduce((e,t)=>{const r=Sh(`Primitive.${t}`),n=h.forwardRef((o,i)=>{const{asChild:a,...l}=o,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Q2={exports:{}},J2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fa=h;function U7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var B7=typeof Object.is=="function"?Object.is:U7,z7=Fa.useState,V7=Fa.useEffect,W7=Fa.useLayoutEffect,H7=Fa.useDebugValue;function q7(e,t){var r=t(),n=z7({inst:{value:r,getSnapshot:t}}),o=n[0].inst,i=n[1];return W7(function(){o.value=r,o.getSnapshot=t,_m(o)&&i({inst:o})},[e,r,t]),V7(function(){return _m(o)&&i({inst:o}),e(function(){_m(o)&&i({inst:o})})},[e]),H7(r),r}function _m(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!B7(e,r)}catch{return!0}}function G7(e,t){return t()}var Y7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?G7:q7;J2.useSyncExternalStore=Fa.useSyncExternalStore!==void 0?Fa.useSyncExternalStore:Y7;Q2.exports=J2;var K7=Q2.exports;function Q7(){return K7.useSyncExternalStore(J7,()=>!0,()=>!1)}function J7(){return()=>{}}var Mx="Avatar",[X7]=$7(Mx),[Z7,X2]=X7(Mx),Z2=h.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[o,i]=h.useState("idle");return s.jsx(Z7,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:i,children:s.jsx(Ix.span,{...n,ref:t})})});Z2.displayName=Mx;var eT="AvatarImage",tT=h.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:o=()=>{},...i}=e,a=X2(eT,r),l=e9(n,i),c=Ir(d=>{o(d),a.onImageLoadingStatusChange(d)});return Wt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ix.img,{...i,ref:t,src:n}):null});tT.displayName=eT;var rT="AvatarFallback",nT=h.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...o}=e,i=X2(rT,r),[a,l]=h.useState(n===void 0);return h.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&i.imageLoadingStatus!=="loaded"?s.jsx(Ix.span,{...o,ref:t}):null});nT.displayName=rT;function fb(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function e9(e,{referrerPolicy:t,crossOrigin:r}){const n=Q7(),o=h.useRef(null),i=n?(o.current||(o.current=new window.Image),o.current):null,[a,l]=h.useState(()=>fb(i,e));return Wt(()=>{l(fb(i,e))},[i,e]),Wt(()=>{const c=m=>()=>{l(m)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,t]),a}var sT=Z2,oT=tT,iT=nT;const aT=h.forwardRef(({className:e,...t},r)=>s.jsx(sT,{ref:r,className:te("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));aT.displayName=sT.displayName;const t9=h.forwardRef(({className:e,...t},r)=>s.jsx(oT,{ref:r,className:te("aspect-square h-full w-full",e),...t}));t9.displayName=oT.displayName;const lT=h.forwardRef(({className:e,...t},r)=>s.jsx(iT,{ref:r,className:te("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));lT.displayName=iT.displayName;const $x=()=>{const{toast:e}=Xt(),[t,r]=h.useState(!1);return{isLoading:t,getNoShowVolunteers:async u=>{try{const{data:m,error:p}=await K.from("volunteers").select(`
          id,
          name,
          phone,
          signup_date,
          checked_in_at,
          volunteer_roles!inner(role_label)
        `).eq("event_id",u).eq("status","confirmed").is("checked_in_at",null);if(p)throw p;return(m||[]).map(f=>{var y,g;return{volunteer_id:f.id,volunteer_name:f.name,volunteer_phone:f.phone,role_label:Array.isArray(f.volunteer_roles)?(y=f.volunteer_roles[0])==null?void 0:y.role_label:(g=f.volunteer_roles)==null?void 0:g.role_label,signup_date:f.signup_date||new Date().toISOString()}})}catch(m){throw console.error("Error getting no-show volunteers:",m),m}},cleanupNoShowVolunteers:async u=>{r(!0);try{const{data:m,error:p}=await K.rpc("cleanup_no_show_volunteers",{p_event_id:u});if(p)throw p;return m||[]}catch(m){throw console.error("Error cleaning up no-show volunteers:",m),m}finally{r(!1)}},completeEventAndCleanup:async u=>{r(!0);try{const{data:m,error:p}=await K.rpc("complete_event_and_cleanup",{p_event_id:u});if(p)throw p;return m&&m[0]||null}catch(m){throw console.error("Error completing event and cleanup:",m),m}finally{r(!1)}},checkInVolunteer:async(u,m)=>{r(!0);try{const{error:p}=await K.rpc("update_volunteer_checkin_status",{p_volunteer_id:u,p_action:"checkin",p_notes:m||null});if(p)throw p;return e({title:"Success",description:"Volunteer checked in successfully!"}),!0}catch(p){return console.error("Error checking in volunteer:",p),e({title:"Error",description:"Failed to check in volunteer. Please try again.",variant:"destructive"}),!1}finally{r(!1)}},checkOutVolunteer:async(u,m)=>{r(!0);try{const{error:p}=await K.rpc("update_volunteer_checkin_status",{p_volunteer_id:u,p_action:"checkout",p_notes:m||null});if(p)throw p;return e({title:"Success",description:"Volunteer checked out successfully!"}),!0}catch(p){return console.error("Error checking out volunteer:",p),e({title:"Error",description:"Failed to check out volunteer. Please try again.",variant:"destructive"}),!1}finally{r(!1)}},updateVolunteerCheckInStatus:(u,m,p)=>u.map(f=>f.id===m?{...f,...p}:f),getCheckInStats:u=>{const m=u.length,p=u.filter(g=>g.checked_in_at).length,f=u.filter(g=>g.checked_out_at).length,y=m-p;return{total:m,checkedIn:p,checkedOut:f,notCheckedIn:y,checkInRate:m>0?Math.round(p/m*100):0}}}},r9=({volunteer:e,isOpen:t,onClose:r,onUpdateNotes:n,notes:o,setNotes:i})=>{const a=h.useRef(null),l=Mc();h.useEffect(()=>{t&&a.current&&o.length>0&&setTimeout(()=>{if(a.current){if(o.endsWith(" "))a.current.setSelectionRange(o.length,o.length);else{const u=o+" ";i(u),a.current.setSelectionRange(u.length,u.length)}a.current.focus()}},100)},[t]);const c=()=>{if(a.current&&o.length>0)if(o.endsWith(" "))a.current.setSelectionRange(o.length,o.length);else{const u=o+" ";i(u),setTimeout(()=>{a.current&&a.current.setSelectionRange(u.length,u.length)},0)}},d=()=>{a.current&&setTimeout(()=>{const u=a.current;if(u){const m=u.closest(".overflow-y-auto");if(m){const p=u.offsetTop,f=u.offsetHeight,y=m.clientHeight;m.scrollTop;const g=p-y/2+f/2;m.scrollTo({top:Math.max(0,g),behavior:"smooth"})}else u.scrollIntoView({behavior:"smooth",block:"center"})}},350)};return s.jsx(fr,{open:t,onOpenChange:r,children:s.jsxs(nr,{className:`
        ${l?"w-[95vw] max-w-[95vw] max-h-[60vh] top-[8vh] translate-x-[-50%] translate-y-0 p-4 rounded-xl":"sm:max-w-md max-h-[85vh]"} 
        flex flex-col overflow-hidden bg-[#faf7f2] border-[#e9e5dd] shadow-xl
      `,children:[s.jsxs(sr,{className:`flex-shrink-0 ${l?"pb-2":""}`,children:[s.jsxs(or,{className:l?"text-base":"",children:["Add Notes for ",e.name]}),!l&&s.jsx(ir,{children:"Add or edit notes about this volunteer's check-in status."})]}),s.jsx("div",{className:`flex-1 overflow-y-auto ${l?"pb-3":"pb-4"}`,children:s.jsxs("div",{className:"px-1",children:[s.jsx(re,{htmlFor:"notes",className:l?"text-sm mb-2 block":"mb-2 block",children:"Notes"}),s.jsx(un,{ref:a,id:"notes",value:o,onChange:u=>i(u.target.value),onFocus:u=>{c(),d()},placeholder:"e.g., 'Running late', 'Left early', 'Special instructions'...",rows:l?4:5,className:"resize-none text-[15px] rounded-2xl border border-[#e6e2d8] px-4 py-3 bg-white/95 shadow-[inset_0_1px_0_rgba(0,0,0,0.02),0_8px_24px_rgba(0,0,0,0.04)] focus:border-gold-400 focus:ring-2 focus:ring-gold-400/20 focus:ring-offset-0"})]})}),!l&&s.jsxs("div",{className:"flex justify-end space-x-2 flex-shrink-0 pt-4 border-t border-[#e9e5dd]",children:[s.jsx(W,{variant:"outline",onClick:r,children:"Cancel"}),s.jsx(W,{onClick:n,className:"bg-gold-400 hover:bg-gold-300",children:"Save Notes"})]}),l&&s.jsx("div",{className:"flex-shrink-0 pt-3 pb-1",children:s.jsx(W,{onClick:n,className:"w-full bg-gold-400 hover:bg-gold-300 text-white rounded-full px-6 py-3.5 shadow-xl font-medium text-[15px]",children:"Save Notes"})})]})})},n9=({eventId:e,volunteers:t,volunteerRoles:r,onVolunteerUpdate:n})=>{const{toast:o}=Xt(),{checkInVolunteer:i,checkOutVolunteer:a}=$x(),[l,c]=h.useState(""),[d,u]=h.useState(null),[m,p]=h.useState(!1),[f,y]=h.useState(!1),[g,v]=h.useState(!1),[w,x]=h.useState(""),[b,j]=h.useState("all"),T=h.useRef(t),S=h.useRef(n);h.useEffect(()=>{T.current=t,S.current=n},[t,n]),h.useEffect(()=>{if(!e)return;console.log("Setting up real-time subscription for event:",e);const C=K.channel(`volunteer-updates-${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"volunteers",filter:`event_id=eq.${e}`},k=>{console.log("Real-time update received:",k);const L=k.new,z=T.current,G=S.current,X=z.find(Q=>Q.id===L.id);X?(X.checked_in_at!==L.checked_in_at||X.checked_out_at!==L.checked_out_at||X.check_in_notes!==L.check_in_notes)&&(console.log("Updating volunteer from real-time subscription:",L),G(L)):console.log("Volunteer not found in current list, update ignored")}).subscribe(k=>{console.log("Real-time subscription status:",k),k==="SUBSCRIBED"?console.log(" Successfully subscribed to volunteer updates for event:",e):k==="CHANNEL_ERROR"?console.error(" Error subscribing to volunteer updates"):k==="TIMED_OUT"?console.warn(" Real-time subscription timed out, retrying..."):k==="CLOSED"&&console.log("Real-time subscription closed")});return()=>{console.log("Cleaning up real-time subscription for event:",e),K.removeChannel(C)}},[e]);const N=C=>r.find(k=>k.id===C.role_id),E=C=>{const k=[];k.push(C.name||""),k.push(C.phone||"");const L=(C.phone||"").replace(/\D/g,"");L&&k.push(L);const z=N(C);z!=null&&z.role_label&&k.push(z.role_label);const G=Q=>{if(Q&&(Q.name&&k.push(Q.name),Q.email&&k.push(Q.email),Q.phone)){k.push(Q.phone);const ue=String(Q.phone).replace(/\D/g,"");ue&&k.push(ue)}};z!=null&&z.poc_contacts&&Array.isArray(z.poc_contacts)&&z.poc_contacts.forEach(G),z!=null&&z.poc_contact&&G(z.poc_contact);const X=z==null?void 0:z.suggested_poc;return X&&(Array.isArray(X)?X.forEach(Q=>k.push(String(Q))):k.push(String(X))),k.filter(Boolean).join(" ").toLowerCase().replace(/\s+/g," ").trim()},R=t.filter(C=>{if(!l||!l.trim())return!0;const k=l.trim(),L=k.toLowerCase(),z=k.replace(/\D/g,""),G=E(C);return!!(G.includes(L)||z&&G.includes(z))}).filter(C=>b==="all"?!0:b==="in"?!!C.checked_in_at&&!C.checked_out_at:!C.checked_in_at||!!C.checked_out_at),P=C=>{u(C),x(C.check_in_notes||""),p(!0)},_=async()=>{if(d)try{const{error:C}=await K.rpc("update_volunteer_checkin_status",{p_volunteer_id:d.id,p_action:"notes",p_notes:w||null});if(C)throw C;const k={...d,check_in_notes:w||null};n(k),o({title:"Notes Updated",description:"Volunteer notes have been updated successfully."}),p(!1)}catch(C){console.error("Error updating notes:",C),o({title:"Error",description:"Failed to update notes. Please try again.",variant:"destructive"})}},O=async C=>{y(!0);try{if(!await i(C))return;const L=t.find(z=>z.id===C);L&&n({...L,checked_in_at:new Date().toISOString(),checked_out_at:null}),o({title:"Success",description:"Volunteer checked in successfully!"})}catch(k){console.error("Error checking in volunteer:",k),o({title:"Error",description:"Failed to check in volunteer. Please try again.",variant:"destructive"})}finally{y(!1)}},M=async C=>{v(!0);try{if(!await a(C))return;const L=t.find(z=>z.id===C);L&&n({...L,checked_out_at:new Date().toISOString()}),o({title:"Success",description:"Volunteer checked out successfully!"})}catch(k){console.error("Error checking out volunteer:",k),o({title:"Error",description:"Failed to check out volunteer. Please try again.",variant:"destructive"})}finally{v(!1)}},A=async C=>{y(!0);try{const k="Running late",{error:L}=await K.rpc("update_volunteer_checkin_status",{p_volunteer_id:C.id,p_action:"running_late",p_notes:k});if(L)throw L;const G={...t.find(X=>X.id===C.id)||C,check_in_notes:k,checked_in_at:null};n(G),o({title:"Status Updated",description:`${C.name} has been marked as running late.`})}catch(k){console.error("Error updating running late status:",k),o({title:"Error",description:"Failed to update status. Please try again.",variant:"destructive"})}finally{y(!1)}},H=C=>{var L;if(C.checked_in_at&&!C.checked_out_at)return{status:"checked-in",label:"Checked In",variant:"default"};const k=((L=C.check_in_notes)==null?void 0:L.trim().toLowerCase())||"";return!C.checked_in_at&&k.includes("running late")?{status:"running-late",label:"Running Late",variant:"warning"}:{status:"not-checked-in",label:"Not Checked In",variant:"destructive"}},q=t.length,I=t.filter(C=>C.checked_in_at&&!C.checked_out_at).length,D=t.filter(C=>C.checked_out_at&&!C.checked_in_at).length,$=q-I-D,Y=C=>C.trim().split(/\s+/).slice(0,2).map(L=>{var z;return((z=L[0])==null?void 0:z.toUpperCase())||""}).join("");return s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"frosted-panel p-4 sm:p-5",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ra,{className:"absolute left-3 sm:left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-4 h-4 sm:w-5 sm:h-5 z-10"}),s.jsxs("div",{"aria-hidden":"true",style:{position:"absolute",left:"-10000px",top:"auto",width:1,height:1,overflow:"hidden",opacity:0,pointerEvents:"none"},children:[s.jsx("input",{tabIndex:-1,type:"text",autoComplete:"username",name:"trap_username"}),s.jsx("input",{tabIndex:-1,type:"password",autoComplete:"current-password",name:"trap_password"})]}),s.jsx(he,{placeholder:"Search...",value:l,onChange:C=>c(C.target.value),className:"pl-10 sm:pl-12 h-9 sm:h-10 rounded-xl bg-white/5 backdrop-blur-md border-white/10 text-sm w-full",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:!1,inputMode:"search",enterKeyHint:"search",name:"roster_search","data-lpignore":"true","data-1p-ignore":!0})]}),s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 backdrop-blur-md p-1 ring-1 ring-white/10 w-full sm:w-auto justify-center sm:justify-start shrink-0",children:[s.jsxs(W,{variant:b==="all"?"default":"ghost",size:"sm",onClick:()=>j("all"),className:`rounded-full text-xs sm:text-sm px-3 sm:px-4 flex items-center gap-1.5 sm:gap-2 ${b==="all"?"bg-gold-400 text-navy-800 hover:bg-gold-300 shadow-sm":"text-white/70 hover:bg-white/10/80"}`,children:[s.jsx(At,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),s.jsx("span",{className:"font-semibold",children:q}),s.jsx("span",{children:"Total"})]}),s.jsxs(W,{variant:b==="not-in"?"default":"ghost",size:"sm",onClick:()=>j("not-in"),className:`rounded-full text-xs sm:text-sm px-3 sm:px-4 flex items-center gap-1.5 sm:gap-2 ${b==="not-in"?"bg-gold-400 text-navy-800 hover:bg-gold-300 shadow-sm":"text-white/70 hover:bg-white/10/80"}`,children:[s.jsx(Eu,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),s.jsx("span",{className:"font-semibold",children:$}),s.jsx("span",{children:"Not In"})]}),s.jsxs(W,{variant:b==="in"?"default":"ghost",size:"sm",onClick:()=>j("in"),className:`rounded-full text-xs sm:text-sm px-3 sm:px-4 flex items-center gap-1.5 sm:gap-2 ${b==="in"?"bg-gold-400 text-navy-800 hover:bg-gold-300 shadow-sm":"text-white/70 hover:bg-white/10/80"}`,children:[s.jsx(Pa,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),s.jsx("span",{className:"font-semibold",children:I}),s.jsx("span",{children:"Checked In"})]})]})]}),s.jsx("div",{className:"mt-3 sm:mt-4 space-y-2 sm:space-y-3",children:R.map(C=>{const k=N(C),L=H(C),z=!!C.checked_in_at&&!C.checked_out_at,G=L.status==="running-late";return s.jsxs("div",{className:`relative flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 p-3 sm:p-4 rounded-xl backdrop-blur-md border transition-all duration-150 ${z?"bg-gold-400/20 border-gold-400/30 text-white hover:border-gold-400/40":G?"bg-amber-500/10 border-amber-500/20 hover:bg-amber-500/15":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[s.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[s.jsx(aT,{className:"h-8 w-8",children:s.jsx(lT,{className:"text-xs font-medium bg-white/5 text-gold-300",children:Y(C.name)})}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:`font-medium text-sm sm:text-base truncate flex items-center gap-1.5 sm:gap-2 flex-wrap ${z?"text-white":"text-foreground"}`,children:[C.name,s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(C.phone),o({title:"Phone number copied!",description:`${C.name}'s phone number copied to clipboard`})},className:`${z?"text-white/90 hover:text-white":"text-white/60 hover:text-white/80"} text-xs sm:text-sm font-medium cursor-pointer no-underline`,title:`Click to copy ${C.name}'s phone number`,children:C.phone})]}),s.jsx("div",{className:`text-xs truncate ${z?"text-white/80":"text-white/40"}`,children:(k==null?void 0:k.role_label)||"Unknown Role"})]})]}),s.jsxs("div",{className:"sm:ml-auto flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[L.status!=="not-checked-in"&&s.jsxs("span",{className:`${L.status==="checked-in"?"rounded-full px-3 py-1 text-xs font-medium shadow-sm transition-all duration-200 bg-white/5 text-gold-300 border border-gold-400/20":L.status==="running-late"?"warning-pill":"danger-pill"} flex items-center gap-1.5`,children:[L.status==="running-late"&&s.jsx(wr,{className:"w-3 h-3"}),L.label]}),z&&C.checked_in_at&&s.jsx("span",{className:`text-xs sm:text-sm ${z?"text-white/80":"text-white/40"}`,children:WS(C.checked_in_at)})]}),s.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 flex-wrap w-full sm:w-auto",children:[z?s.jsxs(W,{size:"sm",variant:"outline",onClick:()=>M(C.id),disabled:f||g,className:"flex-1 sm:flex-none rounded-full text-xs sm:text-sm justify-center",children:[s.jsx(ju,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Check Out"}),s.jsx("span",{className:"sm:hidden",children:"Out"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(W,{size:"sm",className:"flex-1 sm:flex-none rounded-full shadow-[0_1px_0_rgba(0,0,0,0.04)] text-xs sm:text-sm justify-center",onClick:()=>O(C.id),disabled:f||g,children:[s.jsx(Np,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Check In"}),s.jsx("span",{className:"sm:hidden",children:"In"})]}),L.status!=="running-late"&&s.jsxs(W,{size:"sm",variant:"outline",onClick:()=>A(C),disabled:f||g,className:"flex-1 sm:flex-none rounded-full text-amber-300 border-amber-500/20 hover:bg-amber-500/10 text-xs sm:text-sm justify-center",children:[s.jsx(wr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Running Late"}),s.jsx("span",{className:"sm:hidden",children:"Late"})]})]}),s.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[s.jsxs(W,{variant:"outline",size:"sm",onClick:()=>P(C),className:`w-full sm:w-auto rounded-full text-xs sm:text-sm justify-center ${C.check_in_notes?"bg-gold-400/10 border-gold-400/20 text-gold-300 hover:bg-gold-400/15 hover:border-gold-400/30 shadow-sm font-medium":"bg-white/5 border-white/10 text-white/60 hover:bg-white/10 hover:border-white/20"}`,children:[s.jsx(En,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 sm:mr-1 ${C.check_in_notes?"text-gold-300":"text-white/60"}`}),s.jsx("span",{className:"hidden sm:inline",children:"Notes"}),s.jsx("span",{className:"sm:hidden",children:"Notes"})]}),C.check_in_notes&&s.jsx("span",{className:"absolute -top-1.5 -right-1.5 h-4 w-4 bg-gold-400 rounded-full border-2 border-navy-800 shadow-md flex items-center justify-center",children:s.jsx("span",{className:"text-[8px] text-white font-bold",children:"!"})})]})]})]})]},C.id)})}),R.length===0&&s.jsx("div",{className:"text-center py-8 text-white/40",children:l&&l.trim()?"No volunteers found matching your search.":"No volunteers found."})]}),d&&s.jsx(r9,{volunteer:d,isOpen:m,onClose:()=>{p(!1),u(null)},onUpdateNotes:_,notes:w,setNotes:x})]})},cT=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:te("w-full caption-bottom text-sm border-collapse",e),...t})}));cT.displayName="Table";const dT=h.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:te("[&_tr]:border-b border-white/10 bg-white/5",e),...t}));dT.displayName="TableHeader";const uT=h.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:te("[&_tr:last-child]:border-0 bg-white/5",e),...t}));uT.displayName="TableBody";const s9=h.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:te("border-t border-white/10 bg-white/5 font-medium [&>tr]:last:border-b-0 text-foreground",e),...t}));s9.displayName="TableFooter";const pg=h.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:te("border-b border-white/5 transition-colors hover:bg-white/5 data-[state=selected]:bg-white/10",e),...t}));pg.displayName="TableRow";const Bi=h.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:te("h-12 px-4 text-left align-middle font-semibold text-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Bi.displayName="TableHead";const zi=h.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:te("p-4 align-middle text-white/70 [&:has([role=checkbox])]:pr-0",e),...t}));zi.displayName="TableCell";const o9=h.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:te("mt-4 text-sm text-white/50",e),...t}));o9.displayName="TableCaption";const i9=({eventId:e,eventTitle:t,onCleanupComplete:r})=>{const{toast:n}=Xt(),{getNoShowVolunteers:o,completeEventAndCleanup:i,isLoading:a}=$x(),[l,c]=h.useState([]),[d,u]=h.useState(!1),[m,p]=h.useState(!1),[f,y]=h.useState(null);h.useEffect(()=>{g()},[e]);const g=async()=>{try{const x=await o(e);c(x)}catch(x){console.error("Error loading no-show volunteers:",x),n({title:"Error",description:"Failed to load no-show volunteers.",variant:"destructive"})}},v=async()=>{p(!0);try{const x=await i(e);x&&(y({eventTitle:x.event_title,noShowCount:x.no_show_count,removedContacts:x.removed_contacts||[]}),await g(),n({title:"Cleanup Complete",description:`Successfully processed ${x.no_show_count} no-show volunteers.`}),r&&r())}catch(x){console.error("Error during cleanup:",x),n({title:"Error",description:"Failed to complete cleanup. Please try again.",variant:"destructive"})}finally{p(!1)}},w=()=>{u(!1),y(null)};return l.length===0?s.jsx(Te,{children:s.jsx(Ie,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Pa,{className:"w-12 h-12 text-emerald-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"All Volunteers Checked In"}),s.jsx("p",{className:"text-white/50",children:"Great! All volunteers who signed up for this event have checked in."})]})})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Te,{children:[s.jsxs(Lt,{children:[s.jsxs(Ft,{className:"flex items-center space-x-2",children:[s.jsx(At,{className:"w-5 h-5"}),s.jsxs("span",{children:["No-Show Volunteers (",l.length,")"]})]}),s.jsx(Wr,{children:"These volunteers signed up but did not check in to the event"})]}),s.jsxs(Ie,{children:[s.jsx("div",{className:"md:hidden space-y-3",children:l.map(x=>s.jsxs("div",{className:"rounded-xl bg-red-500/10 backdrop-blur-sm ring-1 ring-red-100 p-4 space-y-2",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h5",{className:"font-semibold text-foreground text-sm mb-1",children:x.volunteer_name}),s.jsx(ve,{variant:"destructive",className:"text-xs mt-1",children:"No Show"})]})}),s.jsxs("div",{className:"space-y-1.5 text-xs text-white/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white/30 shrink-0",children:"Phone:"}),s.jsx("a",{href:`tel:${x.volunteer_phone}`,className:"text-gold-400 hover:text-gold-300 hover:underline",children:x.volunteer_phone})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white/30 shrink-0",children:"Role:"}),s.jsx("span",{className:"text-white/70",children:x.role_label})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white/30 shrink-0",children:"Signed up:"}),s.jsx("span",{children:new Date(x.signup_date).toLocaleDateString()})]})]})]},x.volunteer_id))}),s.jsx("div",{className:"hidden md:block border rounded-lg",children:s.jsxs(cT,{children:[s.jsx(dT,{children:s.jsxs(pg,{children:[s.jsx(Bi,{children:"Name"}),s.jsx(Bi,{children:"Phone"}),s.jsx(Bi,{children:"Role"}),s.jsx(Bi,{children:"Signup Date"}),s.jsx(Bi,{children:"Status"})]})}),s.jsx(uT,{children:l.map(x=>s.jsxs(pg,{children:[s.jsx(zi,{className:"font-medium",children:x.volunteer_name}),s.jsx(zi,{children:x.volunteer_phone}),s.jsx(zi,{children:x.role_label}),s.jsx(zi,{children:new Date(x.signup_date).toLocaleDateString()}),s.jsx(zi,{children:s.jsx(ve,{variant:"destructive",children:"No Show"})})]},x.volunteer_id))})]})}),s.jsx("div",{className:"mt-6 flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:s.jsxs(fr,{open:d,onOpenChange:u,children:[s.jsx(tx,{asChild:!0,children:s.jsxs(W,{variant:"destructive",disabled:a||m,className:"flex items-center justify-center space-x-2 w-full sm:w-auto",children:[s.jsx(Gr,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs sm:text-sm",children:"Clean Up No-Shows"})]})}),s.jsxs(nr,{className:"sm:max-w-md",children:[s.jsxs(sr,{children:[s.jsx(or,{children:"Confirm Cleanup"}),s.jsxs(ir,{children:["Are you sure you want to remove ",l.length," no-show volunteer",l.length!==1?"s":"","from the contacts database? This action cannot be undone."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-red-500/10 border border-white/10 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"This will remove:"}),s.jsxs("ul",{className:"text-sm text-red-400 space-y-1",children:[l.slice(0,5).map(x=>s.jsxs("li",{children:[" ",x.volunteer_name," (",x.volunteer_phone,")"]},x.volunteer_id)),l.length>5&&s.jsxs("li",{className:"text-red-400",children:["... and ",l.length-5," more"]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(W,{variant:"outline",onClick:w,disabled:m,children:"Cancel"}),s.jsx(W,{variant:"destructive",onClick:v,disabled:m,children:m?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Cleaning Up..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Gr,{className:"w-4 h-4 mr-2"}),"Confirm Cleanup"]})})]})]})]})]})})]})]}),f&&s.jsxs(Te,{className:"border-emerald-500/20 bg-emerald-500/10",children:[s.jsx(Lt,{children:s.jsxs(Ft,{className:"text-emerald-300 flex items-center space-x-2",children:[s.jsx(Pa,{className:"w-5 h-5"}),s.jsx("span",{children:"Cleanup Complete"})]})}),s.jsx(Ie,{children:s.jsxs("div",{className:"space-y-2 text-emerald-300/80",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Event:"})," ",f.eventTitle]}),s.jsxs("p",{children:[s.jsx("strong",{children:"No-Show Volunteers Processed:"})," ",f.noShowCount]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Contacts Removed:"})," ",f.removedContacts.length]}),f.removedContacts.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Removed Contacts:"}),s.jsx("ul",{className:"text-sm space-y-1",children:f.removedContacts.map(x=>s.jsxs("li",{children:[" ",x.name," (",x.phone,")"]},x.id))})]})]})})]})]})},a9=e=>`event-${e.slice(-8)}`,Dd=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>String(t)).filter(Boolean);if(typeof e=="string"){const t=e.trim();if(!t)return[];if(t.startsWith("[")&&t.endsWith("]"))try{const n=JSON.parse(t);if(Array.isArray(n))return n.map(o=>String(o)).filter(Boolean)}catch{}return t.replace(/[{}\[\]"]+/g,"").split(",").map(n=>n.trim()).filter(Boolean)}return[]},l9=()=>{const{slug:e}=Iv(),t=Fr();Xt();const{deleteVolunteer:r,isDeleting:n}=T2(),{checkEventAccess:o}=M7(),{isAdmin:i}=Mh();$x();const[a,l]=h.useState(null),[c,d]=h.useState(!0),[u,m]=h.useState(!1),[p,f]=h.useState({isOpen:!1,volunteer:null});h.useEffect(()=>{(async()=>{const{data:{user:b}}=await K.auth.getUser();if(!b){t("/login");return}await y()})()},[e,t]);const y=async()=>{if(e)try{console.log("Loading event with slug:",e);let x=null;const{data:b,error:j}=await K.from("events").select("*").is("deleted_at",null).order("start_datetime",{ascending:!1});if(j){console.error("Error loading events:",j);const{data:_}=await K.rpc("get_shared_events");if(!_){l(null);return}x=_.map(O=>O.event)}else x=b;let T=x==null?void 0:x.find(_=>qS(_.title,_.id)===e||a9(_.id)===e);if(!T&&e)if(e.startsWith("event-")){const _=e.replace("event-","");_.length===8&&(T=x==null?void 0:x.find(O=>O.id.endsWith(_)))}else{const _=e.split("-"),O=_[_.length-1]||"";O.length===4&&(T=x==null?void 0:x.find(M=>M.id.endsWith(O)))}if(!T){console.log("Event not found for slug:",e),l(null);return}const S=T.id,{data:N,error:E}=await K.from("events").select(`
          *,
          volunteer_roles(*),
          volunteers(*)
        `).eq("id",S).maybeSingle();if(E||!N){E?console.error("Error loading event details:",E):console.log("No event found via direct select; trying RPC");const{data:_,error:O}=await K.rpc("get_shared_event_detail",{p_event_id:S});if(O){console.error("RPC error loading shared event:",O),l(null);return}if(!_||_.length===0){console.log("RPC returned no data for shared event"),l(null);return}const M=_[0],A={...M.event,volunteer_roles:M.volunteer_roles||[],volunteers:M.volunteers||[]};if(A.volunteer_roles&&A.volunteer_roles.length>0){const I=[];if(A.volunteer_roles.forEach(D=>{Dd(D.suggested_poc).forEach(Y=>{Y&&!I.includes(Y)&&I.push(Y)})}),I.length>0){console.log("Fetching POC contacts for shared event IDs:",I);const{data:D,error:$}=await K.from("contacts").select("id, name, phone, email").in("id",I);!$&&D?(console.log("Fetched POC contacts for shared event:",D),A.volunteer_roles=A.volunteer_roles.map(Y=>{const k=Dd(Y.suggested_poc).map(L=>D.find(z=>z.id===L)).filter(Boolean);return{...Y,poc_contacts:k,poc_contact:k[0]}})):console.error("Error fetching POC contacts for shared event:",$)}}console.log("Loaded shared event via RPC:",A),l(A);const{hasAccess:H,permissionLevel:q}=await o(S,"edit");m(H&&q==="edit");return}if(console.log("Found event:",N),console.log(" Volunteers data:",N.volunteers),console.log(" Volunteer roles data:",N.volunteer_roles),N.volunteer_roles&&N.volunteer_roles.length>0){const _=[];if(N.volunteer_roles.forEach(O=>{Dd(O.suggested_poc).forEach(A=>{A&&!_.includes(A)&&_.push(A)})}),_.length>0){console.log("Fetching POC contacts for IDs:",_);const{data:O,error:M}=await K.from("contacts").select("id, name, phone, email").in("id",_);!M&&O?(console.log("Fetched POC contacts:",O),N.volunteer_roles=N.volunteer_roles.map(A=>{const q=Dd(A.suggested_poc).map(I=>O.find(D=>D.id===I)).filter(Boolean);return{...A,poc_contacts:q,poc_contact:q[0]}})):console.error("Error fetching POC contacts:",M)}}l(N);const{hasAccess:R,permissionLevel:P}=await o(S,"edit");console.log(" Permission check:",{hasAccess:R,permissionLevel:P,eventId:S}),m(R&&P==="edit")}catch(x){console.error("Error:",x),l(null)}finally{d(!1)}},g=async x=>{if(!p.volunteer)return;await r(p.volunteer.id,p.volunteer.name,x)&&(l(j=>{var T;return j?{...j,volunteers:((T=j.volunteers)==null?void 0:T.filter(S=>S.id!==p.volunteer.id))||[]}:null}),f({isOpen:!1,volunteer:null}))},v=()=>{n||f({isOpen:!1,volunteer:null})},w=x=>{l(b=>{var j;return b?{...b,volunteers:((j=b.volunteers)==null?void 0:j.map(T=>T.id===x.id?x:T))||[]}:null})};return h.useEffect(()=>{if(!(a!=null&&a.id))return;let x,b=!0;const j=async()=>{if(document.visibilityState==="visible")try{const{data:T,error:S}=await K.from("events").select("id, volunteers(*)").eq("id",a.id).maybeSingle();if(!S&&T&&b&&Array.isArray(T.volunteers)){const N=T.volunteers;l(E=>E&&{...E,volunteers:N})}}catch{}};return j(),x=setInterval(j,4e3),()=>{b=!1,x&&clearInterval(x)}},[a==null?void 0:a.id]),c?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(dn,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-gold-400 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{children:"Loading event details..."})]})})})]}):a?s.jsxs("div",{className:"min-h-screen",children:[s.jsx(dn,{}),s.jsxs("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-5 md:py-6 max-w-7xl",children:[s.jsx("div",{className:"mb-3 sm:mb-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/50",children:[s.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>t("/dashboard"),className:"h-8 px-2 sm:px-3 text-white/50 hover:text-gold-300 hover:bg-white/10 rounded-full",children:[s.jsx(nc,{className:"w-4 h-4 mr-1"}),"Dashboard"]}),s.jsx("span",{className:"text-white/30",children:"/"}),s.jsx("span",{className:"text-foreground font-medium",children:"Check In"})]})}),s.jsx("div",{className:"frosted-panel p-4 sm:p-5 mb-4 sm:mb-5",children:s.jsxs("div",{className:"min-w-0",children:[s.jsx("h1",{className:"text-xl sm:text-2xl md:text-2xl font-semibold tracking-tight text-foreground break-words",children:a.title}),s.jsx("p",{className:"mt-1.5 sm:mt-2 text-sm text-white/50",children:"Manage volunteer attendance and track who has arrived, marked themselves as running late, or needs special attention"})]})}),a.volunteers&&a.volunteer_roles&&s.jsx("div",{className:"mb-4 sm:mb-5",children:s.jsx(n9,{eventId:a.id,volunteers:a.volunteers,volunteerRoles:a.volunteer_roles,onVolunteerUpdate:w})}),i&&a.volunteers&&a.volunteers.length>0&&s.jsx("div",{className:"mb-4 sm:mb-5",children:s.jsx(i9,{eventId:a.id,eventTitle:a.title,onCleanupComplete:()=>{y()}})}),s.jsx(I7,{isOpen:p.isOpen,onClose:v,onConfirm:g,volunteer:p.volunteer,isDeleting:n})]})]}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(dn,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx(Te,{className:"w-full max-w-md mx-auto",children:s.jsxs(Ie,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Event Not Found"}),s.jsx("div",{className:"text-white/50 mb-4",children:"The event you're looking for doesn't exist or has been removed."}),s.jsxs(W,{onClick:()=>t("/dashboard"),children:[s.jsx(nc,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})]})})})]})},c9=e=>/^[a-zA-Z0-9_-]+$/.test(e)&&e.length>=3&&e.length<=100,mb=e=>e.replace(/[<>]/g,"").replace(/['";\\]/g,"").trim(),d9=e=>{const t=e.replace(/[^\d+]/g,"");let r;return t.startsWith("+")?r=t:/^1\d{10}$/.test(t)?r=`+${t}`:/^\d{10}$/.test(t)?r=`+1${t}`:r=`+${t}`,/^\+[1-9]\d{7,14}$/.test(r)},u9=e=>/^[a-zA-Z\s\-'.,]+$/.test(e)&&e.length>=2&&e.length<=100;class h9{constructor(t=6e4,r=100){Kc(this,"requests",new Map);Kc(this,"windowMs");Kc(this,"maxRequests");this.windowMs=t,this.maxRequests=r}isAllowed(t){const r=Date.now(),n=this.requests.get(t);return!n||r>n.resetTime?(this.requests.set(t,{count:1,resetTime:r+this.windowMs}),!0):n.count>=this.maxRequests?!1:(n.count++,!0)}getRemainingRequests(t){const r=this.requests.get(t);return!r||Date.now()>r.resetTime?this.maxRequests:Math.max(0,this.maxRequests-r.count)}}const f9=new h9,m9=(e,t)=>{const r=e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),n=t.slice(-4);return`${r}-${n}`},p9=e=>`event-${e.slice(-8)}`,pb=e=>{const t=e.replace(/[^\d+]/g,"");return t.startsWith("+")?t:/^1\d{10}$/.test(t)?`+${t}`:/^\d{10}$/.test(t)?`+1${t}`:`+${t}`},gb=(e,t,r,n)=>{const o=d=>{const[u,m]=d.split(":").map(Number);return u*60+m},i=o(e),a=o(t),l=o(r),c=o(n);return i<c&&l<a},g9=()=>{const{eventSlug:e}=Iv(),{toast:t}=Xt(),[r,n]=h.useState(null),[o,i]=h.useState(!1),[a,l]=h.useState(null),[c,d]=h.useState(!1),[u,m]=h.useState(!0),p=h.useRef(!1),f=h.useRef(null);h.useEffect(()=>{y()},[e]);const y=async()=>{if(e)try{if(console.log("Loading event with slug:",e),!c9(e)){console.error("Invalid event slug format:",e),n(null);return}const{data:S,error:N}=await K.from("events").select(`
          *,
          volunteer_roles(*)
        `).eq("status","published").eq("is_public",!0).is("deleted_at",null);if(N){console.error("Error loading events:",N),n(null);return}let E=S==null?void 0:S.find(R=>m9(R.title,R.id)===e||p9(R.id)===e);if(!E&&e)if(e.startsWith("event-")){const R=e.replace("event-","");R.length===8&&(E=S==null?void 0:S.find(P=>P.id.endsWith(R)))}else{const R=e.split("-"),P=R[R.length-1]||"";P.length===4&&(E=S==null?void 0:S.find(_=>_.id.endsWith(P)))}if(!E){console.log("Event not found for slug (including suffix fallback):",e),n(null);return}if(console.log("Found event:",E),E&&E.volunteer_roles){const R=[];E.volunteer_roles.forEach(_=>{_.suggested_poc&&(Array.isArray(_.suggested_poc)?R.push(..._.suggested_poc):R.push(_.suggested_poc))});const P=[...new Set(R)].filter(_=>_);if(P.length>0){console.log("Fetching POC contacts for IDs:",P);const{data:_,error:O}=await K.from("contacts").select("id, name, phone, email").in("id",P);!O&&_?(console.log("Fetched POC contacts:",_),E.volunteer_roles=E.volunteer_roles.map(M=>{let A=[];if(M.suggested_poc)if(Array.isArray(M.suggested_poc))A=M.suggested_poc.map(H=>_.find(q=>q.id===H)).filter(H=>H);else{const H=_.find(q=>q.id===M.suggested_poc);H&&(A=[H])}return{...M,poc_contacts:A,poc_contact:A[0]}})):console.error("Error fetching POC contacts:",O)}}try{const{data:R,error:P}=await K.from("volunteers").select("id, role_id, name, phone, gender, notes, signup_date, status").eq("event_id",E.id).eq("status","confirmed");P?(console.error("Error fetching volunteers:",P),E.volunteers=[]):E.volunteers=R||[]}catch(R){console.error("Unexpected error fetching volunteers:",R),E.volunteers=[]}n(E)}catch(S){console.error("Error:",S),n(null)}finally{m(!1)}},g=S=>{var N;return((N=r==null?void 0:r.volunteers)==null?void 0:N.filter(E=>E.role_id===S))||[]},v=(S,N)=>{const E=g(S.id);if(N){const P=E.filter(D=>D.gender===N),_=N==="brother"?S.slots_brother:S.slots_sister,O=S.slots_flexible||0,M=N==="brother"?"sister":"brother",A=E.filter(D=>D.gender===M),H=M==="brother"?S.slots_brother:S.slots_sister,q=Math.max(0,A.length-H),I=Math.max(0,O-q);return _+I-P.length}return(S.slots_brother||0)+(S.slots_sister||0)+(S.slots_flexible||0)-E.length},w=async S=>{if(!(r!=null&&r.id))return[];const N=pb(S);return(r.volunteers||[]).filter(P=>P.phone===N).map(P=>{const _=(r.volunteer_roles||[]).find(O=>O.id===P.role_id);return _?{role:_,volunteer:P}:void 0}).filter(Boolean)},x=S=>{if(v(S)<=0){t({title:"Role Full",description:"This role is currently full. Please check other available roles.",variant:"destructive"});return}l(S),i(!0)},b=S=>{n(N=>{var R;if(!N)return null;const E=((R=N.volunteers)==null?void 0:R.filter(P=>P.id!==S))||[];return console.log(`[SIGNUP] Updated local state - removed volunteer ${S} from UI`),{...N,volunteers:E}})},j=async(S,N,E)=>{try{const R=`Hi ${N}! You're confirmed for ${E} on ${new Date((r==null?void 0:r.start_datetime)||"").toLocaleDateString()}. Thanks for volunteering! `;console.log(`Sending SMS to ${S}: ${R}`);const{data:P,error:_}=await K.functions.invoke("send-sms",{body:{to:S,message:R}});if(_){console.error("Error sending SMS:",_),t({title:"SMS Failed",description:"Failed to send confirmation SMS, but signup was successful.",variant:"destructive"});return}console.log("SMS sent successfully:",P),t({title:"SMS Sent! ",description:`Confirmation SMS sent to ${S}`})}catch(R){console.error("SMS error:",R),t({title:"SMS Failed",description:"Failed to send confirmation SMS, but signup was successful.",variant:"destructive"})}};return{event:r,loading:u,eventSlug:e,isModalOpen:o,setIsModalOpen:i,selectedRole:a,isSubmitting:c,getVolunteersForRole:g,getRemainingSlots:v,getExistingSignups:w,openSignupModal:x,handleSignupSubmit:async S=>{const N=_=>_?_.charAt(0).toUpperCase()+_.slice(1).toLowerCase():"",R=(_=>_.trim().split(/\s+/).map(O=>O.split("-").map(N).join("-")).map(O=>O.split("'").map(N).join("'")).join(" "))(S.name||"");if(p.current||c)return console.log("Submission already in progress, ignoring duplicate request"),!1;const P=Date.now().toString();f.current=P,p.current=!0,d(!0),console.log(`Starting signup submission ${P}`);try{if(!S.name||!S.phone)return t({title:"Missing Information",description:"Please provide your name and phone number.",variant:"destructive"}),!1;if(!a||!(r!=null&&r.id))return!1;if(f.current!==P)return console.log("Submission cancelled - newer submission started"),!1;if(!u9(S.name))return t({title:"Invalid Name",description:"Please enter a valid name (letters, spaces, hyphens, apostrophes, and periods only).",variant:"destructive"}),!1;if(!d9(S.phone))return t({title:"Invalid Phone Number",description:"Please enter a valid phone number in international format.",variant:"destructive"}),!1;const _=mb(S.name),O=mb(S.notes||""),M=pb(S.phone);if(!r||r.status!=="published"||r.is_public===!1)return t({title:"Signup Closed",description:"This event is not open for public signups.",variant:"destructive"}),!1;const A=`signup_${M}`;if(!f9.isAllowed(A))return t({title:"Too Many Requests",description:"Please wait before submitting another signup request.",variant:"destructive"}),!1;if(v(a,S.gender)<=0)return t({title:"Gender Slot Full",description:`The ${S.gender} slots for this role are full. Please try a different role or gender selection.`,variant:"destructive"}),!1;const q=(r.volunteers||[]).filter(Y=>Y.phone===M);if(q.length>0){if(q.some(z=>z.role_id===a.id))return t({title:"Already Registered",description:"This phone number is already registered for this role.",variant:"destructive"}),!1;const C=a.shift_start,k=a.shift_end||a.shift_end_time;if(q.some(z=>{const G=(r.volunteer_roles||[]).find(Q=>Q.id===z.role_id);if(!G)return!1;const X=G.shift_end||G.shift_end_time;return gb(C,k,G.shift_start,X)}))return t({title:"Time Conflict",description:"You're already signed up for a role that overlaps with this time slot. Please choose a different role or remove your existing signup first.",variant:"destructive"}),!1}const I=(r.volunteers||[]).filter(Y=>Y.phone===M);if(I&&I.length>0){if(I.find(k=>k.role_id===a.id))return t({title:"Already Registered",description:"This phone number is already registered for this role.",variant:"destructive"}),!1;if(I.some(k=>{const L=(r.volunteer_roles||[]).find(z=>z.id===k.role_id);return L?gb(a.shift_start,a.shift_end||a.shift_end_time,L.shift_start,L.shift_end||L.shift_end_time):!1}))return t({title:"Time Conflict",description:"You're already signed up for a role that overlaps with this time slot. Please choose a different role or remove your existing signup first.",variant:"destructive"}),!1}if(f.current!==P)return console.log("Submission cancelled before database insert"),!1;console.log(`Inserting volunteer data for submission ${P} via RPC register_volunteer_public`);const{data:D,error:$}=await K.rpc("register_volunteer_public",{p_event_id:r.id,p_role_id:a.id,p_name:R,p_phone:M,p_gender:S.gender,p_notes:O});if($){console.error("Error signing up:",$);const Y=($.message||"").toLowerCase(),C=Y.includes("permission denied")||Y.includes("violates row-level security")||$.code==="42501";return t({title:C?"Signup Closed":"Signup Failed",description:C?"This event is not open for public signups.":"There was an error signing up. Please try again.",variant:"destructive"}),!1}return console.log(`Successfully inserted volunteer for submission ${P}:`,D),n(Y=>Y?{...Y,volunteers:[...Y.volunteers||[],D]}:null),i(!1),t({title:"Successfully Signed Up!",description:`You're now registered for ${a.role_label}.`}),await j(M,R,a.role_label),!0}catch(_){return console.error("Error in signup submission:",_),t({title:"Signup Failed",description:"There was an error signing up. Please try again.",variant:"destructive"}),!1}finally{f.current===P&&(p.current=!1,d(!1),f.current=null,console.log(`Completed signup submission ${P}`))}},updateLocalVolunteers:b}},v9=({isOpen:e,onClose:t,onConfirm:r,role:n,event:o,volunteerData:i})=>{const a=new Date(o.start_datetime);return s.jsx(Y2,{open:e,onOpenChange:t,children:s.jsxs(kx,{className:"max-w-md",children:[s.jsxs(Tx,{children:[s.jsx(Rx,{className:"text-foreground",children:"Confirm Your Volunteer Registration"}),s.jsx(Ox,{children:"Please confirm your volunteer registration details:"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gold-400/10 p-4 rounded-lg space-y-2 text-sm",children:[s.jsx("div",{className:"font-semibold text-foreground",children:n.role_label}),s.jsxs("div",{className:"flex items-center gap-2 text-gold-300",children:[s.jsx(Dt,{className:"w-4 h-4"}),s.jsx("span",{children:a.toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gold-300",children:[s.jsx(wr,{className:"w-4 h-4"}),s.jsxs("span",{children:[ct(n.shift_start)," - ",ct(n.shift_end)]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gold-300",children:[s.jsx(qn,{className:"w-4 h-4"}),s.jsx("span",{children:o.location})]})]}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Name:"})," ",i.name]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Phone:"})," ",i.phone]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Gender:"})," ",i.gender]}),i.notes&&s.jsxs("div",{children:[s.jsx("strong",{children:"Notes:"})," ",i.notes]})]}),s.jsx("div",{className:"text-gold-400 text-sm",children:"You will receive a confirmation SMS with event details."})]}),s.jsxs(Px,{children:[s.jsx(Ax,{children:"Cancel"}),s.jsx(Dx,{onClick:r,className:"bg-gold-400 hover:bg-gold-300",children:"Confirm Registration"})]})]})})},x9=(e,t)=>{const r=Os(e.start_datetime),[n,o]=t.shift_start.split(":").map(Number),[i,a]=t.shift_end.split(":").map(Number),l=new Date(r);l.setHours(n,o,0,0);const c=new Date(r);c.setHours(i,a,0,0),c<=l&&c.setDate(c.getDate()+1);const d=x=>{const b=new Date(x.getTime()-x.getTimezoneOffset()*6e4),j=hT(x);return new Date(b.getTime()+j*6e4).toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,"")},u=encodeURIComponent(`${e.title} - ${t.role_label}`),m=encodeURIComponent(`Role: ${t.role_label}
Shift: ${t.shift_start} - ${t.shift_end} (Michigan Time)
Location: ${e.location}
`+(e.description?`Description: ${e.description}`:"")),p=encodeURIComponent(e.location),f=d(l),y=d(c),g=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${u}&dates=${f}/${y}&details=${m}&location=${p}&ctz=${Sn}`,v=`https://outlook.live.com/calendar/0/deeplink/compose?subject=${u}&startdt=${f}&enddt=${y}&body=${m}&location=${p}`,w=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//EasyEvent//EN
CALSCALE:GREGORIAN
METHOD:PUBLISH
BEGIN:VTIMEZONE
TZID:${Sn}
BEGIN:DAYLIGHT
TZOFFSETFROM:-0500
TZOFFSETTO:-0400
TZNAME:EDT
DTSTART:20070311T020000
RRULE:FREQ=YEARLY;BYMONTH=3;BYDAY=2SU
END:DAYLIGHT
BEGIN:STANDARD
TZOFFSETFROM:-0400
TZOFFSETTO:-0500
TZNAME:EST
DTSTART:20071104T020000
RRULE:FREQ=YEARLY;BYMONTH=11;BYDAY=1SU
END:STANDARD
END:VTIMEZONE
BEGIN:VEVENT
UID:${e.id}-${t.id}@easyevent.com
DTSTART;TZID=${Sn}:${f}
DTEND;TZID=${Sn}:${y}
SUMMARY:${decodeURIComponent(u)}
DESCRIPTION:${decodeURIComponent(m)}
LOCATION:${decodeURIComponent(p)}
DTSTAMP:${new Date().toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,"")}
END:VEVENT
END:VCALENDAR`;return{google:g,outlook:v,ics:w}},hT=e=>{const t=new Date(e.toLocaleString("en-US",{timeZone:Sn}));return(new Date(e.toLocaleString("en-US",{timeZone:"UTC"})).getTime()-t.getTime())/(1e3*60)},y9=e=>{const t=Os(e.start_datetime),r=new Date(t),n=new Date(t);if(e.end_datetime){const f=Os(e.end_datetime);n.setTime(f.getTime())}else n.setHours(r.getHours()+2);const o=f=>{const y=new Date(f.getTime()-f.getTimezoneOffset()*6e4),g=hT(f);return new Date(y.getTime()+g*6e4).toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,"")},i=encodeURIComponent(e.title),a=encodeURIComponent(`Event: ${e.title}
Location: ${e.location}
`+(e.description?`Description: ${e.description}`:"")+`

Volunteer opportunities available. Visit the signup page to select a specific role.`),l=encodeURIComponent(e.location),c=o(r),d=o(n),u=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${i}&dates=${c}/${d}&details=${a}&location=${l}&ctz=${Sn}`,m=`https://outlook.live.com/calendar/0/deeplink/compose?subject=${i}&startdt=${c}&enddt=${d}&body=${a}&location=${l}`,p=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//EasyEvent//EN
CALSCALE:GREGORIAN
METHOD:PUBLISH
BEGIN:VTIMEZONE
TZID:${Sn}
BEGIN:DAYLIGHT
TZOFFSETFROM:-0500
TZOFFSETTO:-0400
TZNAME:EDT
DTSTART:20070311T020000
RRULE:FREQ=YEARLY;BYMONTH=3;BYDAY=2SU
END:DAYLIGHT
BEGIN:STANDARD
TZOFFSETFROM:-0400
TZOFFSETTO:-0500
TZNAME:EST
DTSTART:20071104T020000
RRULE:FREQ=YEARLY;BYMONTH=11;BYDAY=1SU
END:STANDARD
END:VTIMEZONE
BEGIN:VEVENT
UID:${e.id}@easyevent.com
DTSTART;TZID=${Sn}:${c}
DTEND;TZID=${Sn}:${d}
SUMMARY:${decodeURIComponent(i)}
DESCRIPTION:${decodeURIComponent(a)}
LOCATION:${decodeURIComponent(l)}
DTSTAMP:${new Date().toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,"")}
END:VEVENT
END:VCALENDAR`;return{google:u,outlook:m,ics:p}},w9=(e,t)=>{const r=new Blob([e],{type:"text/calendar;charset=utf-8"}),n=document.createElement("a");n.href=window.URL.createObjectURL(r),n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)},gg=({event:e,role:t,className:r,showText:n=!1})=>{const[o,i]=h.useState(!1),a=l=>{let c,d;switch(t?(c=x9(e,t),d=`${e.title}-${t.role_label}.ics`):(c=y9(e),d=`${e.title}.ics`),l){case"google":window.open(c.google,"_blank");break;case"outlook":window.open(c.outlook,"_blank");break;case"ics":w9(c.ics,d);break}i(!1)};return s.jsxs(E2,{open:o,onOpenChange:i,children:[s.jsx(k2,{asChild:!0,children:s.jsxs(W,{variant:"outline",size:"sm",className:`border-gold-400 text-gold-300 hover:bg-gold-400/10 ${r}`,children:[s.jsx(Dt,{className:"w-4 h-4"}),n&&s.jsx("span",{className:"mx-2",children:"Add to Calendar"}),s.jsx(Hr,{className:"w-4 h-4 ml-2"})]})}),s.jsxs(Ex,{className:"bg-white/5 border-white/10 shadow-lg",children:[s.jsx(Fl,{onClick:()=>a("google"),className:"hover:bg-gold-400/10 cursor-pointer",children:"Google Calendar"}),s.jsx(Fl,{onClick:()=>a("outlook"),className:"hover:bg-gold-400/10 cursor-pointer",children:"Outlook Calendar"}),s.jsx(Fl,{onClick:()=>a("ics"),className:"hover:bg-gold-400/10 cursor-pointer",children:"Apple Calendar"})]})]})},b9=({isOpen:e,onClose:t,selectedRole:r,event:n,onSubmit:o,getRemainingSlots:i,getExistingSignups:a,isSubmitting:l})=>{const c=Mc(),{toast:d}=Xt(),[u,m]=h.useState(!1),[p,f]=h.useState(!1),[y,g]=h.useState(""),[v,w]=h.useState(""),[x,b]=h.useState({name:"",phone:"",gender:void 0,notes:""}),[j,T]=h.useState([]),[S,N]=h.useState(!1),E=async M=>{const A=(M||"").replace(/\D/g,"");if(!A||A.length<7){T([]);return}N(!0);try{const H=await a(M);T(H)}catch(H){console.error("Error checking existing signups:",H),T([])}finally{N(!1)}},R=M=>{if(M.preventDefault(),!y.trim()||!v.trim()){d({title:"Missing Information",description:"Please enter your first and last name.",variant:"destructive"});return}if(!x.phone.trim()){d({title:"Missing Information",description:"Please enter your phone number.",variant:"destructive"});return}if(!x.gender){d({title:"Missing Information",description:"Please select your gender (Brother or Sister).",variant:"destructive"});return}const A=`${y} ${v}`.trim();b(H=>({...H,name:A})),m(!0)},P=()=>{m(!1);const M=`${y} ${v}`.trim();o({...x,name:M}).then(A=>{A&&f(!0)})},_=()=>{b({name:"",phone:"",gender:void 0,notes:""}),g(""),w(""),m(!1),f(!1),t()},O=()=>{f(!1),_()};return h.useEffect(()=>{e&&(b({name:"",phone:"",gender:void 0,notes:""}),g(""),w(""))},[e]),p&&r&&n?s.jsx(fr,{open:p,onOpenChange:O,children:s.jsxs(nr,{className:`
          border-2 border-emerald-500/30 bg-navy-800/95 backdrop-blur-lg shadow-2xl
          ${c?"w-[92vw] max-w-[92vw] max-h-[88vh] mx-auto p-5 rounded-3xl":"max-w-lg w-full max-h-[90vh] rounded-2xl p-6"}
        `,children:[s.jsxs(sr,{className:"text-center",children:[s.jsxs(or,{className:"text-emerald-300 text-xl flex items-center justify-center gap-2",children:[s.jsx(dy,{className:"w-6 h-6"}),"Registration Successful!"]}),s.jsxs(ir,{className:"text-emerald-300 mt-4",children:["You've been successfully registered for ",r.role_label,". A confirmation SMS has been sent to your phone."]})]}),s.jsxs("div",{className:"flex flex-col items-center gap-4 mt-6",children:[s.jsx(gg,{event:n,role:r,className:"w-full justify-center",showText:!0}),s.jsx(W,{onClick:O,className:"bg-gold-400 hover:bg-gold-300 text-white w-full",children:"Close"})]})]})}):s.jsxs(s.Fragment,{children:[s.jsx(fr,{open:e,onOpenChange:_,children:s.jsxs(nr,{className:`
          border-2 border-gold-400/30 bg-navy-800/95 backdrop-blur-lg shadow-2xl
          ${c?"w-[92vw] max-w-[92vw] max-h-[88vh] mx-auto p-5 rounded-3xl":"max-w-lg w-full max-h-[90vh] rounded-2xl p-6"}
          overflow-hidden flex flex-col
        `,children:[s.jsxs(sr,{className:"text-left pb-2 flex-shrink-0",children:[s.jsxs(or,{className:"text-foreground text-lg sm:text-xl",children:["Sign Up for ",r==null?void 0:r.role_label]}),s.jsx(ir,{className:"text-gold-300 text-sm",children:"Fill in your information to register for this volunteer role."})]}),s.jsx("div",{className:"flex-1 overflow-y-auto pr-2 -mr-2",children:s.jsxs("form",{onSubmit:R,className:"space-y-4",children:[s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"first-name",className:"text-foreground text-sm font-medium",children:"First Name *"}),s.jsx(he,{id:"first-name",type:"text",placeholder:"First name",value:y,onChange:M=>g(M.target.value),required:!0,className:"border-white/10 focus:border-gold-400/50 text-base rounded-xl"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"last-name",className:"text-foreground text-sm font-medium",children:"Last Name *"}),s.jsx(he,{id:"last-name",type:"text",placeholder:"Last name",value:v,onChange:M=>w(M.target.value),required:!0,className:"border-white/10 focus:border-gold-400/50 text-base rounded-xl"})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"phone",className:"text-foreground text-sm font-medium",children:"Phone Number *"}),s.jsx($a,{id:"phone",value:x.phone,onChange:M=>{b(A=>({...A,phone:M})),setTimeout(()=>E(M),500)},placeholder:"Phone number",className:"border-white/10 focus:border-gold-400/50 text-base rounded-xl"}),s.jsx("div",{className:"text-xs text-gold-400",children:"Used for event reminders and communication"}),S&&s.jsx("div",{className:"text-xs text-gold-400 bg-gold-400/10 p-2 rounded-lg",children:"Checking for existing signups..."}),j.length>0&&!S&&s.jsxs("div",{className:"bg-gold-400/10 border border-gold-400/20 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm font-medium text-gold-300 mb-2",children:"You're already signed up for:"}),s.jsx("div",{className:"space-y-2",children:j.map((M,A)=>s.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-2 border border-white/10",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gold-300",children:M.role.role_label}),s.jsxs("div",{className:"text-xs text-white/60",children:[ct(M.role.shift_start)," - ",ct(M.role.shift_end)]})]}),s.jsx("div",{className:"text-xs text-gold-400 capitalize",children:M.volunteer.gender})]},A))}),s.jsx("div",{className:"text-xs text-white/60 mt-2",children:"You can sign up for additional roles as long as the times don't overlap."})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"gender",className:"text-foreground text-sm font-medium",children:"Gender *"}),s.jsxs(vs,{value:x.gender||void 0,onValueChange:M=>b(A=>({...A,gender:M})),children:[s.jsx(Gn,{className:"border-white/10 text-base rounded-xl",children:s.jsx(xs,{placeholder:"Select gender"})}),s.jsxs(Yn,{children:[(((r==null?void 0:r.slots_brother)||0)>0||((r==null?void 0:r.slots_flexible)||0)>0)&&s.jsx(br,{value:"brother",children:"Brother"}),(((r==null?void 0:r.slots_sister)||0)>0||((r==null?void 0:r.slots_flexible)||0)>0)&&s.jsx(br,{value:"sister",children:"Sister"})]})]}),r&&s.jsx("div",{className:"text-xs text-gold-400 bg-gold-400/10 p-3 rounded-xl border border-white/10",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:gap-4 gap-1",children:[s.jsxs("span",{children:["Brothers: ",i(r,"brother"),"/",r.slots_brother+(r.slots_flexible||0)]}),s.jsxs("span",{children:["Sisters: ",i(r,"sister"),"/",r.slots_sister+(r.slots_flexible||0)]}),(r.slots_flexible||0)>0&&s.jsxs("span",{children:["Flexible: ",r.slots_flexible," (either gender)"]})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"notes",className:"text-foreground text-sm font-medium",children:"Additional Notes (Optional)"}),s.jsx(un,{id:"notes",placeholder:"Any special requirements, questions, or information...",value:x.notes,onChange:M=>b(A=>({...A,notes:M.target.value})),rows:3,className:"border-white/10 focus:border-gold-400/50 text-base resize-none rounded-xl"})]}),r&&s.jsxs("div",{className:"bg-gold-400/10 p-4 rounded-xl border border-white/10",children:[s.jsx("h4",{className:"font-medium mb-2 text-foreground text-sm",children:"Role Details:"}),s.jsxs("div",{className:"text-xs text-gold-300 space-y-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:gap-4",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Time:"})," ",ct(r.shift_start)," - ",ct(r.shift_end)]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Date:"})," ",new Date((n==null?void 0:n.start_datetime)||"").toLocaleDateString()]})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Location:"})," ",n==null?void 0:n.location]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t border-white/10 flex-shrink-0",children:[s.jsx(W,{type:"button",variant:"outline",onClick:_,disabled:l,className:"border-gold-400 text-gold-300 hover:bg-gold-400/10 order-2 sm:order-1 rounded-xl",children:"Cancel"}),s.jsxs(W,{type:"submit",disabled:l,className:"bg-gold-400 hover:bg-gold-300 text-white order-1 sm:order-2 rounded-xl shadow-lg",children:[s.jsx(dy,{className:"w-4 h-4 mr-2"}),"Sign Me Up!"]})]})]})}),c&&s.jsx("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 animate-bounce",children:s.jsx(Hr,{className:"w-5 h-5 text-white/30"})})]})}),r&&n&&s.jsx(v9,{isOpen:u,onClose:()=>m(!1),onConfirm:P,role:r,event:n,volunteerData:{...x,name:`${y} ${v}`.trim()}})]})},j9=()=>s.jsx("div",{className:"min-h-screen bg-white/5 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-gold-500 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-gold-300",children:"Loading event details..."})]})}),N9=({eventId:e})=>s.jsx("div",{className:"min-h-screen bg-white/5 flex items-center justify-center p-4",children:s.jsx(Te,{className:"w-full max-w-md",children:s.jsxs(Ie,{className:"p-6 text-center",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2 text-foreground",children:"Event Not Found"}),s.jsx("div",{className:"text-gold-400 text-sm mb-2",children:"The event you're looking for doesn't exist, isn't published yet, or has been removed."}),s.jsxs("div",{className:"text-xs text-white/40 mb-4 break-all",children:["Event ID: ",e]}),s.jsx("div",{className:"text-xs text-white/30",children:"Only published events are available for volunteer signup."})]})})}),_9=({event:e})=>(h.useEffect(()=>{if(!e)return;const t=f=>new Date(f).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),r=f=>new Date(f).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),n=f=>gc(f);document.title=`Volunteer for ${e.title}`;const o=f=>{document.querySelectorAll(f).forEach(g=>g.remove())};o('meta[property^="og:"]'),o('meta[name^="twitter:"]'),o('meta[name="description"]');const i=(f,y)=>{const g=document.createElement("meta");f.startsWith("og:")||f.startsWith("twitter:")?g.setAttribute("property",f):g.setAttribute("name",f),g.setAttribute("content",y),document.head.appendChild(g)},a=r(e.start_datetime),l=n(e.start_datetime),c=t(e.start_datetime),d=e.description?e.description.length>100?`${e.description.substring(0,100)}...`:e.description:`Join us as a volunteer and help make ${e.title} a success!`,u=`Volunteer Signup: ${e.title}
 ${a} at ${l}
 ${e.location||"Location TBA"}

Sign up now to volunteer!`;i("description",u),i("og:title",`Volunteer Signup: ${e.title}`),i("og:description",` ${c}
 ${e.location||"Location TBA"}

${d}

 Sign up now to volunteer and be part of something amazing!`),i("og:type","website"),i("og:url",window.location.href),i("og:site_name","UMMA Event Volunteers"),i("og:locale","en_US"),i("og:image","https://via.placeholder.com/1200x630/9B9A6D/FFFFFF?text=Volunteer+Signup"),i("og:image:width","1200"),i("og:image:height","630"),i("og:image:alt",`Volunteer signup for ${e.title}`),i("twitter:card","summary_large_image"),i("twitter:title",`Volunteer for ${e.title}`),i("twitter:description",` ${a} at ${l}
 ${e.location||"Location TBA"}

${d}

Sign up to volunteer today!`),i("twitter:site","@umma"),i("twitter:creator","@umma"),i("twitter:image","https://via.placeholder.com/1200x630/9B9A6D/FFFFFF?text=Volunteer+Signup"),i("article:section","Volunteer Opportunities"),i("article:tag","volunteer,community,event,signup,umma"),i("event:start_time",e.start_datetime),i("event:location:latitude",""),i("event:location:longitude","");const m=document.querySelector('link[rel="canonical"]');m&&m.remove();const p=document.createElement("link");return p.setAttribute("rel","canonical"),p.setAttribute("href",window.location.href),document.head.appendChild(p),()=>{document.title="UMMA Event Management"}},[e]),null),fT=()=>"visitor_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),Yh=()=>{const e=localStorage.getItem("analytics_visitor_id");if(e)return e;const t=fT();return localStorage.setItem("analytics_visitor_id",t),t},Kh=e=>{const t=e.toLowerCase();return t.includes("tablet")||t.includes("ipad")?"tablet":t.includes("mobile")||t.includes("android")||t.includes("iphone")?"mobile":"desktop"},Qh=e=>{const t=e.toLowerCase();return t.includes("chrome")?"Chrome":t.includes("firefox")?"Firefox":t.includes("safari")?"Safari":t.includes("edge")?"Edge":t.includes("opera")?"Opera":"Unknown"},Jh=e=>{const t=e.toLowerCase();return t.includes("windows")?"Windows":t.includes("mac")?"macOS":t.includes("linux")?"Linux":t.includes("android")?"Android":t.includes("ios")||t.includes("iphone")||t.includes("ipad")?"iOS":"Unknown"},Xh=async e=>{try{const{data:t,error:r}=await K.rpc("track_analytics",{p_event_id:e.eventId,p_tracking_type:e.trackingType,p_visitor_id:e.visitorId,p_user_agent:e.userAgent,p_ip_address:e.ipAddress,p_referrer:e.referrer,p_utm_source:e.utmSource,p_utm_medium:e.utmMedium,p_utm_campaign:e.utmCampaign,p_device_type:e.deviceType,p_browser:e.browser,p_os:e.os,p_country:e.country,p_city:e.city});return r?(console.error("Error tracking analytics:",r),!1):!0}catch(t){return console.error("Error tracking analytics:",t),!1}},mT=async e=>{const t=Yh(),r=navigator.userAgent;return Xh({eventId:e,trackingType:"page_view",visitorId:t,userAgent:r,deviceType:Kh(r),browser:Qh(r),os:Jh(r),referrer:document.referrer||void 0})},S9=async e=>{const t=Yh(),r=navigator.userAgent;return Xh({eventId:e,trackingType:"qr_scan",visitorId:t,userAgent:r,deviceType:Kh(r),browser:Qh(r),os:Jh(r)})},pT=async e=>{const t=Yh(),r=navigator.userAgent;return Xh({eventId:e,trackingType:"human_click",visitorId:t,userAgent:r,deviceType:Kh(r),browser:Qh(r),os:Jh(r)})},gT=e=>{try{const t=new URL(e);return{source:t.searchParams.get("utm_source")||void 0,medium:t.searchParams.get("utm_medium")||void 0,campaign:t.searchParams.get("utm_campaign")||void 0}}catch{return{}}},C9=(e,t)=>{const r=new URL(e);return r.searchParams.set("utm_source","qr_code"),r.searchParams.set("utm_medium","qr"),r.searchParams.set("utm_campaign","event_signup"),r.toString()},E9=(e,t,r="direct",n="link",o)=>{const i=new URL(e);return i.searchParams.set("utm_source",r),i.searchParams.set("utm_medium",n),o&&i.searchParams.set("utm_campaign",o),i.toString()},vT=Object.freeze(Object.defineProperty({__proto__:null,detectBrowser:Qh,detectDeviceType:Kh,detectOS:Jh,generateQRCodeUrl:C9,generateShareableLink:E9,generateVisitorId:fT,getVisitorId:Yh,parseUTMParams:gT,trackAnalytics:Xh,trackHumanClick:pT,trackPageView:mT,trackQRScan:S9},Symbol.toStringTag,{value:"Module"})),k9=()=>{var Rn,Br,rs;Mc();const{toast:e}=Xt(),{event:t,loading:r,eventSlug:n,isModalOpen:o,setIsModalOpen:i,selectedRole:a,isSubmitting:l,getVolunteersForRole:c,getRemainingSlots:d,getExistingSignups:u,openSignupModal:m,handleSignupSubmit:p,updateLocalVolunteers:f}=g9(),[y,g]=h.useState(""),[v,w]=h.useState("time"),[x,b]=h.useState("all"),[j,T]=h.useState("list"),[S,N]=h.useState(new Set),[E,R]=h.useState(!1);h.useEffect(()=>{const Z=localStorage.getItem("volunteer-signup-view-mode");(Z==="list"||Z==="cards")&&T(Z)},[]),h.useEffect(()=>{t!=null&&t.id&&(mT(t.id),gT(window.location.href).source==="qr_code"&&CC(async()=>{const{trackQRScan:ce}=await Promise.resolve().then(()=>vT);return{trackQRScan:ce}},void 0).then(({trackQRScan:ce})=>{ce(t.id)}))},[t==null?void 0:t.id]);const P=Z=>{T(Z),localStorage.setItem("volunteer-signup-view-mode",Z)},_=Z=>{t!=null&&t.id&&pT(t.id),m(Z)},[O,M]=h.useState({isOpen:!1,volunteerId:null,volunteerName:"",roleName:""}),[A,H]=h.useState({isOpen:!1,volunteerId:null,volunteerName:"",roleName:"",volunteerPhone:""}),[q,I]=h.useState(""),[D,$]=h.useState(!1),[Y,C]=h.useState(!1),[k,L]=h.useState(""),{deleteVolunteer:z}=T2(),[G,X]=h.useState(null),Q=Z=>{const ce=(Z||"").replace(/[^\d+]/g,"");return ce.startsWith("+")?ce:/^1\d{10}$/.test(ce)?`+${ce}`:/^\d{10}$/.test(ce)?`+1${ce}`:ce?`+${ce}`:""},ue=Z=>{console.log(`[SIGNUP] Updating local state to remove volunteer ${Z}`),f(Z)},fe=(Z,ce,De)=>{var Me;const Be=(Me=t==null?void 0:t.volunteer_roles)==null?void 0:Me.flatMap(It=>c(It.id)).find(It=>It.id===Z);Be&&H({isOpen:!0,volunteerId:Z,volunteerName:ce,roleName:De,volunteerPhone:Be.phone})},_e=async()=>{const Z=Q(q),ce=Q(A.volunteerPhone||"");Z&&Z===ce?(console.log("Phone verification successful, storing values:",{phoneVerification:Z,volunteerPhone:ce}),A.volunteerId&&M({isOpen:!0,volunteerId:A.volunteerId,volunteerName:A.volunteerName,roleName:A.roleName,phoneVerification:Z,volunteerPhone:ce}),H({isOpen:!1,volunteerId:null,volunteerName:"",roleName:"",volunteerPhone:""}),I("")):e({title:"Incorrect Phone Number",description:"Please enter the correct phone number to confirm deletion.",variant:"destructive"})},B=()=>{k==="admin123"?(H({isOpen:!1,volunteerId:null,volunteerName:"",roleName:"",volunteerPhone:""}),I(""),X(k),L(""),C(!1),A.volunteerId&&M({isOpen:!0,volunteerId:A.volunteerId,volunteerName:A.volunteerName,roleName:A.roleName,phoneVerification:q,volunteerPhone:A.volunteerPhone})):e({title:"Incorrect Admin Password",description:"Please enter the correct admin password.",variant:"destructive"})},Ne=async()=>{if(O.volunteerId){$(!0);try{let Z=!1;if(G?(console.log("Admin deletion path:",{volunteerId:O.volunteerId,volunteerName:O.volunteerName,adminPassword:G}),Z=await z(O.volunteerId,O.volunteerName,G)):(console.log("Phone verification deletion path:",{volunteerId:O.volunteerId,volunteerName:O.volunteerName,phoneVerification:O.phoneVerification,volunteerPhone:O.volunteerPhone}),Z=await z(O.volunteerId,O.volunteerName,void 0,O.phoneVerification,O.volunteerPhone)),!Z)throw new Error("Deletion failed");ue(O.volunteerId),e({title:"Volunteer Removed",description:`${O.volunteerName} has been removed from ${O.roleName}.`})}catch(Z){console.error("Error deleting volunteer:",Z),e({title:"Error",description:"Failed to remove volunteer. Please try again.",variant:"destructive"})}finally{$(!1),X(null),M({isOpen:!1,volunteerId:null,volunteerName:"",roleName:"",phoneVerification:void 0,volunteerPhone:void 0})}}},Ze=h.useMemo(()=>{let Z=[...(t==null?void 0:t.volunteer_roles)||[]];if(y.trim()&&(Z=Z.filter(ce=>{var De;return ce.role_label.toLowerCase().includes(y.toLowerCase())||((De=ce.notes)==null?void 0:De.toLowerCase().includes(y.toLowerCase()))})),x!=="all"&&t){const ce=new Date(t.start_datetime),De=new Date(t.end_datetime),Be=ce.getHours()*60+ce.getMinutes(),Me=De.getHours()*60+De.getMinutes();Z=Z.filter(It=>{const[Qe,jt]=(It.shift_start||"00:00").split(":").map(Number),[be,at]=(It.shift_end||"23:59").split(":").map(Number),vt=Qe*60+jt,F=be*60+at;switch(x){case"before":return F<Be;case"during":return vt<Me&&F>Be;case"after":return vt>Me;default:return!0}})}return Z.sort((ce,De)=>{const Be=d(ce),Me=d(De);switch(v){case"spots":if(Be!==Me)return Me-Be;break;case"time":return(ce.shift_start||"").localeCompare(De.shift_start||"");case"newest":return new Date(De.created_at||"").getTime()-new Date(ce.created_at||"").getTime()}return ce.id.localeCompare(De.id)}),Z},[t,y,v,x,d]),it=(Z,ce)=>{const De=Z.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),Be=ce.slice(-4);return`${De}-${Be}`},_r=()=>{const Z=it(t.title,t.id),ce=`${window.location.origin}/${Z}`;navigator.clipboard.writeText(ce).then(()=>{e({title:"Link Copied! ",description:`Copied link for: ${t.title}`})})},Ut=async()=>{const Z=it(t.title,t.id),ce=`${window.location.origin}/${Z}`;if(navigator.share)try{await navigator.share({title:"Volunteer Signup",text:"Sign up to volunteer for this event!",url:ce})}catch(De){console.log("Error sharing:",De)}else _r()},He=Z=>{const ce=new Set(S);ce.has(Z)?ce.delete(Z):ce.add(Z),N(ce)},Zt=()=>{g(""),w("time"),b("all")};if(r)return s.jsx(j9,{});if(!t)return s.jsx(N9,{eventId:n});const Ht=((Rn=t.volunteer_roles)==null?void 0:Rn.length)||0,gn=((Br=t.volunteer_roles)==null?void 0:Br.reduce((Z,ce)=>{const De=c(ce.id);return Z+De.length},0))||0,ar=((rs=t.volunteer_roles)==null?void 0:rs.reduce((Z,ce)=>Z+(ce.slots_brother||0)+(ce.slots_sister||0)+(ce.slots_flexible||0),0))||0;return s.jsxs(s.Fragment,{children:[s.jsx(_9,{event:t}),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"bg-navy-800/60 backdrop-blur-xl border-b border-white/10 sticky top-0 z-40",children:s.jsx("div",{className:"container mx-auto px-4 py-3",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("div",{})})})}),s.jsx("div",{className:"bg-navy-800/60 backdrop-blur-xl border-b border-white/10",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsxs("div",{className:"md:hidden space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gold-400 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",children:s.jsx(Dt,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h1",{className:"text-lg font-bold text-foreground leading-tight",children:t.title}),t.is_public===!1&&s.jsx(ve,{variant:"outline",className:"text-xs bg-amber-500/15 text-amber-300 border-amber-500/20",children:"Private"})]}),s.jsxs("div",{className:"space-y-1 text-white/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"w-3 h-3 flex-shrink-0"}),s.jsxs("span",{className:"text-sm font-medium",children:[rg(t.start_datetime)," at ",gc(t.start_datetime)]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(qn,{className:"w-3 h-3 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm font-medium leading-tight",children:t.location})]})]})]}),s.jsx(W,{variant:"ghost",size:"sm",onClick:()=>R(!E),className:"text-white/30 hover:text-white/50 p-2 h-8 w-8 flex-shrink-0",children:E?s.jsx(Yo,{className:"w-4 h-4"}):s.jsx(Hr,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"bg-background rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gold-400",children:Ht}),s.jsx("div",{className:"text-sm text-white/50 font-medium",children:"Roles"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gold-400",children:gn}),s.jsx("div",{className:"text-sm text-white/50 font-medium",children:"Volunteers"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gold-400",children:ar-gn}),s.jsx("div",{className:"text-sm text-white/50 font-medium",children:"Open Spots"})]})]})}),E&&s.jsxs("div",{className:"space-y-4 bg-background rounded-lg p-4 animate-in slide-in-from-top-2 duration-200",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(W,{variant:"outline",size:"sm",onClick:_r,className:"flex-1 border-white/15 focus:border-gold-400 focus:ring-gold-400/20 text-white/50 hover:text-gold-300 hover:bg-white/5 h-10",children:[s.jsx(na,{className:"w-4 h-4 mr-2"}),"Copy Link"]}),s.jsxs(W,{variant:"outline",size:"sm",onClick:Ut,className:"flex-1 border-white/15 focus:border-gold-400 focus:ring-gold-400/20 text-white/50 hover:text-gold-300 hover:bg-white/5 h-10",children:[s.jsx(gy,{className:"w-4 h-4 mr-2"}),"Share"]}),s.jsx(gg,{event:t,role:null,className:"text-white/50 hover:text-gold-300 hover:bg-white/10 h-10 px-3"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/30"}),s.jsx(he,{placeholder:"Search roles...",value:y,onChange:Z=>g(Z.target.value),className:"pl-10 border-white/15 focus:border-gold-400 focus:ring-gold-400/20 h-11 text-left placeholder:text-gold-400/70",autoComplete:"off"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx(re,{className:"text-sm font-medium text-white/70 whitespace-nowrap",children:"Sort:"}),s.jsx("div",{className:"flex-1",children:s.jsx(eo,{options:[{value:"time",label:"Time"},{value:"spots",label:"Spots Left"},{value:"newest",label:"Newest"}],value:v,onChange:Z=>w(Z),placeholder:"Sort by"})})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-white/10 rounded-lg p-1",title:"View preference is saved in your browser",children:[s.jsx(W,{variant:j==="list"?"default":"ghost",size:"sm",onClick:()=>P("list"),className:`h-8 px-3 ${j==="list"?"bg-gold-400 text-white shadow-sm":"text-white/50 hover:text-gold-300 hover:bg-white/5"}`,children:s.jsx(my,{className:"w-4 h-4"})}),s.jsx(W,{variant:j==="cards"?"default":"ghost",size:"sm",onClick:()=>P("cards"),className:`h-8 px-3 ${j==="cards"?"bg-gold-400 text-white shadow-sm":"text-white/50 hover:text-gold-300 hover:bg-white/5"}`,children:s.jsx(hy,{className:"w-4 h-4"})})]})]})]})]}),s.jsxs("div",{className:"hidden md:flex items-start justify-between",children:[s.jsx("div",{className:"max-w-2xl",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gold-400 rounded-2xl flex items-center justify-center shadow-lg flex-shrink-0",children:s.jsx(Dt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground tracking-tight",children:t.title}),t.is_public===!1&&s.jsx(ve,{variant:"outline",className:"text-sm bg-amber-500/15 text-amber-300 border-amber-500/20",children:"Private"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-2 mb-3 text-white/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm md:text-base font-medium",children:[rg(t.start_datetime)," at ",gc(t.start_datetime)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qn,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm md:text-base font-medium",children:t.location})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 max-w-sm",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-xl font-bold text-gold-400",children:Ht}),s.jsx("div",{className:"text-xs text-white/50",children:"Roles"})]}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-xl font-bold text-gold-400",children:gn}),s.jsx("div",{className:"text-xs text-white/50",children:"Volunteers"})]}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-xl font-bold text-gold-400",children:ar-gn}),s.jsx("div",{className:"text-xs text-white/50",children:"Open Spots"})]})]})]})]})}),s.jsxs("div",{className:"flex flex-col items-start gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(W,{variant:"outline",size:"sm",onClick:_r,className:"border-white/15 focus:border-gold-400 focus:ring-gold-400/20 text-white/50 hover:text-gold-300 hover:bg-white/5",children:[s.jsx(na,{className:"w-4 h-4 mr-2"}),"Copy Link"]}),s.jsxs(W,{variant:"outline",size:"sm",onClick:Ut,className:"border-white/15 focus:border-gold-400 focus:ring-gold-400/20 text-white/50 hover:text-gold-300 hover:bg-white/5",children:[s.jsx(gy,{className:"w-4 h-4 mr-2"}),"Share"]}),s.jsx(gg,{event:t,role:null,className:"text-white/50 hover:text-gold-300 hover:bg-white/10"})]}),s.jsxs("div",{className:"relative w-80",children:[s.jsx(Ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/30"}),s.jsx(he,{placeholder:"Search roles...",value:y,onChange:Z=>g(Z.target.value),className:"pl-10 border-white/15 focus:border-gold-400 focus:ring-gold-400/20 h-10 text-left placeholder:text-gold-400/70",autoComplete:"off"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{className:"text-sm font-medium text-white/70 whitespace-nowrap",children:"Sort:"}),s.jsx("div",{className:"w-44",children:s.jsx(eo,{options:[{value:"time",label:"Time"},{value:"spots",label:"Spots Left"},{value:"newest",label:"Newest"}],value:v,onChange:Z=>w(Z),placeholder:"Sort by"})})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-white/10 rounded-lg p-1",title:"View preference is saved in your browser",children:[s.jsxs(W,{variant:j==="list"?"default":"ghost",size:"sm",onClick:()=>P("list"),className:`h-8 px-3 ${j==="list"?"bg-gold-400 text-white shadow-sm":"text-white/50 hover:text-gold-300 hover:bg-white/5"}`,children:[s.jsx(my,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"hidden xs:inline text-xs",children:"List"})]}),s.jsxs(W,{variant:j==="cards"?"default":"ghost",size:"sm",onClick:()=>P("cards"),className:`h-8 px-3 ${j==="cards"?"bg-gold-400 text-white shadow-sm":"text-white/50 hover:text-gold-300 hover:bg-white/5"}`,children:[s.jsx(hy,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"hidden xs:inline text-xs",children:"Cards"})]})]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto px-4 py-6 md:py-8",children:[j==="list"?s.jsxs("div",{className:"bg-white/5 rounded-xl shadow-sm border border-white/10 overflow-hidden",children:[s.jsxs("div",{className:"hidden md:grid md:grid-cols-12 gap-4 px-6 py-3 bg-background border-b border-white/10 text-xs font-medium text-white/40 uppercase tracking-wider",children:[s.jsx("div",{className:"col-span-2",children:"Time"}),s.jsx("div",{className:"col-span-3",children:"Role"}),s.jsx("div",{className:"col-span-2",children:"Point of Contact"}),s.jsx("div",{className:"col-span-2",children:"Spots"}),s.jsx("div",{className:"col-span-2",children:"Status"}),s.jsx("div",{className:"col-span-1",children:"Action"})]}),s.jsx("div",{className:"divide-y divide-white/5",children:Ze.map((Z,ce)=>{const De=c(Z.id),Be=(Z.slots_brother||0)+(Z.slots_sister||0)+(Z.slots_flexible||0),Me=d(Z),It=S.has(Z.id),Qe=De.filter(be=>be.gender==="brother").length,jt=De.filter(be=>be.gender==="sister").length;return s.jsxs("div",{className:`group hover:bg-white/5 transition-colors ${ce%2===0?"bg-white/5":"bg-background/30"}`,children:[s.jsxs("div",{className:"hidden md:grid md:grid-cols-12 gap-4 px-6 py-4 items-center",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[s.jsx(wr,{className:"w-4 h-4 text-white/30"}),s.jsx("span",{children:ct(Z.shift_start)})]}),s.jsx("div",{className:"text-xs text-white/40 mt-1",children:ct(Z.shift_end)})]}),s.jsx("div",{className:"col-span-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground text-sm mb-1",children:Z.role_label}),Z.notes&&s.jsx("p",{className:"text-xs text-white/40 line-clamp-1",children:Z.notes})]}),s.jsx(W,{variant:"ghost",size:"sm",onClick:()=>He(Z.id),className:"text-white/30 hover:text-white/50 p-1 h-6 w-6 rounded-full border",style:{borderColor:"var(--gold-400, #d4a843)"},children:It?s.jsx(Yo,{className:"w-4 h-4"}):s.jsx(Hr,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"col-span-2",children:Z.poc_contacts&&Z.poc_contacts.length>0?s.jsx("div",{className:"flex flex-wrap gap-1",children:Z.poc_contacts.map((be,at)=>s.jsxs(ve,{variant:"outline",className:"text-xs bg-purple-500/15 text-purple-300 border-purple-500/20 cursor-pointer hover:bg-purple-500/20 transition-colors px-2 py-1",onClick:()=>{be.phone&&(navigator.clipboard.writeText(be.phone),e({title:"Phone number copied!",description:`${be.name}'s phone number copied to clipboard`}))},title:be.phone?`Click to copy ${be.name}'s phone number`:`${be.name} - No phone number`,children:[s.jsx(At,{className:"w-3 h-3 mr-1"}),be.name]},be.id))}):s.jsx("span",{className:"text-xs text-white/30",children:"No POC assigned"})}),s.jsxs("div",{className:"col-span-2",children:[s.jsxs("div",{className:"text-sm font-medium text-foreground",children:[Be-Me," / ",Be]}),s.jsx("div",{className:"w-full bg-white/15 rounded-full h-1.5 mt-1 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-gold-400 to-gold-300 h-1.5 rounded-full transition-all duration-500 ease-out",style:{width:`${Be>0?(Be-Me)/Be*100:0}%`}})})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(ve,{variant:Me>0?"default":"secondary",className:`text-xs font-semibold px-2.5 py-1 ${Me>0?"bg-emerald-500/15 text-emerald-300 border-emerald-500/20 shadow-sm":"bg-white/10 text-foreground border-white/10"}`,children:Me>0?`${Me} spots left`:"Full"}),s.jsx("div",{className:"flex gap-1 mt-2",children:(()=>{const be=Math.max(0,(Z.slots_brother||0)-Qe),at=Math.max(0,(Z.slots_sister||0)-jt),vt=(Z.slots_brother||0)+(Z.slots_sister||0),F=Qe+jt,J=Math.max(0,F-vt),oe=Math.max(0,(Z.slots_flexible||0)-J);return s.jsxs(s.Fragment,{children:[be>0&&s.jsxs(ve,{variant:"outline",className:"text-xs bg-blue-500/10 text-blue-300 border-blue-500/20 px-1.5 py-0.5 h-5",children:[s.jsxs("span",{className:"hidden xl:inline",children:[be," Brother",be!==1?"s":""]}),s.jsxs("span",{className:"xl:hidden",children:[be,"B"]})]}),at>0&&s.jsxs(ve,{variant:"outline",className:"text-xs bg-pink-500/15 text-pink-300 border-pink-500/20 px-1.5 py-0.5 h-5",children:[s.jsxs("span",{className:"hidden xl:inline",children:[at," Sister",at!==1?"s":""]}),s.jsxs("span",{className:"xl:hidden",children:[at,"S"]})]}),oe>0&&s.jsxs(ve,{variant:"outline",className:"text-xs bg-teal-500/15 text-teal-300 border-teal-500/20 px-1.5 py-0.5 h-5",children:[s.jsxs("span",{className:"hidden xl:inline",children:[oe," Flexible"]}),s.jsxs("span",{className:"xl:hidden",children:[oe,"F"]})]})]})})()})]}),s.jsx("div",{className:"col-span-1",children:s.jsx(W,{onClick:()=>_(Z),disabled:Me<=0,size:"sm",className:`w-full ${Me>0?"bg-gold-400 hover:bg-gold-300 text-white":"bg-white/10 text-white/30 cursor-not-allowed"}`,children:Me>0?"Sign Up":"Full"})})]}),s.jsxs("div",{className:"md:hidden p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground text-base mb-2",children:Z.role_label}),Z.poc_contacts&&Z.poc_contacts.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2",children:Z.poc_contacts.map((be,at)=>s.jsxs(ve,{variant:"outline",className:"text-[10px] bg-purple-500/15 text-purple-300 border-purple-500/20 cursor-pointer hover:bg-purple-500/20 transition-colors px-1.5 py-0.5",onClick:()=>{be.phone&&(navigator.clipboard.writeText(be.phone),e({title:"Phone number copied!",description:`${be.name}'s phone number copied to clipboard`}))},title:be.phone?`Click to copy ${be.name}'s phone number`:`${be.name} - No phone number`,children:[s.jsx(At,{className:"w-2.5 h-2.5 mr-0.5"}),s.jsxs("span",{children:["Point of Contact: ",be.name]})]},be.id))}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/50",children:[s.jsx(wr,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-medium",children:[ct(Z.shift_start)," - ",ct(Z.shift_end)]})]})]}),s.jsx(W,{variant:"ghost",size:"sm",onClick:()=>He(Z.id),className:"text-white/30 hover:text-white/50 p-2 h-8 w-8 rounded-full border",style:{borderColor:"var(--gold-400, #d4a843)"},children:It?s.jsx(Yo,{className:"w-4 h-4"}):s.jsx(Hr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{variant:Me>0?"default":"secondary",className:`text-sm font-semibold px-3 py-1 ${Me>0?"bg-emerald-500/15 text-emerald-300 border-emerald-500/20":"bg-white/10 text-foreground border-white/10"}`,children:Me>0?`${Me} spots left`:"Full"}),s.jsxs("span",{className:"text-sm text-white/40",children:[Be-Me," / ",Be," filled"]})]}),s.jsx(W,{onClick:()=>_(Z),disabled:Me<=0,size:"sm",className:`h-10 px-4 ${Me>0?"bg-gold-400 hover:bg-gold-300 text-white":"bg-white/10 text-white/30 cursor-not-allowed"}`,children:Me>0?"Sign Up":"Full"})]}),s.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:(()=>{const be=Math.max(0,(Z.slots_brother||0)-Qe),at=Math.max(0,(Z.slots_sister||0)-jt),vt=(Z.slots_brother||0)+(Z.slots_sister||0),F=Qe+jt,J=Math.max(0,F-vt),oe=Math.max(0,(Z.slots_flexible||0)-J);return s.jsxs(s.Fragment,{children:[be>0&&s.jsxs(ve,{variant:"outline",className:"text-xs bg-blue-500/10 text-blue-300 border-blue-500/20 px-1.5 py-0.5",children:[be," Brother",be!==1?"s":""]}),at>0&&s.jsxs(ve,{variant:"outline",className:"text-xs bg-pink-500/15 text-pink-300 border-pink-500/20 px-1.5 py-0.5",children:[at," Sister",at!==1?"s":""]}),oe>0&&s.jsxs(ve,{variant:"outline",className:"text-xs bg-teal-500/15 text-teal-300 border-teal-500/20 px-1.5 py-0.5",children:[oe," Flexible"]})]})})()})]}),It&&s.jsx("div",{className:"px-6 py-4 bg-background border-t border-white/5 animate-in slide-in-from-top-2 duration-200",children:s.jsxs("div",{className:"space-y-4",children:[Z.notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground text-sm mb-2",children:"Description"}),s.jsx("p",{className:"text-white/50 text-sm",children:Z.notes})]}),De.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground text-sm mb-2",children:"Current Volunteers"}),s.jsx("div",{className:"space-y-2",children:De.map((be,at)=>s.jsxs("div",{className:"flex items-center justify-between bg-white/5 border border-white/10 rounded-lg p-3 cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>{navigator.clipboard.writeText(be.phone),e({title:"Phone number copied!",description:`${be.name}'s phone number copied to clipboard`})},title:`Click to copy ${be.name}'s phone number`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gold-400 rounded-full flex items-center justify-center text-white text-sm font-medium",children:be.name.charAt(0)}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium text-foreground text-sm",children:[be.name,s.jsxs("span",{className:"text-xs text-white/40 ml-2",children:[" ",be.phone]})]}),s.jsx("div",{className:"text-xs text-white/50 capitalize",children:be.gender})]})]}),s.jsx(W,{variant:"ghost",size:"sm",onClick:vt=>{vt.stopPropagation(),fe(be.id,be.name,Z.role_label)},className:"text-red-400 hover:text-red-300 hover:bg-red-500/10 h-8 px-2",title:"Remove volunteer from this role",children:s.jsx(_p,{className:"w-4 h-4"})})]},be.id))})]})]})})]},Z.id)})})]}):s.jsx("div",{className:"grid gap-4 md:gap-6 md:grid-cols-2 lg:grid-cols-3",children:Ze.map(Z=>{const ce=c(Z.id),De=(Z.slots_brother||0)+(Z.slots_sister||0)+(Z.slots_flexible||0),Be=d(Z),Me=S.has(Z.id),It=De>0?(De-Be)/De*100:0;return s.jsxs(Te,{className:"border-0 shadow-sm hover:shadow-md transition-all duration-200 hover:-translate-y-1",children:[s.jsx(Lt,{className:"pb-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Ft,{className:"text-lg font-semibold text-foreground mb-1",children:Z.role_label}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/50",children:[s.jsx(wr,{className:"w-4 h-4"}),s.jsxs("span",{children:[ct(Z.shift_start)," - ",ct(Z.shift_end)]})]})]}),s.jsx(W,{variant:"ghost",size:"sm",onClick:()=>He(Z.id),className:"text-white/30 hover:text-white/50 rounded-full border h-8 w-8 p-0 flex items-center justify-center",style:{borderColor:"var(--gold-400, #d4a843)"},children:Me?s.jsx(Yo,{className:"w-4 h-4"}):s.jsx(Hr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-white/50",children:[De-Be," / ",De," filled"]}),s.jsx(ve,{variant:Be>0?"default":"secondary",className:`text-xs ${Be>0?"bg-emerald-500/15 text-emerald-300 border-emerald-500/20":"bg-white/10 text-foreground border-white/10"}`,children:Be>0?`${Be} spots left`:"Full"})]}),s.jsx("div",{className:"w-full bg-white/15 rounded-full h-2",children:s.jsx("div",{className:"bg-gold-400 h-2 rounded-full transition-all duration-300",style:{width:`${It}%`}})}),s.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-white/50",children:(()=>{const Qe=ce.filter(de=>de.gender==="brother").length,jt=ce.filter(de=>de.gender==="sister").length,be=Math.max(0,(Z.slots_brother||0)-Qe),at=Math.max(0,(Z.slots_sister||0)-jt),vt=(Z.slots_brother||0)+(Z.slots_sister||0),F=Qe+jt,J=Math.max(0,F-vt),oe=Math.max(0,(Z.slots_flexible||0)-J);return s.jsxs(s.Fragment,{children:[be>0&&s.jsxs(ve,{variant:"outline",className:"bg-blue-500/10 text-blue-300 border-blue-500/20",children:[be," Brother",be!==1?"s":""]}),at>0&&s.jsxs(ve,{variant:"outline",className:"bg-pink-500/15 text-pink-300 border-pink-500/20",children:[at," Sister",at!==1?"s":""]}),oe>0&&s.jsxs(ve,{variant:"outline",className:"bg-teal-500/15 text-teal-300 border-teal-500/20",children:[oe," Brother or Sister"]})]})})()})]}),Z.notes&&s.jsxs("div",{className:"mt-3",children:[s.jsx("h4",{className:"font-medium text-foreground text-sm mb-2",children:"Description"}),s.jsx("p",{className:"text-white/50 text-sm",children:Z.notes})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Z.poc_contacts&&Z.poc_contacts.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1.5",children:Z.poc_contacts.map((Qe,jt)=>s.jsxs(ve,{variant:"outline",className:"text-[10px] bg-purple-500/15 text-purple-300 border-purple-500/20 cursor-pointer hover:bg-purple-500/20 transition-colors px-1.5 py-0.5",onClick:()=>{Qe.phone&&(navigator.clipboard.writeText(Qe.phone),e({title:"Phone number copied!",description:`${Qe.name}'s phone number copied to clipboard`}))},title:Qe.phone?`Click to copy ${Qe.name}'s phone number`:`${Qe.name} - No phone number`,children:[s.jsx(At,{className:"w-2.5 h-2.5 mr-0.5"}),s.jsxs("span",{children:["Point of Contact: ",Qe.name]})]},Qe.id))})})]})}),Me&&s.jsx(Ie,{className:"pt-0 border-t border-white/5",children:s.jsxs("div",{className:"space-y-4",children:[ce.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground text-sm mb-2",children:"Current Volunteers"}),s.jsx("div",{className:"space-y-2",children:ce.map((Qe,jt)=>s.jsxs("div",{className:"flex items-center justify-between bg-white/10 rounded-lg p-3 cursor-pointer hover:bg-white/15 transition-colors",onClick:()=>{navigator.clipboard.writeText(Qe.phone),e({title:"Phone number copied!",description:`${Qe.name}'s phone number copied to clipboard`})},title:`Click to copy ${Qe.name}'s phone number`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gold-400 rounded-full flex items-center justify-center text-white text-sm font-medium",children:Qe.name.charAt(0)}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium text-foreground text-sm",children:[Qe.name,s.jsxs("span",{className:"text-xs text-white/40 ml-2",children:[" ",Qe.phone]})]}),s.jsx("div",{className:"text-xs text-white/50 capitalize",children:Qe.gender})]})]}),s.jsx(W,{variant:"ghost",size:"sm",onClick:be=>{be.stopPropagation(),fe(Qe.id,Qe.name,Z.role_label)},className:"text-red-400 hover:text-red-300 hover:bg-red-500/10 h-8 px-2",title:"Remove volunteer from this role",children:s.jsx(_p,{className:"w-4 h-4"})})]},Qe.id))})]}),s.jsx("div",{className:"pt-2",children:s.jsx(W,{onClick:()=>_(Z),disabled:Be<=0,className:`w-full ${Be>0?"bg-gold-400 hover:bg-gold-300 text-white":"bg-white/10 text-white/30 cursor-not-allowed"}`,children:Be>0?s.jsxs(s.Fragment,{children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),"Sign Up"]}):s.jsxs(s.Fragment,{children:[s.jsx(di,{className:"w-4 h-4 mr-2"}),"Role Full"]})})})]})}),!Me&&s.jsxs(Ie,{className:"pt-0",children:[ce.length>0&&s.jsx("div",{className:"mb-3 p-3 bg-background rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-white/50",children:[ce.length," volunteer",ce.length!==1?"s":""," signed up"]}),s.jsx(W,{variant:"ghost",size:"sm",onClick:()=>He(Z.id),className:"text-white/40 hover:text-white/70 text-xs",children:"View Details"})]})}),s.jsx(W,{onClick:()=>_(Z),disabled:Be<=0,className:`w-full ${Be>0?"bg-gold-400 hover:bg-gold-300 text-white":"bg-white/10 text-white/30 cursor-not-allowed"}`,children:Be>0?s.jsxs(s.Fragment,{children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),"Sign Up"]}):s.jsxs(s.Fragment,{children:[s.jsx(di,{className:"w-4 h-4 mr-2"}),"Role Full"]})})]})]},Z.id)})}),Ze.length===0&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"w-20 h-20 bg-white/10 rounded-2xl flex items-center justify-center mx-auto mb-6",children:s.jsx(At,{className:"w-10 h-10 text-white/30"})}),s.jsx("h3",{className:"text-xl font-semibold text-white/70 mb-3",children:y?"No roles match your filters":"No volunteer roles available"}),s.jsx("p",{className:"text-white/40 mb-6 max-w-lg mx-auto",children:y?"Try adjusting your search or filters to find volunteer opportunities.":"This event doesn't have any volunteer roles set up yet. Contact the event point of contact for more information."}),y&&s.jsx(W,{onClick:Zt,variant:"outline",children:"Clear Filters"})]})]}),s.jsx(b9,{isOpen:o,onClose:()=>i(!1),selectedRole:a,event:t,onSubmit:p,getRemainingSlots:d,getExistingSignups:u,isSubmitting:l}),O.isOpen&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white/5 p-6 rounded-lg shadow-xl max-w-md w-full",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Confirm Deletion"}),s.jsxs("p",{className:"text-white/50 mb-4",children:["Are you sure you want to remove ",O.volunteerName," from the ",O.roleName," role?"]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(W,{variant:"outline",onClick:()=>M({isOpen:!1,volunteerId:null,volunteerName:"",roleName:"",phoneVerification:void 0,volunteerPhone:void 0}),children:"Cancel"}),s.jsx(W,{variant:"destructive",onClick:Ne,children:"Delete"})]})]})}),A.isOpen&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white/5 p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Verify Phone Number"}),s.jsxs("div",{className:"bg-background border border-white/10 rounded-lg p-3 mb-4",children:[s.jsxs("p",{className:"text-sm text-white/50 mb-2",children:[s.jsx("strong",{children:"Removing:"})," ",A.volunteerName]}),s.jsxs("p",{className:"text-sm text-white/50",children:[s.jsx("strong",{children:"Role:"})," ",A.roleName]})]}),s.jsx("p",{className:"text-white/50 mb-4",children:"Please enter the phone number used during signup to confirm deletion."}),s.jsxs("form",{onSubmit:Z=>{Z.preventDefault(),_e()},className:"space-y-4",children:[s.jsx($a,{id:"verify-phone",value:q,onChange:Z=>I(Z),placeholder:"Phone number",className:"border-white/15 focus:border-gold-400 focus:ring-gold-400/20"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(W,{type:"button",variant:"outline",onClick:()=>{H({isOpen:!1,volunteerId:null,volunteerName:"",roleName:"",volunteerPhone:""}),I(""),L(""),C(!1)},className:"flex-1",children:"Cancel"}),s.jsx(W,{type:"submit",className:"flex-1 bg-gold-400 hover:bg-gold-300 text-white",children:"Verify Phone"})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[s.jsxs(W,{type:"button",variant:"ghost",size:"sm",onClick:()=>C(!Y),className:"text-white/40 hover:text-white/70 text-sm",children:[Y?"Hide":"Forgot phone number? Contact POC",s.jsx(Hr,{className:`w-4 h-4 ml-1 transition-transform ${Y?"rotate-180":""}`})]}),Y&&s.jsxs("div",{className:"mt-3 p-3 bg-red-500/10 border border-red-500/15 rounded-lg",children:[s.jsx("p",{className:"text-xs text-red-300 mb-3",children:"Admin access: Use this option only if you cannot verify phone number."}),s.jsxs("form",{onSubmit:Z=>{Z.preventDefault(),B()},className:"space-y-3",children:[s.jsx(he,{type:"password",placeholder:"Admin Password",value:k,onChange:Z=>L(Z.target.value),className:"border-red-500/20 focus:border-red-400 focus:ring-red-400/20",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),s.jsx(W,{type:"submit",className:"w-full bg-red-500 hover:bg-red-600 text-white text-sm",children:"Admin Override"})]})]})]})]})})]})]})};function T9(){const{templates:e,isLoading:t,createTemplate:r,updateTemplate:n,softDeleteTemplate:o,currentUser:i}=zh(),a=Fr(),[l,c]=h.useState(!1),[d,u]=h.useState(!1),[m,p]=h.useState(null),[f,y]=h.useState({name:"",description:"",is_public:!0,details:{title:"",description:"",location:"",sms_enabled:!0,day_before_time:"19:00",day_of_time:"15:00"},itineraries:[],volunteer_roles:[],pre_event_tasks:[]}),g=async()=>{f.name.trim()&&(m?await n(m.id,f)&&(u(!1),p(null),v()):await r(f)&&(c(!1),v()))},v=()=>{y({name:"",description:"",is_public:!0,details:{title:"",description:"",location:"",sms_enabled:!0,day_before_time:"19:00",day_of_time:"15:00"},itineraries:[],volunteer_roles:[],pre_event_tasks:[]})},w=()=>{u(!1),p(null),v()},x=()=>{c(!1),v()},b=async()=>{if(!f.name.trim())return;await r(f)&&(c(!1),v())},j=N=>{a("/events/create",{state:{templateId:N.id,templateName:N.name}})},T=async N=>{var E,R,P,_,O,M,A,H,q,I,D,$,Y,C,k;try{const{data:L,error:z}=await K.from("event_templates").select(`
          *,
          event_template_details(*),
          event_template_itineraries(*),
          event_template_volunteer_roles(*),
          event_template_pre_event_tasks(*)
        `).eq("id",N.id).single();if(z)throw z;if(L){const G={name:L.name,description:L.description||"",is_public:L.is_public,details:{title:((R=(E=L.event_template_details)==null?void 0:E[0])==null?void 0:R.title)||"",description:((_=(P=L.event_template_details)==null?void 0:P[0])==null?void 0:_.description)||"",location:((M=(O=L.event_template_details)==null?void 0:O[0])==null?void 0:M.location)||"",sms_enabled:((H=(A=L.event_template_details)==null?void 0:A[0])==null?void 0:H.sms_enabled)??!0,day_before_time:((I=(q=L.event_template_details)==null?void 0:q[0])==null?void 0:I.day_before_time)||"19:00",day_of_time:(($=(D=L.event_template_details)==null?void 0:D[0])==null?void 0:$.day_of_time)||"15:00"},itineraries:((Y=L.event_template_itineraries)==null?void 0:Y.map(X=>({time_slot:X.time_slot,activity:X.activity,description:X.description||"",duration_minutes:X.duration_minutes||30})))||[],volunteer_roles:((C=L.event_template_volunteer_roles)==null?void 0:C.map(X=>({role_label:X.role_label,shift_start:X.shift_start,shift_end:X.shift_end,slots_brother:X.slots_brother,slots_sister:X.slots_sister,slots_flexible:X.slots_flexible||0,suggested_poc:X.suggested_poc||"",notes:X.notes||""})))||[],pre_event_tasks:((k=L.event_template_pre_event_tasks)==null?void 0:k.map(X=>({task_description:X.task_description,assigned_to:X.assigned_to||"",due_date_offset_days:X.due_date_offset_days,status:X.status||"pending"})))||[]};y(G),p(N),u(!0)}}catch(L){console.error("Error loading template for editing:",L),Oe({title:"Error",description:"Failed to load template for editing.",variant:"destructive"})}},S=N=>{const E=N.toLowerCase();return E.includes("workshop")||E.includes("educational")?s.jsx(En,{className:"h-5 w-5"}):E.includes("social")||E.includes("gathering")?s.jsx(At,{className:"h-5 w-5"}):E.includes("meeting")?s.jsx(Dt,{className:"h-5 w-5"}):s.jsx(Su,{className:"h-5 w-5"})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(dn,{}),s.jsxs("main",{className:"container mx-auto px-4 py-6 md:py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-2 tracking-tight",children:"Event Templates"}),s.jsx("p",{className:"text-white/50 text-lg leading-relaxed",children:"Create, manage, and use reusable event templates"})]}),s.jsx("div",{className:"flex gap-3",children:s.jsxs(W,{onClick:()=>c(!0),className:"flex items-center gap-2",children:[s.jsx(jr,{className:"h-4 w-4"}),"Create Template"]})})]})}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(N=>s.jsxs(Te,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(Lt,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[S(N.name),s.jsxs("div",{children:[s.jsx(Ft,{className:"text-lg",children:N.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:N.description})]})]}),s.jsxs("div",{className:"flex gap-2",children:[N.is_public&&s.jsx(ve,{variant:"secondary",children:"Public"}),s.jsx(ve,{variant:"outline",children:N.user_id==="00000000-0000-0000-0000-000000000000"?"System":"Custom"})]})]})}),s.jsx(Ie,{className:"space-y-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(W,{variant:"outline",size:"sm",onClick:()=>j(N),className:"flex items-center gap-2 flex-1",children:[s.jsx(Pa,{className:"h-4 w-4"}),"Use Template"]}),N.user_id!=="00000000-0000-0000-0000-000000000000"&&N.user_id===(i==null?void 0:i.id)&&s.jsxs(s.Fragment,{children:[s.jsx(W,{variant:"outline",size:"sm",onClick:()=>T(N),className:"text-blue-400 hover:text-blue-300 hover:bg-blue-500/10",title:"Edit template",children:s.jsx(Cu,{className:"h-4 w-4"})}),s.jsx(W,{variant:"outline",size:"sm",onClick:()=>o(N.id),className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",title:"Move template to recently deleted",children:s.jsx(Gr,{className:"h-4 w-4"})})]})]})})]},N.id))}),!t&&e.length===0&&s.jsx(Te,{className:"text-center py-12",children:s.jsxs(Ie,{children:[s.jsx(En,{className:"h-12 w-12 text-white/30 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No templates yet"}),s.jsx("p",{className:"text-white/50 mb-4",children:"Create your first event template to get started"}),s.jsxs(W,{onClick:()=>c(!0),children:[s.jsx(jr,{className:"h-4 w-4 mr-2"}),"Create Template"]})]})}),s.jsx(fr,{open:l,onOpenChange:N=>{N||x()},children:s.jsxs(nr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(sr,{children:[s.jsx(or,{children:"Create New Template"}),s.jsx(ir,{children:"Create a reusable template for your events"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"template-name",children:"Template Name *"}),s.jsx(he,{id:"template-name",value:f.name,onChange:N=>y(E=>({...E,name:N.target.value})),placeholder:"e.g., Community Gathering"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"template-description",children:"Description"}),s.jsx(he,{id:"template-description",value:f.description,onChange:N=>y(E=>({...E,description:N.target.value})),placeholder:"Describe this template"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(fs,{id:"template-public",checked:f.is_public,onCheckedChange:N=>y(E=>({...E,is_public:N}))}),s.jsx(re,{htmlFor:"template-public",children:"Make template public"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Template Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"template-title",children:"Default Title"}),s.jsx(he,{id:"template-title",value:f.details.title,onChange:N=>y(E=>({...E,details:{...E.details,title:N.target.value}})),placeholder:"Default event title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"template-location",children:"Default Location"}),s.jsx(fg,{value:f.details.location,onChange:N=>y(E=>({...E,details:{...E.details,location:N}})),placeholder:"Select or type a location..."})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"template-description-details",children:"Default Description"}),s.jsx(un,{id:"template-description-details",value:f.details.description,onChange:N=>y(E=>({...E,details:{...E.details,description:N.target.value}})),placeholder:"Default event description",rows:3})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Settings"}),s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(fs,{id:"template-sms",checked:f.details.sms_enabled,onCheckedChange:N=>y(E=>({...E,details:{...E.details,sms_enabled:N}}))}),s.jsx(re,{htmlFor:"template-sms",children:"Enable SMS notifications"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"template-day-before",children:"Day Before SMS"}),s.jsx(he,{id:"template-day-before",type:"time",value:f.details.day_before_time,onChange:N=>y(E=>({...E,details:{...E.details,day_before_time:N.target.value}}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"template-day-of",children:"Day Of SMS"}),s.jsx(he,{id:"template-day-of",type:"time",value:f.details.day_of_time,onChange:N=>y(E=>({...E,details:{...E.details,day_of_time:N.target.value}}))})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Itinerary"}),s.jsxs("div",{className:"space-y-3",children:[f.itineraries.map((N,E)=>s.jsxs("div",{className:"flex gap-2 items-start",children:[s.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[s.jsx(cs,{value:N.time_slot,onChange:R=>{const P=[...f.itineraries];P[E]={...N,time_slot:R},y(_=>({..._,itineraries:P}))},className:""}),s.jsx(he,{value:N.activity,onChange:R=>{const P=[...f.itineraries];P[E]={...N,activity:R.target.value},y(_=>({..._,itineraries:P}))},placeholder:"Activity"}),s.jsx(he,{value:N.description||"",onChange:R=>{const P=[...f.itineraries];P[E]={...N,description:R.target.value},y(_=>({..._,itineraries:P}))},placeholder:"Description (optional)"})]}),s.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>{const R=f.itineraries.filter((P,_)=>_!==E);y(P=>({...P,itineraries:R}))},children:"Remove"})]},E)),s.jsx(W,{type:"button",variant:"outline",onClick:()=>{const N=[...f.itineraries,{time_slot:"",activity:"",description:"",duration_minutes:30}];y(E=>({...E,itineraries:N}))},children:"Add Itinerary Item"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Volunteer Roles"}),s.jsxs("div",{className:"space-y-3",children:[f.volunteer_roles.map((N,E)=>s.jsxs("div",{className:"border rounded-lg p-3 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsx(he,{value:N.role_label,onChange:R=>{const P=[...f.volunteer_roles];P[E]={...N,role_label:R.target.value},y(_=>({..._,volunteer_roles:P}))},placeholder:"Role Label"}),s.jsx(he,{value:N.notes||"",onChange:R=>{const P=[...f.volunteer_roles];P[E]={...N,notes:R.target.value},y(_=>({..._,volunteer_roles:P}))},placeholder:"Notes (optional)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2",children:[s.jsx(cs,{value:N.shift_start,onChange:R=>{const P=[...f.volunteer_roles];P[E]={...N,shift_start:R},y(_=>({..._,volunteer_roles:P}))}}),s.jsx(cs,{value:N.shift_end,onChange:R=>{const P=[...f.volunteer_roles];P[E]={...N,shift_end:R},y(_=>({..._,volunteer_roles:P}))}}),s.jsx(he,{type:"number",inputMode:"numeric",step:"1",value:N.slots_brother===0?"":N.slots_brother,onChange:R=>{const P=R.target.value===""?0:parseInt(R.target.value)||0,_=[...f.volunteer_roles];_[E]={...N,slots_brother:P},y(O=>({...O,volunteer_roles:_}))},onBlur:R=>{const P=R.target.value===""?0:parseInt(R.target.value)||0;if(P!==N.slots_brother){const _=[...f.volunteer_roles];_[E]={...N,slots_brother:P},y(O=>({...O,volunteer_roles:_}))}},placeholder:"Brother Slots",min:"0"}),s.jsx(he,{type:"number",inputMode:"numeric",step:"1",value:N.slots_sister===0?"":N.slots_sister,onChange:R=>{const P=R.target.value===""?0:parseInt(R.target.value)||0,_=[...f.volunteer_roles];_[E]={...N,slots_sister:P},y(O=>({...O,volunteer_roles:_}))},onBlur:R=>{const P=R.target.value===""?0:parseInt(R.target.value)||0;if(P!==N.slots_sister){const _=[...f.volunteer_roles];_[E]={...N,slots_sister:P},y(O=>({...O,volunteer_roles:_}))}},placeholder:"Sister Slots",min:"0"}),s.jsx(he,{type:"number",inputMode:"numeric",step:"1",value:N.slots_flexible===0?"":N.slots_flexible,onChange:R=>{const P=R.target.value===""?0:parseInt(R.target.value)||0,_=[...f.volunteer_roles];_[E]={...N,slots_flexible:P},y(O=>({...O,volunteer_roles:_}))},onBlur:R=>{const P=R.target.value===""?0:parseInt(R.target.value)||0;if(P!==N.slots_flexible){const _=[...f.volunteer_roles];_[E]={...N,slots_flexible:P},y(O=>({...O,volunteer_roles:_}))}},placeholder:"Flexible Slots",min:"0"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>{const R=f.volunteer_roles.filter((P,_)=>_!==E);y(P=>({...P,volunteer_roles:R}))},children:"Remove Role"})})]},E)),s.jsx(W,{type:"button",variant:"outline",onClick:()=>{const N=[...f.volunteer_roles,{role_label:"",shift_start:"",shift_end:"",slots_brother:1,slots_sister:1,slots_flexible:0,notes:""}];y(E=>({...E,volunteer_roles:N}))},children:"Add Volunteer Role"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(W,{variant:"outline",onClick:x,children:"Cancel"}),s.jsx(W,{onClick:b,disabled:!f.name.trim(),children:"Create Template"})]})]})}),s.jsx(fr,{open:d,onOpenChange:N=>{N||w()},children:s.jsxs(nr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(sr,{children:[s.jsxs(or,{children:["Edit Template: ",m==null?void 0:m.name]}),s.jsx(ir,{children:"Update your template configuration"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"edit-template-name",children:"Template Name *"}),s.jsx(he,{id:"edit-template-name",value:f.name,onChange:N=>y(E=>({...E,name:N.target.value})),placeholder:"e.g., Community Gathering"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"edit-template-description",children:"Description"}),s.jsx(he,{id:"edit-template-description",value:f.description,onChange:N=>y(E=>({...E,description:N.target.value})),placeholder:"Describe this template"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(fs,{id:"edit-template-public",checked:f.is_public,onCheckedChange:N=>y(E=>({...E,is_public:N}))}),s.jsx(re,{htmlFor:"edit-template-public",children:"Make template public"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Template Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"edit-template-title",children:"Default Title"}),s.jsx(he,{id:"edit-template-title",value:f.details.title,onChange:N=>y(E=>({...E,details:{...E.details,title:N.target.value}})),placeholder:"Default event title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"edit-template-location",children:"Default Location"}),s.jsx(fg,{value:f.details.location,onChange:N=>y(E=>({...E,details:{...E.details,location:N}})),placeholder:"Select or type a location..."})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"edit-template-description-details",children:"Default Description"}),s.jsx(un,{id:"edit-template-description-details",value:f.details.description,onChange:N=>y(E=>({...E,details:{...E.details,description:N.target.value}})),placeholder:"Default event description",rows:3})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Settings"}),s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(fs,{id:"edit-template-sms",checked:f.details.sms_enabled,onCheckedChange:N=>y(E=>({...E,details:{...E.details,sms_enabled:N}}))}),s.jsx(re,{htmlFor:"edit-template-sms",children:"Enable SMS notifications"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"edit-template-day-before",children:"Day Before SMS"}),s.jsx(he,{id:"edit-template-day-before",type:"time",value:f.details.day_before_time,onChange:N=>y(E=>({...E,details:{...E.details,day_before_time:N.target.value}}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"edit-template-day-of",children:"Day Of SMS"}),s.jsx(he,{id:"edit-template-day-of",type:"time",value:f.details.day_of_time,onChange:N=>y(E=>({...E,details:{...E.details,day_of_time:N.target.value}}))})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Itinerary"}),s.jsxs("div",{className:"space-y-3",children:[f.itineraries.map((N,E)=>s.jsxs("div",{className:"flex gap-2 items-start",children:[s.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[s.jsx(cs,{value:N.time_slot,onChange:R=>{const P=[...f.itineraries];P[E]={...N,time_slot:R},y(_=>({..._,itineraries:P}))}}),s.jsx(he,{value:N.activity,onChange:R=>{const P=[...f.itineraries];P[E]={...N,activity:R.target.value},y(_=>({..._,itineraries:P}))},placeholder:"Activity"}),s.jsx(he,{value:N.description||"",onChange:R=>{const P=[...f.itineraries];P[E]={...N,description:R.target.value},y(_=>({..._,itineraries:P}))},placeholder:"Description (optional)"})]}),s.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>{const R=f.itineraries.filter((P,_)=>_!==E);y(P=>({...P,itineraries:R}))},children:"Remove"})]},E)),s.jsx(W,{type:"button",variant:"outline",onClick:()=>{const N=[...f.itineraries,{time_slot:"",activity:"",description:"",duration_minutes:30}];y(E=>({...E,itineraries:N}))},children:"Add Itinerary Item"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Volunteer Roles"}),s.jsxs("div",{className:"space-y-3",children:[f.volunteer_roles.map((N,E)=>s.jsxs("div",{className:"border rounded-lg p-3 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsx(he,{value:N.role_label,onChange:R=>{const P=[...f.volunteer_roles];P[E]={...N,role_label:R.target.value},y(_=>({..._,volunteer_roles:P}))},placeholder:"Role Label"}),s.jsx(he,{value:N.notes||"",onChange:R=>{const P=[...f.volunteer_roles];P[E]={...N,notes:R.target.value},y(_=>({..._,volunteer_roles:P}))},placeholder:"Notes (optional)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2",children:[s.jsx(cs,{value:N.shift_start,onChange:R=>{const P=[...f.volunteer_roles];P[E]={...N,shift_start:R},y(_=>({..._,volunteer_roles:P}))}}),s.jsx(cs,{value:N.shift_end,onChange:R=>{const P=[...f.volunteer_roles];P[E]={...N,shift_end:R},y(_=>({..._,volunteer_roles:P}))}}),s.jsx(he,{type:"number",value:N.slots_brother,onChange:R=>{const P=[...f.volunteer_roles];P[E]={...N,slots_brother:parseInt(R.target.value)||0},y(_=>({..._,volunteer_roles:P}))},placeholder:"Brother Slots",min:"0"}),s.jsx(he,{type:"number",value:N.slots_sister,onChange:R=>{const P=[...f.volunteer_roles];P[E]={...N,slots_sister:parseInt(R.target.value)||0},y(_=>({..._,volunteer_roles:P}))},placeholder:"Sister Slots",min:"0"}),s.jsx(he,{type:"number",value:N.slots_flexible,onChange:R=>{const P=[...f.volunteer_roles];P[E]={...N,slots_flexible:parseInt(R.target.value)||0},y(_=>({..._,volunteer_roles:P}))},placeholder:"Flexible Slots",min:"0"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>{const R=f.volunteer_roles.filter((P,_)=>_!==E);y(P=>({...P,volunteer_roles:R}))},children:"Remove Role"})})]},E)),s.jsx(W,{type:"button",variant:"outline",onClick:()=>{const N=[...f.volunteer_roles,{role_label:"",shift_start:"",shift_end:"",slots_brother:1,slots_sister:1,slots_flexible:0,notes:""}];y(E=>({...E,volunteer_roles:N}))},children:"Add Volunteer Role"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(W,{variant:"outline",onClick:w,children:"Cancel"}),s.jsx(W,{onClick:g,disabled:!f.name.trim(),children:"Update Template"})]})]})})]})]})}const P9=()=>{var q;const e=Fr();Xt();const{isRestoring:t,isDeleting:r,isDeletingAll:n,restoreEvent:o,permanentlyDeleteEvent:i,permanentlyDeleteAllEvents:a,getSoftDeletedEvents:l}=nx(),{loadDeletedTemplates:c,restoreTemplate:d,permanentlyDeleteTemplate:u}=zh(),[m,p]=h.useState([]),[f,y]=h.useState([]),[g,v]=h.useState(!0),[w,x]=h.useState({isOpen:!1,event:null}),[b,j]=h.useState(!1),[T,S]=h.useState("all");h.useEffect(()=>{N()},[]);const N=async()=>{v(!0);try{const[I,D]=await Promise.all([l(),c()]);p(I),y(D)}catch(I){console.error("Error loading deleted items:",I)}finally{v(!1)}},E=async I=>{await o(I.id,I.title)&&p($=>$.filter(Y=>Y.id!==I.id))},R=async I=>{await i(I.id,I.title)&&(p($=>$.filter(Y=>Y.id!==I.id)),x({isOpen:!1,event:null}))},P=async I=>{await d(I.id)&&y($=>$.filter(Y=>Y.id!==I.id))},_=async I=>{await u(I.id)&&y($=>$.filter(Y=>Y.id!==I.id))},O=async()=>{await a()&&(p([]),y([]),j(!1))},M=I=>{var Y,C;const D=((Y=I.volunteer_roles)==null?void 0:Y.reduce((k,L)=>k+(L.slots_brother||0)+(L.slots_sister||0)+(L.slots_flexible||0),0))||0,$=((C=I.volunteers)==null?void 0:C.length)||0;return{totalSlots:D,filledSlots:$,openSlots:D-$}},A=I=>{const D=new Date(I),$=new Date,Y=Math.ceil((D.getTime()+30*24*60*60*1e3-$.getTime())/(1e3*60*60*24));return Math.max(0,Y)},H=()=>{switch(T){case"draft":return m.filter(I=>I.status==="draft");case"published":return m.filter(I=>I.status==="published");default:return m}};return g?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(dn,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin w-12 h-12 border-3 border-gold-400 border-t-transparent rounded-full mx-auto mb-6"}),s.jsx("p",{className:"text-white/70 font-medium text-lg",children:"Loading deleted events..."})]})})})]}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(dn,{}),s.jsxs("main",{className:"container mx-auto px-4 py-6 md:py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/50 mb-4",children:[s.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>e("/dashboard"),className:"h-8 px-2 text-white/50 hover:text-gold-300 hover:bg-white/10",children:[s.jsx(nc,{className:"w-4 h-4 mr-1"}),"Dashboard"]}),s.jsx("span",{children:"/"}),s.jsx("span",{className:"text-foreground font-medium",children:"Recently Deleted"})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-2 tracking-tight",children:"Recently Deleted"}),s.jsx("p",{className:"text-white/50 text-lg leading-relaxed",children:"Recover or permanently remove deleted events and templates"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[(m.length>0||f.length>0)&&s.jsxs(W,{onClick:()=>j(!0),disabled:n,variant:"destructive",className:"h-10 px-6 bg-red-600 hover:bg-red-700 text-white",children:[s.jsx(CO,{className:"w-4 h-4 mr-2"}),n?"Deleting All...":"Delete All Permanently"]}),s.jsxs(W,{onClick:()=>e("/dashboard"),variant:"outline",className:"h-10 px-6 text-white/70 border-white/15 hover:bg-white/5 hover:border-white/20",children:[s.jsx(nc,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})]})]})]}),m.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Summary"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Te,{className:"border-0 shadow-lg hover:shadow-md transition-shadow duration-200",children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gold-400/10 rounded-lg",children:s.jsx(pO,{className:"w-5 h-5 text-gold-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:m.length}),s.jsx("p",{className:"text-sm text-white/50",children:"Total Deleted"})]})]})})}),s.jsx(Te,{className:"border-0 shadow-lg hover:shadow-md transition-shadow duration-200",children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-emerald-500/15 rounded-lg",children:s.jsx(vv,{className:"w-5 h-5 text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:m.filter(I=>I.status==="published").length}),s.jsx("p",{className:"text-sm text-white/50",children:"Was Published"})]})]})})}),s.jsx(Te,{className:"border-0 shadow-lg hover:shadow-md transition-shadow duration-200",children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-amber-500/15 rounded-lg",children:s.jsx(En,{className:"w-5 h-5 text-amber-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-amber-400",children:m.filter(I=>I.status==="draft").length}),s.jsx("p",{className:"text-sm text-white/50",children:"Was Draft"})]})]})})}),s.jsx(Te,{className:"border-0 shadow-lg hover:shadow-md transition-shadow duration-200",children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-500/15 rounded-lg",children:s.jsx(w1,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:m.filter(I=>M(I).filledSlots>0).length}),s.jsx("p",{className:"text-sm text-white/50",children:"With Volunteers"})]})]})})}),f.length>0&&s.jsx(Te,{className:"border-0 shadow-lg hover:shadow-md transition-shadow duration-200",children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/15 rounded-lg",children:s.jsx(En,{className:"w-5 h-5 text-blue-300"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-blue-300",children:f.length}),s.jsx("p",{className:"text-sm text-white/50",children:"Deleted Templates"})]})]})})})]})]}),m.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Filter Events"}),T!=="all"&&s.jsxs(ve,{variant:"secondary",className:"bg-gold-400/10 text-gold-400 border-gold-400/20",children:["Showing: ",T==="published"?"Published":"Draft"," events"]})]}),s.jsxs("div",{className:"flex gap-2 p-1 bg-white/10 rounded-lg w-fit",children:[s.jsxs(W,{variant:T==="all"?"default":"ghost",onClick:()=>S("all"),className:`h-8 px-4 text-sm rounded-md transition-all ${T==="all"?"bg-white/5 text-gold-400 shadow-lg":"text-white/50 hover:text-gold-300 hover:bg-white/50"}`,children:["All (",m.length,")"]}),s.jsxs(W,{variant:T==="published"?"default":"ghost",onClick:()=>S("published"),className:`h-8 px-4 text-sm rounded-md transition-all ${T==="published"?"bg-white/5 text-gold-400 shadow-lg":"text-white/50 hover:text-gold-300 hover:bg-white/50"}`,children:["Published (",m.filter(I=>I.status==="published").length,")"]}),s.jsxs(W,{variant:T==="draft"?"default":"ghost",onClick:()=>S("draft"),className:`h-8 px-4 text-sm rounded-md transition-all ${T==="draft"?"bg-white/5 text-gold-400 shadow-lg":"text-white/50 hover:text-gold-300 hover:bg-white/50"}`,children:["Drafts (",m.filter(I=>I.status==="draft").length,")"]})]})]}),H().length===0?s.jsx(Te,{className:"border-0 shadow-lg text-center py-16",children:s.jsxs(Ie,{children:[s.jsx(Gr,{className:"w-16 h-16 text-white/20 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white/70 mb-2",children:m.length===0?"No Deleted Events":"No Events Match Filter"}),s.jsx("p",{className:"text-white/40 mb-6",children:m.length===0?"You haven't deleted any events yet.":`No ${T==="all"?"":T} events match your current filter.`}),m.length>0&&T!=="all"&&s.jsx(W,{variant:"outline",onClick:()=>S("all"),className:"border-white/15 text-white/70 hover:bg-white/5",children:"Show All Events"})]})}):s.jsx("div",{className:"space-y-4",children:H().map(I=>{const D=M(I),$=A(I.deleted_at);return s.jsx(Te,{className:"border-0 shadow-lg hover:shadow-md transition-shadow duration-200",children:s.jsx(Ie,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between gap-6",children:[s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:I.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-white/50 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"w-4 h-4 text-white/30"}),s.jsx("span",{children:new Date(I.start_datetime).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wr,{className:"w-4 h-4 text-white/30"}),s.jsx("span",{children:gc(I.start_datetime)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(At,{className:"w-4 h-4 text-white/30"}),s.jsxs("span",{children:[D.filledSlots,"/",D.totalSlots," volunteers"]})]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2 ml-4",children:[s.jsx(ve,{variant:"secondary",className:"bg-red-500/15 text-red-300 border-red-500/20 text-xs",children:"Deleted"}),s.jsxs(ve,{variant:"outline",className:"text-xs border-white/15 text-white/50",children:[$," days left"]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"text-white/50",children:[s.jsx("span",{className:"font-medium",children:"Location:"})," ",I.location]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white/50 font-medium",children:"Status:"}),s.jsx(ve,{variant:"secondary",className:`text-xs ${I.status==="published"?"bg-emerald-500/15 text-emerald-300 border-emerald-500/20":"bg-amber-500/15 text-amber-300 border-amber-500/20"}`,children:I.status==="published"?"Published":"Draft"})]})]}),I.description&&s.jsxs("div",{className:"text-sm text-white/50",children:[s.jsx("span",{className:"font-medium",children:"Description:"})," ",I.description]}),D.totalSlots>0&&s.jsxs("div",{className:"bg-background rounded-lg p-4 border border-white/10",children:[s.jsx("h4",{className:"font-medium text-foreground mb-3",children:"Volunteer Status"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50",children:"Total Slots:"}),s.jsx("div",{className:"font-semibold text-foreground",children:D.totalSlots})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50",children:"Filled:"}),s.jsx("div",{className:"font-semibold text-emerald-400",children:D.filledSlots})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50",children:"Open:"}),s.jsx("div",{className:"font-semibold text-red-400",children:D.openSlots})]})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 lg:w-48",children:[s.jsxs(W,{onClick:()=>E(I),disabled:t,className:"w-full bg-gold-400 hover:bg-gold-300 text-navy-900 h-10",children:[s.jsx(py,{className:"w-4 h-4 mr-2"}),t?"Restoring...":"Restore Event"]}),s.jsxs(W,{onClick:()=>x({isOpen:!0,event:I}),disabled:r,variant:"outline",className:"w-full h-10 border-red-500/30 text-red-300 hover:bg-red-500/10 hover:border-red-400",children:[s.jsx(Gr,{className:"w-4 h-4 mr-2"}),r?"Deleting...":"Delete Permanently"]}),s.jsx("div",{className:"text-xs text-white/40 text-center",children:"This action cannot be undone"})]})]})})},I.id)})}),f.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Deleted Templates"}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:f.map(I=>s.jsxs(Te,{className:"border-0 shadow-lg hover:shadow-md transition-shadow duration-200",children:[s.jsx(Lt,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(En,{className:"h-5 w-5 text-blue-300"}),s.jsxs("div",{children:[s.jsx(Ft,{className:"text-lg",children:I.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:I.description})]})]}),s.jsxs("div",{className:"flex gap-2",children:[I.is_public&&s.jsx(ve,{variant:"secondary",children:"Public"}),s.jsx(ve,{variant:"outline",children:I.user_id==="00000000-0000-0000-0000-000000000000"?"System":"Custom"})]})]})}),s.jsxs(Ie,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(W,{variant:"outline",size:"sm",onClick:()=>P(I),className:"flex items-center gap-2 flex-1 text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10",children:[s.jsx(py,{className:"h-4 w-4"}),"Restore"]}),s.jsx(W,{variant:"outline",size:"sm",onClick:()=>_(I),className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:s.jsx(Gr,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"text-xs text-white/40",children:["Deleted ",I.deleted_at?new Date(I.deleted_at).toLocaleDateString():"recently"]})]})]},I.id))})]})]}),s.jsx(fr,{open:w.isOpen,onOpenChange:I=>x({isOpen:I,event:w.event}),children:s.jsxs(nr,{className:"max-w-md",children:[s.jsxs(sr,{children:[s.jsx(or,{className:"text-red-400",children:"Permanently Delete Event?"}),s.jsxs(ir,{className:"text-white/50",children:['This action will permanently remove "',(q=w.event)==null?void 0:q.title,'" and all associated data. This cannot be undone.']}),w.event&&s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"text-sm text-white/50",children:"Event was: "}),s.jsx(ve,{variant:"secondary",className:w.event.status==="published"?"bg-emerald-500/15 text-emerald-300 border-emerald-500/20 ml-2":"bg-amber-500/15 text-amber-300 border-amber-500/20 ml-2",children:w.event.status==="published"?"Published":"Draft"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(W,{variant:"outline",onClick:()=>x({isOpen:!1,event:null}),className:"flex-1 border-white/15 text-white/70 hover:bg-white/5",children:"Cancel"}),s.jsx(W,{variant:"destructive",onClick:()=>w.event&&R(w.event),disabled:r,className:"flex-1",children:r?"Deleting...":"Delete Permanently"})]})]})}),s.jsx(fr,{open:b,onOpenChange:j,children:s.jsxs(nr,{className:"max-w-md",children:[s.jsxs(sr,{children:[s.jsx(or,{className:"text-red-400",children:"Delete All Items Permanently?"}),s.jsxs(ir,{className:"text-white/50",children:["This action will permanently remove ",s.jsxs("span",{className:"font-semibold",children:[m.length," event",m.length===1?"":"s"]}),f.length>0&&s.jsxs(s.Fragment,{children:[" and ",s.jsxs("span",{className:"font-semibold",children:[f.length," template",f.length===1?"":"s"]})]})," and all associated data. This cannot be undone."]}),s.jsx("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Eu,{className:"w-4 h-4 text-red-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-red-300",children:[s.jsx("p",{className:"font-medium mb-1",children:"Warning:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"All deleted events will be permanently removed"}),s.jsx("li",{children:"All deleted templates will be permanently removed"}),s.jsx("li",{children:"All volunteer roles and signups will be lost"}),s.jsx("li",{children:"This action cannot be undone"})]})]})]})})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(W,{variant:"outline",onClick:()=>j(!1),className:"flex-1 border-white/15 text-white/70 hover:bg-white/5",children:"Cancel"}),s.jsx(W,{variant:"destructive",onClick:O,disabled:n,className:"flex-1 bg-red-600 hover:bg-red-700",children:n?"Deleting All...":"Delete All Permanently"})]})]})})]})};var Zh="Tabs",[R9]=Lr(Zh,[rl]),xT=rl(),[O9,Lx]=R9(Zh),yT=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=$c(l),[m,p]=Qn({prop:n,onChange:o,defaultProp:i??"",caller:Zh});return s.jsx(O9,{scope:r,baseId:hr(),value:m,onValueChange:p,orientation:a,dir:u,activationMode:c,children:s.jsx(ye.div,{dir:u,"data-orientation":a,...d,ref:t})})});yT.displayName=Zh;var wT="TabsList",bT=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...o}=e,i=Lx(wT,r),a=xT(r);return s.jsx(mx,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(ye.div,{role:"tablist","aria-orientation":i.orientation,...o,ref:t})})});bT.displayName=wT;var jT="TabsTrigger",NT=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...i}=e,a=Lx(jT,r),l=xT(r),c=CT(a.baseId,n),d=ET(a.baseId,n),u=n===a.value;return s.jsx(px,{asChild:!0,...l,focusable:!o,active:u,children:s.jsx(ye.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c,...i,ref:t,onMouseDown:ie(e.onMouseDown,m=>{!o&&m.button===0&&m.ctrlKey===!1?a.onValueChange(n):m.preventDefault()}),onKeyDown:ie(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&a.onValueChange(n)}),onFocus:ie(e.onFocus,()=>{const m=a.activationMode!=="manual";!u&&!o&&m&&a.onValueChange(n)})})})});NT.displayName=jT;var _T="TabsContent",ST=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:o,children:i,...a}=e,l=Lx(_T,r),c=CT(l.baseId,n),d=ET(l.baseId,n),u=n===l.value,m=h.useRef(u);return h.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),s.jsx(Zr,{present:o||u,children:({present:p})=>s.jsx(ye.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:p&&i})})});ST.displayName=_T;function CT(e,t){return`${e}-trigger-${t}`}function ET(e,t){return`${e}-content-${t}`}var D9=yT,kT=bT,TT=NT,PT=ST;const A9=D9,RT=h.forwardRef(({className:e,...t},r)=>s.jsx(kT,{ref:r,className:te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));RT.displayName=kT.displayName;const Vi=h.forwardRef(({className:e,...t},r)=>s.jsx(TT,{ref:r,className:te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Vi.displayName=TT.displayName;const Wi=h.forwardRef(({className:e,...t},r)=>s.jsx(PT,{ref:r,className:te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Wi.displayName=PT.displayName;const I9=()=>{var T,S,N,E;const e=Fr(),{toast:t}=Xt(),{isAdmin:r,user:n,loading:o,refreshAdminStatus:i}=Mh(),[a,l]=h.useState(""),[c,d]=h.useState(!1),u=h.useRef(null),[m,p]=h.useState({full_name:"",phone:"",organization:""}),[f,y]=h.useState({openaiKey:"",twilioSid:"",twilioToken:"",twilioPhone:"",confirmationTemplate:"Thanks [Name]! You're signed up as [Role] on [Date] at [Time]. POC: [POCName] ([Phone]).",dayBeforeTemplate:"Hi [Name], reminder: you're assigned as [Role] tomorrow at [Time]. POC: [POCName] ([Phone]).",dayOfTemplate:"Hi [Name], your [Role] shift starts in 3 hours at [Time]. POC: [POCName] ([Phone]).",timezone:"America/New_York"}),g=r||c;h.useEffect(()=>{(async()=>{var A,H,q,I;console.log("Settings: Checking user...");const{data:{user:_},error:O}=await K.auth.getUser();if(O){console.error("Settings: User error:",O),e("/login");return}if(console.log("Settings: User data:",_),!_){console.log("Settings: No user, redirecting to login"),e("/login");return}console.log("Settings: User found:",_),console.log("Settings: User metadata:",_.user_metadata);const M=localStorage.getItem("settings");M&&y(JSON.parse(M)),_&&(p({full_name:((A=_.user_metadata)==null?void 0:A.full_name)||((H=_.user_metadata)==null?void 0:H.name)||"",phone:((q=_.user_metadata)==null?void 0:q.phone)||"",organization:((I=_.user_metadata)==null?void 0:I.organization)||""}),await v(_.id))})();const{data:{subscription:P}}=K.auth.onAuthStateChange((_,O)=>{var M;console.log("Settings: Auth state change:",_,(M=O==null?void 0:O.user)==null?void 0:M.id),_==="SIGNED_OUT"&&e("/login")});return()=>P.unsubscribe()},[e]),h.useEffect(()=>{const R=P=>{if(P.key==="Shift"&&!P.repeat){const _=Date.now(),O=u.current;O&&_-O<=500&&d(!0),u.current=_}};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[]);const v=async R=>{var P,_,O;try{const{data:M,error:A}=await K.from("profiles").select("id").eq("id",R).single();if(A&&A.code==="PGRST116"){console.log("Creating profile for user:",R);const{error:H}=await K.from("profiles").insert({id:R,full_name:((P=n==null?void 0:n.user_metadata)==null?void 0:P.full_name)||((_=n==null?void 0:n.user_metadata)==null?void 0:_.name)||"",phone:((O=n==null?void 0:n.user_metadata)==null?void 0:O.phone)||"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});H?console.error("Error creating profile:",H):console.log("Profile created successfully")}else M&&console.log("Profile already exists for user:",R)}catch(M){console.error("Error ensuring user profile:",M)}},w=()=>{localStorage.setItem("settings",JSON.stringify(f)),t({title:"Settings Saved",description:"Your configuration has been updated successfully."})},x=async()=>{if(!a.trim()){t({title:"Admin Code Required",description:"Please enter the admin code to activate admin mode.",variant:"destructive"});return}try{console.log("Attempting to activate admin mode with code:",a.trim());const{data:R,error:P}=await K.rpc("activate_admin_mode",{admin_code:a.trim()});if(console.log("RPC response:",{data:R,error:P}),P){console.error("Admin activation error:",P),t({title:"Admin Activation Failed",description:P.message,variant:"destructive"});return}R?(l(""),console.log("Admin mode activated successfully!"),console.log("Refreshing admin status..."),await i(),t({title:"Admin Mode Activated!",description:"You now have admin privileges. You can delete any event and access advanced features."})):t({title:"Invalid Admin Code",description:"The admin code you entered is incorrect.",variant:"destructive"})}catch(R){console.error("Admin activation error:",R),t({title:"Admin Activation Failed",description:"An unexpected error occurred while activating admin mode.",variant:"destructive"})}},b=async()=>{try{console.log("Attempting to deactivate admin mode...");const{data:R,error:P}=await K.rpc("deactivate_admin_mode");if(console.log("RPC response:",{data:R,error:P}),P){console.error("Admin deactivation error:",P),t({title:"Admin Deactivation Failed",description:P.message,variant:"destructive"});return}if(R){console.log("Admin mode deactivated successfully!"),console.log("Refreshing admin status...");const{error:_}=await K.auth.refreshSession();_&&console.error("Error refreshing session:",_),await i(),t({title:"Admin Mode Deactivated",description:"You have returned to normal user status."})}else t({title:"Deactivation Failed",description:"Unable to deactivate admin mode. Please try again.",variant:"destructive"})}catch(R){console.error("Admin deactivation error:",R),t({title:"Admin Deactivation Failed",description:"An unexpected error occurred while deactivating admin mode.",variant:"destructive"})}},j=async()=>{if(n)try{const{error:R}=await K.auth.updateUser({data:{full_name:m.full_name,name:m.full_name,phone:m.phone,organization:m.organization}});t(R?{title:"Profile Update Failed",description:R.message,variant:"destructive"}:{title:"Profile Updated",description:"Your profile information has been saved."})}catch(R){console.error("Profile update error:",R),t({title:"Profile Update Failed",description:"An unexpected error occurred while updating your profile.",variant:"destructive"})}};return o?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(dn,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin w-12 h-12 border-3 border-gold-400 border-t-transparent rounded-full mx-auto mb-6"}),s.jsx("p",{className:"text-white/70 font-medium text-lg",children:"Loading settings..."})]})})})]}):n?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(dn,{}),s.jsxs("main",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Settings"}),s.jsx("p",{className:"text-white/50 mt-1",children:"Configure your integrations and preferences"})]}),s.jsxs(A9,{defaultValue:"profile",className:"space-y-6",children:[s.jsxs(RT,{className:`grid w-full ${g?"grid-cols-5":"grid-cols-4"}`,children:[s.jsx(Vi,{value:"profile",children:"Profile"}),s.jsx(Vi,{value:"integrations",children:"Integrations"}),s.jsx(Vi,{value:"templates",children:"Templates"}),s.jsx(Vi,{value:"preferences",children:"Preferences"}),g&&s.jsx(Vi,{value:"admin",children:"Admin"})]}),s.jsx(Wi,{value:"profile",children:s.jsxs(Te,{children:[s.jsxs(Lt,{children:[s.jsxs(Ft,{className:"flex items-center space-x-2",children:[s.jsx(Cp,{className:"w-5 h-5"}),s.jsx("span",{children:"Profile Information"})]}),s.jsx(Wr,{children:"Update your personal information and contact details"})]}),s.jsxs(Ie,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"fullName",children:"Full Name"}),s.jsx(he,{id:"fullName",value:m.full_name,onChange:R=>p(P=>({...P,full_name:R.target.value})),placeholder:"Your full name"}),s.jsxs("p",{className:"text-sm text-white/40",children:["Current: ",((T=n==null?void 0:n.user_metadata)==null?void 0:T.full_name)||((S=n==null?void 0:n.user_metadata)==null?void 0:S.name)||"Not set"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"email",children:"Email Address"}),s.jsx(he,{id:"email",type:"email",value:(n==null?void 0:n.email)||"",disabled:!0,className:"bg-white/10",placeholder:"your@email.com"}),s.jsx("p",{className:"text-sm text-white/40",children:"Email cannot be changed"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"phone",children:"Phone Number"}),s.jsx($a,{id:"phone",value:m.phone,onChange:R=>p(P=>({...P,phone:R})),placeholder:"Phone number"}),s.jsxs("p",{className:"text-sm text-white/40",children:["Current: ",((N=n==null?void 0:n.user_metadata)==null?void 0:N.phone)||"Not set"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"organization",children:"Organization (Optional)"}),s.jsx(he,{id:"organization",value:m.organization,onChange:R=>p(P=>({...P,organization:R.target.value})),placeholder:"Community Center, Mosque, etc."}),s.jsxs("p",{className:"text-sm text-white/40",children:["Current: ",((E=n==null?void 0:n.user_metadata)==null?void 0:E.organization)||"Not set"]})]})]}),s.jsx(W,{onClick:j,className:"mt-4",children:"Update Profile"})]})]})}),s.jsx(Wi,{value:"integrations",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Te,{children:[s.jsxs(Lt,{children:[s.jsxs(Ft,{className:"flex items-center space-x-2",children:[s.jsx(PO,{className:"w-5 h-5"}),s.jsx("span",{children:"OpenAI Integration"})]}),s.jsx(Wr,{children:"Configure OpenAI API for AI-powered role suggestions"})]}),s.jsx(Ie,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"openaiKey",children:"OpenAI API Key"}),s.jsx(he,{id:"openaiKey",type:"password",value:f.openaiKey,onChange:R=>y(P=>({...P,openaiKey:R.target.value})),placeholder:"sk-..."}),s.jsxs("p",{className:"text-sm text-white/40",children:["Get your API key from ",s.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-gold-400 hover:underline",children:"OpenAI Platform"})]})]})})]}),s.jsxs(Te,{children:[s.jsxs(Lt,{children:[s.jsxs(Ft,{className:"flex items-center space-x-2",children:[s.jsx(y1,{className:"w-5 h-5"}),s.jsx("span",{children:"SMS Integration (Twilio)"})]}),s.jsx(Wr,{children:"Configure SMS service for automated reminders"})]}),s.jsxs(Ie,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"twilioSid",children:"Account SID"}),s.jsx(he,{id:"twilioSid",type:"password",value:f.twilioSid,onChange:R=>y(P=>({...P,twilioSid:R.target.value})),placeholder:"AC..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"twilioToken",children:"Auth Token"}),s.jsx(he,{id:"twilioToken",type:"password",value:f.twilioToken,onChange:R=>y(P=>({...P,twilioToken:R.target.value})),placeholder:"Your auth token"})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(re,{htmlFor:"twilioPhone",children:"Twilio Phone Number"}),s.jsx($a,{id:"twilioPhone",value:f.twilioPhone,onChange:R=>y(P=>({...P,twilioPhone:R})),placeholder:"Twilio number"})]})]}),s.jsxs("p",{className:"text-sm text-white/40",children:["Get your Twilio credentials from ",s.jsx("a",{href:"https://console.twilio.com/",target:"_blank",rel:"noopener noreferrer",className:"text-gold-400 hover:underline",children:"Twilio Console"})]})]})]})]})}),s.jsx(Wi,{value:"templates",children:s.jsxs(Te,{children:[s.jsxs(Lt,{children:[s.jsx(Ft,{children:"SMS Message Templates"}),s.jsx(Wr,{children:"Customize your automated SMS messages. Use placeholders: [Name], [Role], [Date], [Time], [POCName], [Phone]"})]}),s.jsxs(Ie,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"confirmationTemplate",children:"Confirmation Message"}),s.jsx(un,{id:"confirmationTemplate",value:f.confirmationTemplate,onChange:R=>y(P=>({...P,confirmationTemplate:R.target.value})),rows:3,placeholder:"Message sent when someone signs up"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"dayBeforeTemplate",children:"Day Before Reminder"}),s.jsx(un,{id:"dayBeforeTemplate",value:f.dayBeforeTemplate,onChange:R=>y(P=>({...P,dayBeforeTemplate:R.target.value})),rows:3,placeholder:"Message sent the day before the event"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"dayOfTemplate",children:"Day Of Reminder"}),s.jsx(un,{id:"dayOfTemplate",value:f.dayOfTemplate,onChange:R=>y(P=>({...P,dayOfTemplate:R.target.value})),rows:3,placeholder:"Message sent on the day of the event"})]}),s.jsxs("div",{className:"bg-blue-500/15 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Available Placeholders:"}),s.jsxs("div",{className:"text-sm text-white/50 grid grid-cols-2 gap-2",children:[s.jsxs("span",{children:[s.jsx("code",{children:"[Name]"})," - Volunteer's name"]}),s.jsxs("span",{children:[s.jsx("code",{children:"[Role]"})," - Their assigned role"]}),s.jsxs("span",{children:[s.jsx("code",{children:"[Date]"})," - Event date"]}),s.jsxs("span",{children:[s.jsx("code",{children:"[Time]"})," - Shift time"]}),s.jsxs("span",{children:[s.jsx("code",{children:"[POCName]"})," - Point of contact name"]}),s.jsxs("span",{children:[s.jsx("code",{children:"[Phone]"})," - POC phone number"]})]})]})]})]})}),s.jsx(Wi,{value:"preferences",children:s.jsxs(Te,{children:[s.jsxs(Lt,{children:[s.jsx(Ft,{children:"General Preferences"}),s.jsx(Wr,{children:"Configure system-wide preferences"})]}),s.jsx(Ie,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"timezone",children:"Default Timezone"}),s.jsxs("select",{id:"timezone",value:f.timezone,onChange:R=>y(P=>({...P,timezone:R.target.value})),className:"w-full border border-white/15 rounded-md px-3 py-2",children:[s.jsx("option",{value:"America/New_York",children:"Eastern Time (ET)"}),s.jsx("option",{value:"America/Chicago",children:"Central Time (CT)"}),s.jsx("option",{value:"America/Denver",children:"Mountain Time (MT)"}),s.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time (PT)"})]})]})})]})}),g&&s.jsx(Wi,{value:"admin",children:s.jsxs(Te,{children:[s.jsxs(Lt,{children:[s.jsxs(Ft,{className:"flex items-center space-x-2",children:[s.jsx(jp,{className:"w-5 h-5 text-yellow-600"}),s.jsx("span",{children:"Admin Mode"})]}),s.jsx(Wr,{children:"Activate admin privileges to access advanced features and delete any event"})]}),s.jsxs(Ie,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-background border border-white/10 rounded-lg p-4",children:[s.jsxs("div",{className:"text-sm text-white/50",children:[s.jsx("p",{children:s.jsx("strong",{children:"Debug Info:"})}),s.jsxs("p",{children:["isAdmin: ",r?"true":"false"]}),s.jsxs("p",{children:["User ID: ",(n==null?void 0:n.id)||"none"]}),s.jsxs("p",{children:["User Metadata: ",JSON.stringify((n==null?void 0:n.user_metadata)||{},null,2)]})]}),s.jsx(W,{onClick:async()=>{console.log("Manual admin status check..."),await i(),console.log("Admin status refreshed")},className:"mt-2",variant:"outline",size:"sm",children:"Refresh Admin Status"})]}),r?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-emerald-500/15 border border-emerald-500/20 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sp,{className:"w-5 h-5 text-emerald-400"}),s.jsx("span",{className:"font-medium text-emerald-300",children:"Admin Mode Active"})]}),s.jsx("p",{className:"text-emerald-300 mt-2",children:"You currently have admin privileges. You can:"}),s.jsxs("ul",{className:"text-emerald-300 mt-2 list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Delete any event, regardless of ownership"}),s.jsx("li",{children:"Access advanced system features"}),s.jsx("li",{children:"Manage all user events and data"})]})]}),s.jsxs(W,{onClick:b,variant:"outline",className:"w-full sm:w-auto border-red-500/30 text-red-300 hover:bg-red-500/10 hover:border-red-400",children:[s.jsx(ju,{className:"w-4 h-4 mr-2"}),"Deactivate Admin Mode"]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-500/15 border border-blue-500/20 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sp,{className:"w-5 h-5 text-blue-400"}),s.jsx("span",{className:"font-medium text-blue-300",children:"Admin Privileges"})]}),s.jsx("p",{className:"text-blue-300 mt-2",children:"Admin mode grants you elevated privileges including the ability to delete any event in the system."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"adminCode",children:"Admin Code"}),s.jsx(he,{id:"adminCode",type:"password",value:a,onChange:R=>l(R.target.value),placeholder:"Enter admin code",className:"font-mono"}),s.jsx("p",{className:"text-sm text-white/40",children:"Enter the admin code to activate admin mode"})]}),s.jsxs(W,{onClick:x,className:"bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700",disabled:!a.trim(),children:[s.jsx(jp,{className:"w-4 h-4 mr-2"}),"Activate Admin Mode"]})]})]})]})})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsxs(W,{onClick:w,className:"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700",children:[s.jsx(wO,{className:"w-4 h-4 mr-2"}),"Save All Settings"]})})]})]}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(dn,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-white/70 font-medium text-lg",children:"Please log in to access settings."})})})]})},Sm={},M9=()=>{const[e,t]=h.useState(""),[r,n]=h.useState(""),[o,i]=h.useState(!1),[a,l]=h.useState(!1),[c,d]=h.useState(""),[u,m]=h.useState(""),[p,f]=h.useState(""),[y,g]=h.useState(""),[v,w]=h.useState(""),[x,b]=h.useState(!1),[j,T]=h.useState(!1),[S,N]=h.useState({}),[E,R]=h.useState({}),P=Fr(),[_]=j_(),{toast:O}=Xt(),M=(Sm==null?void 0:Sm.VITE_SITE_URL)||window.location.origin,A=C=>{const k=(C||"").replace(/[^\d+]/g,"");return k.startsWith("+")?k:/^1\d{10}$/.test(k)?`+${k}`:/^\d{10}$/.test(k)?`+1${k}`:k?`+${k}`:""},H=(C,k)=>{switch(C){case"firstName":return k.trim()?k.trim().length<2?"First name must be at least 2 characters":"":"First name is required";case"lastName":return k.trim()?k.trim().length<2?"Last name must be at least 2 characters":"":"Last name is required";case"phone":return k.trim()?/^\+?[\d\s\-()]+$/.test(k)?"":"Please enter a valid phone number":"Phone number is required";case"gender":return k?"":"Please select brother or sister";case"email":return k.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k)?"":"Please enter a valid email address":"Email is required";case"password":return k?k.length<6?"Password must be at least 6 characters":"":"Password is required";case"pocCode":return k.trim()?"":"POC verification code is required";default:return""}},q=C=>{if(R(k=>({...k,[C]:!0})),S[C]){const L=H(C,C==="firstName"?c:C==="lastName"?u:C==="phone"?p:C==="gender"?y:C==="email"?e:C==="password"?r:C==="pocCode"?v:"");N(z=>({...z,[C]:L}))}},I=(C,k)=>{switch(C){case"firstName":d(k);break;case"lastName":m(k);break;case"phone":f(k);break;case"email":t(k);break;case"password":n(k);break;case"pocCode":w(k);break;case"gender":g(k);break}S[C]&&N(L=>({...L,[C]:""}))},D=()=>{const C={};return o?(C.firstName=H("firstName",c),C.lastName=H("lastName",u),C.phone=H("phone",p),C.gender=H("gender",y),C.email=H("email",e),C.password=H("password",r),C.pocCode=H("pocCode",v)):a?C.email=H("email",e):(C.email=H("email",e),C.password=H("password",r)),N(C),R((o?["firstName","lastName","phone","gender","email","password","pocCode"]:a?["email"]:["email","password"]).reduce((L,z)=>({...L,[z]:!0}),{})),!Object.values(C).some(L=>L)};h.useEffect(()=>{_.get("mode")==="signup"&&i(!0);const k=_.get("notice");k==="link_expired"?O({title:"Sign-in link expired",description:"That link was already used or has expired. Please sign in again."}):k==="invalid_callback"&&O({title:"Sign-in incomplete",description:"We couldn't complete sign-in. Please try again.",variant:"destructive"}),(async()=>{const{data:{user:G}}=await K.auth.getUser();G&&P("/dashboard")})();const{data:{subscription:z}}=K.auth.onAuthStateChange((G,X)=>{console.log("Auth state change:",G,X),G==="SIGNED_IN"&&X&&P("/dashboard")});return()=>z.unsubscribe()},[P,O,_]);const $=async C=>{if(C.preventDefault(),!D()){const k=Object.values(S).filter(Q=>Q).length,L=Object.keys(S).filter(Q=>S[Q]),z={firstName:"First Name",lastName:"Last Name",phone:"Phone Number",gender:"Gender",email:"Email",password:"Password",pocCode:"POC Verification Code"},G=L.map(Q=>z[Q]||Q);O({title:"Form Needs Attention",description:`Please fill in ${k} field${k>1?"s":""}: ${G.join(", ")}`,variant:"destructive"});const X=document.getElementById(L[0]);X&&(X.scrollIntoView({behavior:"smooth",block:"center"}),X.focus());return}b(!0);try{if(a){const{error:k}=await K.auth.resetPasswordForEmail(e,{redirectTo:`${M}/reset-password?redirect=/dashboard`});k?(console.error("Password reset error:",k),O({title:"Password Reset Error",description:k.message,variant:"destructive"})):(O({title:"Check your email",description:"We've sent you a password reset link. Please check your email and follow the instructions to reset your password."}),l(!1))}else if(o){if(v!=="admin123"){N(G=>({...G,pocCode:"Invalid POC verification code"})),R(G=>({...G,pocCode:!0})),O({title:"Invalid POC Code",description:"Please enter the correct POC verification code to create an account.",variant:"destructive"}),b(!1);return}const k=A(p),{data:L}=await K.from("contacts").select("id").eq("phone",k).maybeSingle(),{error:z}=await K.auth.signUp({email:e,password:r,options:{data:{full_name:`${c} ${u}`,phone:k,gender:y},emailRedirectTo:`${M}/auth/callback`}});z?(console.error("Signup error:",z),O({title:"Sign Up Error",description:z.message,variant:"destructive"})):(O({title:"Check your email",description:"We've sent you a confirmation link. Please check your email and click the link to verify your account."}),i(!1))}else{const{error:k}=await K.auth.signInWithPassword({email:e,password:r});k?(console.error("Signin error:",k),O({title:"Sign In Error",description:k.message,variant:"destructive"})):O({title:"Welcome Back",description:"You've successfully signed in."})}}catch(k){console.error("Auth error:",k),O({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{b(!1)}},Y=(C,k,L,z,G,X,Q=!0,ue,fe)=>{const _e=E[C]&&S[C];return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(re,{htmlFor:C,className:"text-sm font-medium text-white/80",children:[k," ",Q&&s.jsx("span",{className:"text-red-500",children:"*"})]}),C==="password"&&fe?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[ue&&s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",children:ue}),s.jsx(he,{id:C,type:L,placeholder:z,value:G,onChange:B=>X(B.target.value),onBlur:()=>q(C),autoComplete:o?"new-password":"current-password",name:"password",required:!1,className:`h-11 transition-all duration-200 placeholder:text-white/30 ${ue?"pl-10":""} ${_e?"border-red-500/50 focus:border-red-400 focus:ring-red-400/20 bg-red-500/10 text-foreground":"border-white/15 focus:border-gold-400 focus:ring-gold-400/20 bg-white/5 text-foreground"}`})]}),s.jsx("div",{className:"shrink-0",children:fe})]}):s.jsxs("div",{className:"relative",children:[ue&&s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",children:ue}),s.jsx(he,{id:C,type:L,placeholder:z,value:G,onChange:B=>X(B.target.value),onBlur:()=>q(C),autoComplete:C==="pocCode"?"off":C==="email"?"email":void 0,autoCorrect:C==="pocCode"?"off":void 0,autoCapitalize:C==="pocCode"?"none":void 0,spellCheck:C==="pocCode"?!1:void 0,inputMode:C==="pocCode"?"text":void 0,name:C==="pocCode"?"poc_code":C,"data-lpignore":C==="pocCode"?"true":void 0,"data-1p-ignore":C==="pocCode"?"true":void 0,"data-form-type":C==="pocCode"?"other":void 0,"aria-autocomplete":C==="pocCode"?"none":void 0,required:!1,className:`h-11 transition-all duration-200 placeholder:text-white/30 ${ue?"pl-10":""} ${_e?"border-red-500/50 focus:border-red-400 focus:ring-red-400/20 bg-red-500/10 text-foreground":"border-white/15 focus:border-gold-400 focus:ring-gold-400/20 bg-white/5 text-foreground"}`}),fe&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:fe})]}),_e&&s.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[s.jsx(di,{className:"w-4 h-4"}),S[C]]})]})};return s.jsxs("div",{className:"min-h-screen bg-background flex flex-col relative",children:[s.jsx("div",{className:"border-b border-gold-400/10 bg-navy-800/60 backdrop-blur-xl",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex items-center justify-between h-16",children:s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("button",{onClick:()=>P("/"),className:"flex items-center space-x-3 hover:opacity-80 transition-opacity cursor-pointer",children:[s.jsx("div",{className:"crescent-moon mr-1"}),s.jsx("span",{className:"text-lg font-semibold text-gold-300 tracking-wide",children:"UMMA Stewards"})]})})})})}),s.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:s.jsxs(Te,{className:"w-full max-w-md border border-white/10 bg-white/5 backdrop-blur-xl shadow-2xl shadow-black/30 golden-glow",children:[s.jsxs(Lt,{className:"space-y-2 text-center pb-6",children:[a&&s.jsx("button",{onClick:()=>l(!1),className:"absolute left-4 top-4 p-2 text-white/40 hover:text-gold-300 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(nc,{className:"w-5 h-5"})}),s.jsx(Ft,{className:"text-2xl font-semibold text-foreground",children:a?"Reset Password":o?"Create POC Account":"Welcome back"}),s.jsx(Wr,{className:"text-white/60 text-base",children:a?"Enter your email to receive a password reset link":o?"Sign up as a Point of Contact to organize events":"Sign in to access your dashboard"})]}),s.jsxs(Ie,{className:"space-y-6",children:[s.jsx("form",{onSubmit:$,className:"space-y-5",noValidate:!0,children:a?s.jsx("div",{className:"space-y-4",children:Y("email","Email","email","hello@example.com",e,C=>I("email",C),!0,s.jsx(Nu,{className:"w-4 h-4"}))}):s.jsxs(s.Fragment,{children:[o&&s.jsxs("div",{className:"space-y-4",children:[Y("firstName","First Name","text","Your first name",c,C=>I("firstName",C),!0,s.jsx(Cp,{className:"w-4 h-4"})),Y("lastName","Last Name","text","Your last name",u,C=>I("lastName",C),!0,s.jsx(Cp,{className:"w-4 h-4"})),Y("phone","Phone Number","tel","+1 (555) 123-4567",p,C=>I("phone",C),!0,s.jsx(xv,{className:"w-4 h-4"})),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(re,{htmlFor:"gender",className:"text-sm font-medium text-white/80",children:["Gender ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("button",{type:"button",onClick:()=>I("gender","brother"),className:`p-3 text-center rounded-lg border-2 transition-all duration-200 ${y==="brother"?"border-gold-400 bg-gold-400 text-navy-900":"border-white/15 text-white/70 hover:border-gold-400/50 hover:bg-gold-400/10"}`,children:"Brother"}),s.jsx("button",{type:"button",onClick:()=>I("gender","sister"),className:`p-3 text-center rounded-lg border-2 transition-all duration-200 ${y==="sister"?"border-gold-400 bg-gold-400 text-navy-900":"border-white/15 text-white/70 hover:border-gold-400/50 hover:bg-gold-400/10"}`,children:"Sister"})]}),E.gender&&S.gender&&s.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[s.jsx(di,{className:"w-4 h-4"}),S.gender]})]}),Y("pocCode","POC Verification Code","text","Enter POC verification code",v,C=>I("pocCode",C),!0,s.jsx(Sp,{className:"w-4 h-4"})),s.jsxs("div",{className:"text-sm text-white/50 bg-white/5 p-3 rounded-lg border border-white/10",children:[s.jsx("strong",{children:"Note:"})," This code is provided by your organization to verify you are a Point of Contact (POC)."]})]}),Y("email","Email","email","hello@example.com",e,C=>I("email",C),!0,s.jsx(Nu,{className:"w-4 h-4"})),!a&&s.jsxs("div",{className:"space-y-4",children:[Y("password","Password",j?"text":"password","",r,C=>I("password",C),!0,s.jsx(bO,{className:"w-4 h-4"}),s.jsx("button",{type:"button",onClick:()=>T(!j),className:"text-white/40 hover:text-white/70 transition-colors",children:j?s.jsx(Ai,{className:"w-4 h-4"}):s.jsx(Ii,{className:"w-4 h-4"})})),o&&s.jsx("div",{className:"text-sm text-white/50",children:"Password must be at least 6 characters long"})]}),!a&&!o&&s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("button",{type:"button",onClick:()=>l(!0),className:"text-sm text-gold-400 hover:text-gold-300 hover:underline font-medium",children:"Forgot password?"})}),s.jsx(W,{type:"submit",className:"w-full h-11 bg-gold-400 hover:bg-gold-300 text-navy-900 font-medium rounded-lg shadow-lg button-glow transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:x,children:x?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Processing..."})]}):s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:a?"Send Reset Link":o?"Create Account":"Sign In"}),s.jsx(m1,{className:"w-4 h-4"})]})})]})}),s.jsx("div",{className:"text-center space-y-4",children:a?s.jsxs("div",{className:"text-sm text-white/50",children:["Remember your password?"," ",s.jsx("button",{type:"button",onClick:()=>l(!1),className:"text-gold-400 hover:text-gold-300 hover:underline font-medium",children:"Sign in here"})]}):o?s.jsxs("div",{className:"text-sm text-white/50",children:["Already have an account?"," ",s.jsx("button",{type:"button",onClick:()=>i(!1),className:"text-gold-400 hover:text-gold-300 hover:underline font-medium",children:"Sign in here"})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-sm text-white/50",children:["New to volunteering at the UMMA?"," ",s.jsx("button",{type:"button",onClick:()=>i(!0),className:"text-gold-400 hover:text-gold-300 hover:underline font-medium",children:"Create an account"})]}),s.jsx("div",{className:"text-sm text-white/50",children:s.jsx("button",{type:"button",onClick:()=>l(!0),className:"text-gold-400 hover:text-gold-300 hover:underline font-medium",children:"Forgot your password?"})})]})})]})]})})]})},$9=()=>{const e=Fr(),{toast:t}=Xt(),[r,n]=h.useState("Finalizing sign-in"),o=async()=>{try{const{data:i,error:a}=await K.auth.getUser();if(a||!(i!=null&&i.user))return;const l=i.user,c=l.user_metadata||{},d=c.phone,u=c.full_name||"",m=c.gender||null,p=l.email||null;if(!d)return;const{error:f}=await K.from("contacts").upsert([{name:u,phone:d,email:p,gender:m,source:"account_signup",user_id:l.id,role:"poc",updated_at:new Date().toISOString()}],{onConflict:"phone"});f&&console.error("ensurePocContact upsert error:",f)}catch(i){console.error("ensurePocContact unexpected error:",i)}};return h.useEffect(()=>{(async()=>{try{const a=(window.location.hash||"").includes("access_token="),c=new URL(window.location.href).searchParams.get("redirect")||"/dashboard";if(a){n("Verifying your session");const d=window.location.hash.startsWith("#")?window.location.hash.substring(1):window.location.hash,u=new URLSearchParams(d),m=u.get("access_token"),p=u.get("refresh_token");if(m&&p){const{error:f}=await K.auth.setSession({access_token:m,refresh_token:p});if(f)throw f;window.history.replaceState(null,document.title,window.location.pathname+window.location.search),await o(),t({title:"Welcome",description:"You're signed in."}),e(c,{replace:!0});return}t({title:"Link no longer valid",description:"That sign-in link may have been used already or expired. Please sign in again."}),e("/login?notice=link_expired",{replace:!0});return}else{n("Exchanging verification code");const{data:d,error:u}=await K.auth.exchangeCodeForSession(window.location.href);if(u)throw u;if(d!=null&&d.session){await o(),t({title:"Welcome",description:"You're signed in."}),e(c,{replace:!0});return}t({title:"Link no longer valid",description:"That sign-in link was already used or has expired. Please sign in again."}),e("/login?notice=link_expired",{replace:!0});return}n("We couldn't complete sign-in. Redirecting to login"),setTimeout(()=>e("/login",{replace:!0}),1200)}catch(a){console.error("Auth callback error:",a);const l=String((a==null?void 0:a.message)||"").toLowerCase();if(l.includes("auth code")&&l.includes("code verifier")){t({title:"Link no longer valid",description:"That sign-in link was already used or has expired. Please sign in again."}),e("/login?notice=link_expired",{replace:!0});return}t({title:"Sign-in failed",description:"We couldn't complete sign-in. Please try again.",variant:"destructive"}),e("/login?notice=invalid_callback",{replace:!0})}})()},[e,t]),s.jsx("div",{className:"min-h-screen flex items-center justify-center px-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-6 h-6 mx-auto mb-3 border-2 border-white/20 border-t-gold-400 rounded-full animate-spin"}),s.jsx("div",{className:"text-white/70 mb-2",children:r}),s.jsxs("div",{className:"text-sm text-white/50",children:["If this takes more than a few seconds,",s.jsx("button",{className:"ml-1 text-gold-400 underline",onClick:()=>e("/login",{replace:!0}),children:"continue to login"}),"."]})]})})},L9=()=>{const[e,t]=h.useState(""),[r,n]=h.useState(""),[o,i]=h.useState(!1),[a,l]=h.useState(!1),[c,d]=h.useState(""),u=Fr(),[m]=j_(),{toast:p}=Xt(),f=(()=>{try{return new URL(window.location.href).searchParams.get("redirect")||"/dashboard"}catch{return"/dashboard"}})();h.useEffect(()=>{const g=m.get("access_token"),v=m.get("refresh_token");if(!g||!v){d("Invalid password reset link. Please request a new one.");return}(async()=>{const{error:x}=await K.auth.setSession({access_token:g,refresh_token:v});x&&(console.error("Session error:",x),d("Invalid or expired password reset link. Please request a new one."))})()},[m]);const y=async g=>{if(g.preventDefault(),e!==r){d("Passwords do not match");return}if(e.length<6){d("Password must be at least 6 characters long");return}i(!0),d("");try{const{error:v}=await K.auth.updateUser({password:e});v?(console.error("Password update error:",v),d(v.message)):(l(!0),p({title:"Password Updated",description:"Your password has been successfully updated. You can now sign in with your new password."}),setTimeout(()=>{u(f,{replace:!0})},1500))}catch(v){console.error("Password reset error:",v),d("An unexpected error occurred. Please try again.")}finally{i(!1)}};return c&&!m.get("access_token")?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(Te,{className:"w-full max-w-md border-white/10 bg-white/5 backdrop-blur-xl shadow-xl golden-glow",children:[s.jsxs(Lt,{className:"space-y-1 text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-red-500/100/10 rounded-full flex items-center justify-center mb-4",children:s.jsx(di,{className:"w-6 h-6 text-red-400"})}),s.jsx(Ft,{className:"text-2xl text-foreground",children:"Invalid Link"}),s.jsx(Wr,{className:"text-white/50",children:c})]}),s.jsx(Ie,{className:"text-center",children:s.jsx(W,{onClick:()=>u("/login"),className:"bg-gradient-to-r from-gold-400 to-gold-500 hover:from-gold-300 hover:to-gold-400 text-white",children:"Return to Login"})})]})}):a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(Te,{className:"w-full max-w-md border-white/10 bg-white/5 backdrop-blur-xl shadow-xl golden-glow",children:s.jsxs(Lt,{className:"space-y-1 text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-emerald-500/15 rounded-full flex items-center justify-center mb-4",children:s.jsx(Pa,{className:"w-6 h-6 text-emerald-400"})}),s.jsx(Ft,{className:"text-2xl text-foreground",children:"Password Updated!"}),s.jsx(Wr,{className:"text-white/50",children:"Your password has been successfully updated. Redirecting you to login..."})]})})}):s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[s.jsxs("div",{className:"absolute top-8 left-8 flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gold-400 to-gold-500 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(v1,{className:"w-6 h-6 text-white"})}),s.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-gold-400 to-gold-300 bg-clip-text text-transparent",children:"EasyEvent"})]}),s.jsxs(Te,{className:"w-full max-w-md border-white/10 bg-white/5 backdrop-blur-xl shadow-xl golden-glow",children:[s.jsxs(Lt,{className:"space-y-1 text-center",children:[s.jsx(Ft,{className:"text-2xl text-foreground",children:"Set New Password"}),s.jsx(Wr,{className:"text-white/50",children:"Enter your new password below"})]}),s.jsxs(Ie,{children:[s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"password",className:"text-foreground",children:"New Password"}),s.jsx(he,{id:"password",type:"password",placeholder:"Enter your new password",value:e,onChange:g=>t(g.target.value),required:!0,className:"border-white/15 focus:border-gold-400",minLength:6})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"confirmPassword",className:"text-foreground",children:"Confirm New Password"}),s.jsx(he,{id:"confirmPassword",type:"password",placeholder:"Confirm your new password",value:r,onChange:g=>n(g.target.value),required:!0,className:"border-white/15 focus:border-gold-400",minLength:6})]}),c&&s.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-400",children:c})}),s.jsx(W,{type:"submit",className:"w-full bg-gradient-to-r from-gold-400 to-gold-500 hover:from-gold-300 hover:to-gold-400 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",disabled:o,children:o?"Updating Password...":"Update Password"})]}),s.jsx("div",{className:"mt-6 text-center text-sm",children:s.jsx("button",{type:"button",onClick:()=>u("/login"),className:"text-white/50 hover:text-white/70 hover:underline font-medium",children:"Back to Login"})})]})]})]})},F9=()=>{const e=Ka();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white/10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-white/50 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-gold-400 hover:text-gold-300 underline",children:"Return to Home"})]})})},U9=new n5,B9=()=>s.jsx(o5,{client:U9,children:s.jsxs(PI,{children:[s.jsx("div",{className:"stars-bg","aria-hidden":"true"}),s.jsx(hD,{}),s.jsx(WD,{}),s.jsx(rM,{children:s.jsxs(X5,{children:[s.jsx(Cr,{path:"/",element:s.jsx(DF,{})}),s.jsx(Cr,{path:"/login",element:s.jsx(M9,{})}),s.jsx(Cr,{path:"/auth/callback",element:s.jsx($9,{})}),s.jsx(Cr,{path:"/reset-password",element:s.jsx(L9,{})}),s.jsx(Cr,{path:"/dashboard",element:s.jsx(GU,{})}),s.jsx(Cr,{path:"/events/create",element:s.jsx(ub,{})}),s.jsx(Cr,{path:"/events/:eventId/edit",element:s.jsx(ub,{})}),s.jsx(Cr,{path:"/:slug/checkin",element:s.jsx(l9,{})}),s.jsx(Cr,{path:"/:eventSlug",element:s.jsx(k9,{})}),s.jsx(Cr,{path:"/templates",element:s.jsx(T9,{})}),s.jsx(Cr,{path:"/recently-deleted",element:s.jsx(P9,{})}),s.jsx(Cr,{path:"/contacts",element:s.jsx(y7,{})}),s.jsx(Cr,{path:"/settings",element:s.jsx(I9,{})}),s.jsx(Cr,{path:"*",element:s.jsx(F9,{})})]})})]})});BN(document.getElementById("root")).render(s.jsx(B9,{}));
